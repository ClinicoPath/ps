<div *ngIf="plotOptions && project" class="content">
  <fieldset>
    <legend>Global</legend>
    <div class="form-group">
      <label for="plot-font-family">Font family</label>
      <select #fontFamily id="plot-font-family" class="form-control"
        [value]="plotOptions.fontFamily"
        (change)="changeAttribute('fontFamily', fontFamily.value)">
        <option value="">Default</option>
        <option value="serif">Serif</option>
        <option value="sans">Sans-serif</option>
        <option value="monospace">Monospace</option>
        <option>Bungee Shade</option>
        <option>Sancreek</option>
      </select>
    </div>
    <div class="form-group">
      <label for="plot-palette-theme">Color palette</label>
      <select #paletteTheme id="plot-palette-theme" class="form-control"
        [value]="plotOptions.paletteTheme"
        (change)="changeAttribute('paletteTheme', paletteTheme.value)">
        <option value="typical">Default</option>
        <option value="plasma">Plasma</option>
        <option value="viridis">Viridis</option>
        <option value="magma">Magma</option>
        <option value="pattern">Pattern</option>
      </select>
    </div>
    <div class="row">
      <div class="col-sm-6">
        <label for="plot-font-size">Font size: {{plotOptions.fontSize}}</label>
        <div class="input-group">
          <input #fontSize id="plot-font-size" class="form-control"
            type="range" min="0.1" max="2" step="0.1"
            [value]="plotOptions.fontSize"
            (change)="changeNumberAttribute('fontSize', fontSize.value)"
            (input)="changeNumberAttribute('fontSize', fontSize.value)" />
        </div>
      </div>
      <div class="col-sm-6">
        <label for="plot-axis-font-size">Axis font size: {{plotOptions.axisFontSize}}</label>
        <div class="input-group">
          <input #axisFontSize id="plot-axis-font-size" class="form-control"
            type="range" min="0.1" max="2" step="0.1"
            [value]="plotOptions.axisFontSize"
            (change)="changeNumberAttribute('axisFontSize', axisFontSize.value)"
            (input)="changeNumberAttribute('axisFontSize', axisFontSize.value)" />
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-6">
        <label for="plot-line-width">Line width: {{plotOptions.lineWidth}}</label>
        <div class="input-group">
          <input #lineWidth id="plot-line-width" class="form-control"
            type="range" min="0.1" max="2" step="0.1"
            [value]="plotOptions.lineWidth"
            (change)="changeNumberAttribute('lineWidth', lineWidth.value)"
            (input)="changeNumberAttribute('lineWidth', lineWidth.value)" />
        </div>
      </div>
      <div class="col-sm-6">
        <label for="plot-axis-line-width">Axis line width: {{plotOptions.axisLineWidth}}</label>
        <div class="input-group">
          <input #axisLineWidth id="plot-axis-line-width" class="form-control"
            type="range" min="0.1" max="2" step="0.1"
            [value]="plotOptions.axisLineWidth"
            (change)="changeNumberAttribute('axisLineWidth', axisLineWidth.value)"
            (input)="changeNumberAttribute('axisLineWidth', axisLineWidth.value)" />
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="plot-line-style">Line style</label>
      <select #lineStyle id="plot-line-style" class="form-control"
        [value]="plotOptions.lineStyle"
        (change)="changeAttribute('lineStyle', lineStyle.value)">
        <option value="solid">Solid</option>
        <option value="short-dash">Short Dash</option>
        <option value="medium-dash">Medium Dash</option>
        <option value="long-dash">Long Dash</option>
        <option value="dot">Dotted</option>
      </select>
    </div>
    <div class="form-check">
      <label class="form-check-label">
        <input #showLegendBox class="form-check-input" type="checkbox"
          [checked]="plotOptions.showLegendBox"
          (change)="changeAttribute('showLegendBox', showLegendBox.checked)"
          (input)="changeAttribute('showLegendBox', showLegendBox.checked)" />
        Display legend background
      </label>
    </div>
  </fieldset>
  <fieldset>
    <legend *ngIf="model.output == 'n' || model.output == 'nByCI'">Sample Size</legend>
    <legend *ngIf="model.output == 'power'">Power</legend>
    <legend *ngIf="model.output == 'delta'">Detectable Alternative</legend>
    <div class="row">
      <div class="col-sm">
        <label for="plot-top-y-min">Minimum</label>
        <div class="input-group">
          <ng-template [ngIf]="model.output == 'n' || model.output == 'nByCI'">
            <input #nRangeMin *ngIf="project.nRange" class="form-control"
              type="number" step="0.01" [max]="(project.nRange.max - 1) | round"
              [value]="project.nRange.min | round"
              (change)="changeProjectRange('n', 'min', nRangeMin.value)"
              (input)="changeProjectRange('n', 'min', nRangeMin.value, true)"/>
          </ng-template>
          <ng-template [ngIf]="model.output == 'power'">
            <input #powerRangeMin *ngIf="project.powerRange" class="form-control"
              type="number" step="0.01" [max]="(project.powerRange.max - 0.01) | round"
              [value]="project.powerRange.min | round"
              (change)="changeProjectRange('power', 'min', powerRangeMin.value)"
              (input)="changeProjectRange('power', 'min', powerRangeMin.value, true)"/>
          </ng-template>
          <ng-template [ngIf]="model.output == 'delta'">
            <input #deltaRangeMin *ngIf="project.deltaRange" class="form-control"
              type="number" step="0.01" [max]="(project.deltaRange.max - 0.01) | round"
              [value]="project.deltaRange.min | round"
              (change)="changeProjectRange('delta', 'min', deltaRangeMin.value)"
              (input)="changeProjectRange('delta', 'min', deltaRangeMin.value, true)"/>
          </ng-template>
        </div>
      </div>
      <div class="col-sm">
        <label for="plot-top-y-max">Maximum</label>
        <div class="input-group">
          <ng-template [ngIf]="model.output == 'n' || model.output == 'nByCI'">
            <input #nRangeMax *ngIf="project.nRange" class="form-control"
              type="number" step="0.01" [min]="(project.nRange.min + 1) | round"
              [value]="project.nRange.max | round"
              (change)="changeProjectRange('n', 'max', nRangeMax.value)"
              (input)="changeProjectRange('n', 'max', nRangeMax.value, true)"/>
          </ng-template>
          <ng-template [ngIf]="model.output == 'power'">
            <input #powerRangeMax *ngIf="project.powerRange" class="form-control"
              type="number" step="0.01" [min]="(project.powerRange.min + 0.01) | round"
              [value]="project.powerRange.max | round"
              (change)="changeProjectRange('power', 'max', powerRangeMax.value)"
              (input)="changeProjectRange('power', 'max', powerRangeMax.value, true)"/>
          </ng-template>
          <ng-template [ngIf]="model.output == 'delta'">
            <input #deltaRangeMax *ngIf="project.deltaRange" class="form-control"
              type="number" step="0.01" [min]="(project.deltaRange.min + 0.01) | round"
              [value]="project.deltaRange.max | round"
              (change)="changeProjectRange('delta', 'max', deltaRangeMax.value)"
              (input)="changeProjectRange('delta', 'max', deltaRangeMax.value, true)"/>
          </ng-template>
        </div>
      </div>
    </div>
  </fieldset>
  <fieldset>
    <ng-template [ngIf]="model.output == 'n' || model.output == 'nByCI'">
      <legend>Sample Size vs. Power</legend>
      <div class="row">
        <div class="col-sm">
          <label for="plot-top-left-x-min">X minimum</label>
          <div class="input-group">
            <input #powerRangeMin *ngIf="project.powerRange" class="form-control"
              type="number" step="0.01" [max]="(project.powerRange.max - 0.01) | round"
              [value]="project.powerRange.min | round"
              (change)="changeProjectRange('power', 'min', powerRangeMin.value)"
              (input)="changeProjectRange('power', 'min', powerRangeMin.value, true)"/>
          </div>
        </div>
        <div class="col-sm">
          <label for="plot-top-left-x-max">X maximum</label>
          <div class="input-group">
            <input #powerRangeMax *ngIf="project.powerRange" class="form-control"
              type="number" step="0.01" [min]="(project.powerRange.min + 0.01) | round"
              [value]="project.powerRange.max | round"
              (change)="changeProjectRange('power', 'max', powerRangeMax.value)"
              (input)="changeProjectRange('power', 'max', powerRangeMax.value, true)"/>
          </div>
        </div>
      </div>
    </ng-template>
    <ng-template [ngIf]="model.output == 'power'">
      <legend>Power vs. Sample Size</legend>
      <div class="row">
        <div class="col-sm">
          <label for="plot-top-left-x-min">X minimum</label>
          <div class="input-group">
            <input #nRangeMin *ngIf="project.nRange" class="form-control"
              type="number" step="0.01" [max]="(project.nRange.max - 1) | round"
              [value]="project.nRange.min | round"
              (change)="changeProjectRange('n', 'min', nRangeMin.value)"
              (input)="changeProjectRange('n', 'min', nRangeMin.value, true)"/>
          </div>
        </div>
        <div class="col-sm">
          <label for="plot-top-left-x-max">X maximum</label>
          <div class="input-group">
            <input #nRangeMax *ngIf="project.nRange" class="form-control"
              type="number" step="0.01" [min]="(project.nRange.min + 1) | round"
              [value]="project.nRange.max | round"
              (change)="changeProjectRange('n', 'max', nRangeMax.value)"
              (input)="changeProjectRange('n', 'max', nRangeMax.value, true)"/>
          </div>
        </div>
      </div>
    </ng-template>
    <ng-template [ngIf]="model.output == 'delta'">
      <legend>Detectable Alternative vs. Sample Size</legend>
      <div class="row">
        <div class="col-sm">
          <label for="plot-top-left-x-min">X minimum</label>
          <div class="input-group">
            <input #nRangeMin *ngIf="project.nRange" class="form-control"
              type="number" step="0.01" [max]="(project.nRange.max - 1) | round"
              [value]="project.nRange.min | round"
              (change)="changeProjectRange('n', 'min', nRangeMin.value)"
              (input)="changeProjectRange('n', 'min', nRangeMin.value, true)"/>
          </div>
        </div>
        <div class="col-sm">
          <label for="plot-top-left-x-max">X maximum</label>
          <div class="input-group">
            <input #nRangeMax *ngIf="project.nRange" class="form-control"
              type="number" step="0.01" [min]="(project.nRange.min + 1) | round"
              [value]="project.nRange.max | round"
              (change)="changeProjectRange('n', 'max', nRangeMax.value)"
              (input)="changeProjectRange('n', 'max', nRangeMax.value, true)"/>
          </div>
        </div>
      </div>
    </ng-template>
  </fieldset>
  <fieldset>
    <ng-template [ngIf]="model.output == 'n' || model.output == 'nByCI'">
      <legend>Sample Size vs. Detectable Alternative</legend>
      <div class="row">
        <div class="col-sm">
          <label for="plot-top-right-x-min">X minimum</label>
          <div class="input-group">
            <input #deltaRangeMin *ngIf="project.deltaRange" class="form-control"
              type="number" step="0.01" [max]="(project.deltaRange.max - 1) | round"
              [value]="project.deltaRange.min | round"
              (change)="changeProjectRange('delta', 'min', deltaRangeMin.value)"
              (input)="changeProjectRange('delta', 'min', deltaRangeMin.value, true)"/>
          </div>
        </div>
        <div class="col-sm">
          <label for="plot-top-right-x-max">X maximum</label>
          <div class="input-group">
            <input #deltaRangeMax *ngIf="project.deltaRange" class="form-control"
              type="number" step="0.01" [min]="(project.deltaRange.min - 1) | round"
              [value]="project.deltaRange.max | round"
              (change)="changeProjectRange('delta', 'max', deltaRangeMax.value)"
              (input)="changeProjectRange('delta', 'max', deltaRangeMax.value, true)"/>
          </div>
        </div>
      </div>
    </ng-template>
    <ng-template [ngIf]="model.output == 'power'">
      <legend>Power vs. Detectable Alternative</legend>
      <div class="row">
        <div class="col-sm">
          <label for="plot-top-right-x-min">X minimum</label>
          <div class="input-group">
            <input #deltaRangeMin *ngIf="project.deltaRange" class="form-control"
              type="number" step="0.01" [max]="(project.deltaRange.max - 1) | round"
              [value]="project.deltaRange.min | round"
              (change)="changeProjectRange('delta', 'min', deltaRangeMin.value)"
              (input)="changeProjectRange('delta', 'min', deltaRangeMin.value, true)"/>
          </div>
        </div>
        <div class="col-sm">
          <label for="plot-top-right-x-max">X maximum</label>
          <div class="input-group">
            <input #deltaRangeMax *ngIf="project.deltaRange" class="form-control"
              type="number" step="0.01" [min]="(project.deltaRange.min - 1) | round"
              [value]="project.deltaRange.max | round"
              (change)="changeProjectRange('delta', 'max', deltaRangeMax.value)"
              (input)="changeProjectRange('delta', 'max', deltaRangeMax.value, true)"/>
          </div>
        </div>
      </div>
    </ng-template>
    <ng-template [ngIf]="model.output == 'delta'">
      <legend>Detectable Alternative vs. Power</legend>
      <div class="row">
        <div class="col-sm">
          <label for="plot-top-left-x-min">X minimum</label>
          <div class="input-group">
            <input #powerRangeMin *ngIf="project.powerRange" class="form-control"
              type="number" step="0.01" [max]="(project.powerRange.max - 0.01) | round"
              [value]="project.powerRange.min | round"
              (change)="changeProjectRange('power', 'min', powerRangeMin.value)"
              (input)="changeProjectRange('power', 'min', powerRangeMin.value, true)"/>
          </div>
        </div>
        <div class="col-sm">
          <label for="plot-top-left-x-max">X maximum</label>
          <div class="input-group">
            <input #powerRangeMax *ngIf="project.powerRange" class="form-control"
              type="number" step="0.01" [min]="(project.powerRange.min + 0.01) | round"
              [value]="project.powerRange.max | round"
              (change)="changeProjectRange('power', 'max', powerRangeMax.value)"
              (input)="changeProjectRange('power', 'max', powerRangeMax.value, true)"/>
          </div>
        </div>
      </div>
    </ng-template>
  </fieldset>
  <fieldset>
    <legend>Precision vs. Parameter Space</legend>
    <div class="row">
      <div class="col-sm">
        <label for="plot-bottom-x-min">X minimum</label>
        <div class="input-group">
          <input #pSpaceRangeMin *ngIf="project.pSpaceRange" class="form-control"
            type="number" step="0.01" [max]="(project.pSpaceRange.max - 1) | round"
            [value]="project.pSpaceRange.min | round"
            (change)="changeProjectRange('pSpace', 'min', pSpaceRangeMin.value)"
            (input)="changeProjectRange('pSpace', 'min', pSpaceRangeMin.value, true)"/>
        </div>
      </div>
      <div class="col-sm">
        <label for="plot-bottom-x-max">X maximum</label>
        <div class="input-group">
          <input #pSpaceRangeMax *ngIf="project.pSpaceRange" class="form-control"
            type="number" step="0.01" [min]="(project.pSpaceRange.min + 1) | round"
            [value]="project.pSpaceRange.max | round"
            (change)="changeProjectRange('pSpace', 'max', pSpaceRangeMax.value)"
            (input)="changeProjectRange('pSpace', 'max', pSpaceRangeMax.value, true)"/>
        </div>
      </div>
    </div>
  </fieldset>
  <button type="button" class="btn btn-primary" (click)="reset()">
    Reset all settings
  </button>
</div>
