function _templateObject35(){var e=_taggedTemplateLiteral([":@@ngb.toast.close-aria\u241ff4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8\u241f7819314041543176992:Close"]);return _templateObject35=function(){return e},e}function _templateObject34(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.AM\u241f69a1f176a93998876952adac57c3bc3863b6105e\u241f4592818992509942761:",":INTERPOLATION:"]);return _templateObject34=function(){return e},e}function _templateObject33(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.PM\u241f8d6e691e10306c1b34c6b26805151aaea320ef7f\u241f3564199131264287502:",":INTERPOLATION:"]);return _templateObject33=function(){return e},e}function _templateObject32(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.decrement-seconds\u241f5db47ac104294243a70eb9124fbea9d0004ddf69\u241f753633511487974857:Decrement seconds"]);return _templateObject32=function(){return e},e}function _templateObject31(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.increment-seconds\u241f912322ecee7d659d04dcf494a70e22e49d334b26\u241f5364772110539092174:Increment seconds"]);return _templateObject31=function(){return e},e}function _templateObject30(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.seconds\u241f4f2ed9e71a7c981db3e50ae2fedb28aff2ec4e6c\u241f8874012390997067175:Seconds"]);return _templateObject30=function(){return e},e}function _templateObject29(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.SS\u241febe38d36a40a2383c5fefa9b4608ffbda08bd4a3\u241f3628127143071124194:SS"]);return _templateObject29=function(){return e},e}function _templateObject28(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.decrement-minutes\u241fc1a6899e529c096da5b660385d4e77fe1f7ad271\u241f7447789825403243588:Decrement minutes"]);return _templateObject28=function(){return e},e}function _templateObject27(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.increment-minutes\u241ff5a4a3bc05e053f6732475d0e74875ec01c3a348\u241f180147720391025024:Increment minutes"]);return _templateObject27=function(){return e},e}function _templateObject26(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.decrement-hours\u241f147c7a19429da7d999e247d22e33fee370b1691b\u241f3651829882940481818:Decrement hours"]);return _templateObject26=function(){return e},e}function _templateObject25(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.increment-hours\u241fcb74bc1d625a6c1742f0d7d47306cf495780c218\u241f5939278348542933629:Increment hours"]);return _templateObject25=function(){return e},e}function _templateObject24(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.minutes\u241f41e62daa962947c0d23ded0981975d1bddf0bf38\u241f5531237363767747080:Minutes"]);return _templateObject24=function(){return e},e}function _templateObject23(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.MM\u241f72c8edf6a50068a05bde70991e36b1e881f4ca54\u241f1647282246509919852:MM"]);return _templateObject23=function(){return e},e}function _templateObject22(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.hours\u241f3bbce5fef7e1151da052a4e529453edb340e3912\u241f8070396816726827304:Hours"]);return _templateObject22=function(){return e},e}function _templateObject21(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.HH\u241fce676ab1d6d98f85c836381cf100a4a91ef95a1f\u241f4043638465245303811:HH"]);return _templateObject21=function(){return e},e}function _templateObject20(){var e=_taggedTemplateLiteral([":@@ngb.progressbar.value\u241f04d611d19c117c60c9e14d0a04399a027184bc77\u241f5214781723415385277:",":INTERPOLATION:%"]);return _templateObject20=function(){return e},e}function _templateObject19(){var e=_taggedTemplateLiteral([":@@ngb.pagination.last-aria\u241f5c729788ba138508aca1bec050b610f7bf81db3e\u241f4882268002141858767:Last"]);return _templateObject19=function(){return e},e}function _templateObject18(){var e=_taggedTemplateLiteral([":@@ngb.pagination.next-aria\u241ff732c304c7433e5a83ffcd862c3dce709a0f4982\u241f3885497195825665706:Next"]);return _templateObject18=function(){return e},e}function _templateObject17(){var e=_taggedTemplateLiteral([":@@ngb.pagination.previous-aria\u241f680d5c75b7fd8d37961083608b9fcdc4167b4c43\u241f4452427314943113135:Previous"]);return _templateObject17=function(){return e},e}function _templateObject16(){var e=_taggedTemplateLiteral([":@@ngb.pagination.first-aria\u241ff2f852318759c6396b5d3d17031d53817d7b38cc\u241f2241508602425256033:First"]);return _templateObject16=function(){return e},e}function _templateObject15(){var e=_taggedTemplateLiteral([":@@ngb.pagination.last\u241f49f27a460bc97e7e00be5b37098bfa79884fc7d9\u241f5277020320267646988:\xbb\xbb"]);return _templateObject15=function(){return e},e}function _templateObject14(){var e=_taggedTemplateLiteral([":@@ngb.pagination.next\u241fba9cbb4ff311464308a3627e4f1c3345d9fe6d7d\u241f5458177150283468089:\xbb"]);return _templateObject14=function(){return e},e}function _templateObject13(){var e=_taggedTemplateLiteral([":@@ngb.pagination.previous\u241f6e52b6ee77a4848d899dd21b591c6fd499e3aef3\u241f6479320895410098858:\xab"]);return _templateObject13=function(){return e},e}function _templateObject12(){var e=_taggedTemplateLiteral([":@@ngb.pagination.first\u241f656506dfd46380956a655f919f1498d018f75ca0\u241f6867721956102594380:\xab\xab"]);return _templateObject12=function(){return e},e}function _templateObject11(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.select-year\u241f8ceb09d002bf0c5d1cac171dfbffe1805d2b3962\u241f8852264961585484321:Select year"]);return _templateObject11=function(){return e},e}function _templateObject10(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.select-year\u241f8ceb09d002bf0c5d1cac171dfbffe1805d2b3962\u241f8852264961585484321:Select year"]);return _templateObject10=function(){return e},e}function _templateObject9(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.select-month\u241f1dbc84807f35518112f62e5775d1daebd3d8462b\u241f2253869508135064750:Select month"]);return _templateObject9=function(){return e},e}function _templateObject8(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.select-month\u241f1dbc84807f35518112f62e5775d1daebd3d8462b\u241f2253869508135064750:Select month"]);return _templateObject8=function(){return e},e}function _templateObject7(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.next-month\u241f4bd046985cfe13040d5ef0cd881edce0968a111a\u241f3628374603023447227:Next month"]);return _templateObject7=function(){return e},e}function _templateObject6(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.next-month\u241f4bd046985cfe13040d5ef0cd881edce0968a111a\u241f3628374603023447227:Next month"]);return _templateObject6=function(){return e},e}function _templateObject5(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.previous-month\u241fc3b08b07b5ab98e7cdcf18df39355690ab7d3884\u241f8586908745456864217:Previous month"]);return _templateObject5=function(){return e},e}function _templateObject4(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.previous-month\u241fc3b08b07b5ab98e7cdcf18df39355690ab7d3884\u241f8586908745456864217:Previous month"]);return _templateObject4=function(){return e},e}function _templateObject3(){var e=_taggedTemplateLiteral([":@@ngb.carousel.next\u241ff732c304c7433e5a83ffcd862c3dce709a0f4982\u241f3885497195825665706:Next"]);return _templateObject3=function(){return e},e}function _templateObject2(){var e=_taggedTemplateLiteral([":@@ngb.carousel.previous\u241f680d5c75b7fd8d37961083608b9fcdc4167b4c43\u241f4452427314943113135:Previous"]);return _templateObject2=function(){return e},e}function _templateObject(){var e=_taggedTemplateLiteral([":@@ngb.alert.close\u241ff4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8\u241f7819314041543176992:Close"]);return _templateObject=function(){return e},e}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _createSuper(e){return function(){var t,n=_getPrototypeOf(e);if(_isNativeReflectConstruct()){var r=_getPrototypeOf(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},crnd:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},fgPD:function(e,t,n){e.exports=function(){"use strict";var e=function(e,n){return t(e.slice(),n)};function t(e,t){"function"!=typeof t&&(t=function(e,t){return String(e).localeCompare(t)});var r=e.length;if(r<=1)return e;for(var i=new Array(r),o=1;o<r;o*=2){n(e,t,o,i);var a=e;e=i,i=a}return e}e.inplace=function(e,r){var i=t(e,r);return i!==e&&n(i,null,e.length,e),e};var n=function(e,t,n,r){var i,o,a,s,u,l=e.length,c=0,h=2*n;for(i=0;i<l;i+=h)for(a=(o=i+n)+n,o>l&&(o=l),a>l&&(a=l),s=i,u=o;;)if(s<o&&u<a)t(e[s],e[u])<=0?r[c++]=e[s++]:r[c++]=e[u++];else if(s<o)r[c++]=e[s++];else{if(!(u<a))break;r[c++]=e[u++]}};return e}()},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t);var i=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function a(e){setTimeout((function(){throw e}),0)}var s={closed:!0,next:function(e){},error:function(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;a(e)},complete:function(){}},u=Array.isArray||function(e){return e&&"number"==typeof e.length};function l(e){return null!==e&&"object"==typeof e}var c,h,f=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),d=((h=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a)n[a].remove(this);if(r(i))try{i.call(this)}catch(d){t=d instanceof f?p(d.errors):[d]}if(u(o))for(var s=-1,c=o.length;++s<c;){var h=o[s];if(l(h))try{h.unsubscribe()}catch(d){t=t||[],d instanceof f?t=t.concat(p(d.errors)):t.push(d)}}if(t)throw new f(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=((c=new h).closed=!0,c),h);function p(e){return e.reduce((function(e,t){return e.concat(t instanceof f?t.errors:t)}),[])}var v="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;switch(_classCallCheck(this,n),(o=t.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=s;break;case 1:if(!e){o.destination=s;break}if("object"==typeof e){e instanceof n?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(_assertThisInitialized(o))):(o.syncErrorThrowable=!0,o.destination=new m(_assertThisInitialized(o),e));break}default:o.syncErrorThrowable=!0,o.destination=new m(_assertThisInitialized(o),e,r,i)}return o}return _createClass(n,[{key:v,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(d),m=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a){var u,l;_classCallCheck(this,n),(u=t.call(this))._parentSubscriber=e;var c=_assertThisInitialized(u);return r(i)?l=i:i&&(l=i.next,o=i.error,a=i.complete,i!==s&&(r((c=Object.create(i)).unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=c,u._next=l,u._error=o,u._complete=a,u}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):a(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;a(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(a(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(g),y="function"==typeof Symbol&&Symbol.observable||"@@observable";function _(e){return e}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return k(t)}function k(e){return 0===e.length?_:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var w,C=((w=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof g)return e;if(e[v])return e[v]()}return e||t||n?new g(e,t,n):new g(s)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof g?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=x(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:y,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:k(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=x(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new w(e)},w);function x(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var S,T=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),M=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(d),P=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).destination=e,r}return n}(g),E=((S=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(n,[{key:v,value:function(){return new P(this)}},{key:"lift",value:function(e){var t=new O(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new T;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new T;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new T;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new T;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new T;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new M(this,e))}},{key:"asObservable",value:function(){var e=new C;return e.source=this,e}}]),n}(C)).create=function(e,t){return new O(e,t)},S),O=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):d.EMPTY}}]),n}(E);function R(e){return e&&"function"==typeof e.schedule}var A=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(g),I=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};var j="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",D=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function N(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var F=function(e){if(e&&"function"==typeof e[y])return r=e,function(e){var t=r[y]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(D(e))return I(e);if(N(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,a),e};if(e&&"function"==typeof e[j])return t=e,function(e){for(var n=t[j]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,r,i=l(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(i," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")};function L(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new A(e,n,r);if(!i.closed)return t instanceof C?t.subscribe(i):F(t)(i)}var V=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(g);function z(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new H(e,t))}}var H=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new U(e,this.project,this.thisArg))}}]),e}(),U=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(g);function B(e,t){return new C((function(n){var r=new d,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function q(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[y]}(e))return function(e,t){return new C((function(n){var r=new d;return r.add(t.schedule((function(){var i=e[y]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(N(e))return function(e,t){return new C((function(n){var r=new d;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(D(e))return B(e,t);if(function(e){return e&&"function"==typeof e[j]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new C((function(n){var r,i=new d;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[j](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof C?e:new C(F(e))}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(W((function(n,r){return q(e(n,r)).pipe(z((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new G(e,n))})}var G=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new X(e,this.project,this.concurrent))}}]),e}(),X=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=new A(this,t,n),i=this.destination;i.add(r);var o=L(this,e,void 0,void 0,r);o!==r&&i.add(o)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(V);function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return W(_,e)}function Q(e,t){return t?B(e,t):new C(I(e))}function $(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=t[t.length-1];return R(o)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof o&&(r=t.pop()),null===i&&1===t.length&&t[0]instanceof C?t[0]:Y(r)(Q(t,i))}function Z(){return function(e){return e.lift(new J(e))}}var K,J=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new ee(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),ee=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(g),te={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(K=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new d).add(this.source.subscribe(new ne(this.getSubject(),this))),e.closed&&(this._connection=null,e=d.EMPTY)),e}},{key:"refCount",value:function(){return Z()(this)}}]),n}(C).prototype)._subscribe},_isComplete:{value:K._isComplete,writable:!0},getSubject:{value:K.getSubject},connect:{value:K.connect},refCount:{value:K.refCount}},ne=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(P);function re(){return new E}function ie(){return function(e){return Z()((t=re,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,te);return r.source=e,r.subjectFactory=n,r})(e));var t}}function oe(e){return{toString:e}.toString()}function ae(e,t,n){return oe((function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=_construct(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}var se=ae("Inject",(function(e){return{token:e}})),ue=ae("Optional"),le=ae("Self"),ce=ae("SkipSelf"),he=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function fe(e){for(var t in e)if(e[t]===fe)return t;throw Error("Could not find renamed property on target object.")}function de(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function pe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ve(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function ge(e){return me(e,e[_e])||me(e,e[we])}function me(e,t){return t&&t.token===e?t:null}function ye(e){return e&&(e.hasOwnProperty(be)||e.hasOwnProperty(Ce))?e[be]:null}var _e=fe({"\u0275prov":fe}),be=fe({"\u0275inj":fe}),ke=fe({"\u0275provFallback":fe}),we=fe({ngInjectableDef:fe}),Ce=fe({ngInjectorDef:fe});function xe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(xe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Se(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var Te=fe({__forward_ref__:fe});function Me(e){return e.__forward_ref__=Me,e.toString=function(){return xe(this())},e}function Pe(e){return Ee(e)?e():e}function Ee(e){return"function"==typeof e&&e.hasOwnProperty(Te)&&e.__forward_ref__===Me}var Oe,Re="undefined"!=typeof globalThis&&globalThis,Ae="undefined"!=typeof window&&window,Ie="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,je="undefined"!=typeof global&&global,De=Re||je||Ae||Ie,Ne=fe({"\u0275cmp":fe}),Fe=fe({"\u0275dir":fe}),Le=fe({"\u0275pipe":fe}),Ve=fe({"\u0275mod":fe}),ze=fe({"\u0275loc":fe}),He=fe({"\u0275fac":fe}),Ue=fe({__NG_ELEMENT_ID__:fe}),Be=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=pe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),qe=new Be("INJECTOR",-1),We={},Ge=/\n/gm,Xe=fe({provide:String,useValue:fe}),Ye=void 0;function Qe(e){var t=Ye;return Ye=e,t}function $e(e){var t=Oe;return Oe=e,t}function Ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he.Default;if(void 0===Ye)throw new Error("inject() must be called from an injection context");return null===Ye?Je(e,void 0,t):Ye.get(e,t&he.Optional?null:void 0,t)}function Ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he.Default;return(Oe||Ze)(Pe(e),t)}function Je(e,t,n){var r=ge(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&he.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(xe(e),"]"))}function et(e){for(var t=[],n=0;n<e.length;n++){var r=Pe(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=he.Default,a=0;a<r.length;a++){var s=r[a];s instanceof ue||"Optional"===s.ngMetadataName||s===ue?o|=he.Optional:s instanceof ce||"SkipSelf"===s.ngMetadataName||s===ce?o|=he.SkipSelf:s instanceof le||"Self"===s.ngMetadataName||s===le?o|=he.Self:i=s instanceof se||s===se?s.token:s}t.push(Ke(i,o))}else t.push(Ke(r))}return t}var tt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:We;if(t===We){var n=new Error("NullInjectorError: No provider for ".concat(xe(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),nt=function e(){_classCallCheck(this,e)},rt=function e(){_classCallCheck(this,e)};function it(e,t){e.forEach((function(e){return Array.isArray(e)?it(e,t):t(e)}))}function ot(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function at(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function st(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function ut(e,t,n){var r=ct(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function lt(e,t){var n=ct(e,t);if(n>=0)return e[1|n]}function ct(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),a=e[o<<1];if(t===a)return o<<1;a>t?i=o:r=o+1}return~(i<<1)}(e,t)}var ht=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),ft=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),dt={},pt=[],vt=0;function gt(e){return oe((function(){var t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===ht.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||pt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ft.Emulated,id:"c",styles:e.styles||pt,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,a=e.features,s=e.pipes;return i.id+=vt++,i.inputs=kt(e.inputs,r),i.outputs=kt(e.outputs),a&&a.forEach((function(e){return e(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(mt)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(yt)}:null,i}))}function mt(e){return xt(e)||function(e){return e[Fe]||null}(e)}function yt(e){return function(e){return e[Le]||null}(e)}var _t={};function bt(e){var t={type:e.type,bootstrap:e.bootstrap||pt,declarations:e.declarations||pt,imports:e.imports||pt,exports:e.exports||pt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&oe((function(){_t[e.id]=e.type})),t}function kt(e,t){if(null==e)return dt;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var wt=gt;function Ct(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function xt(e){return e[Ne]||null}function St(e,t){return e.hasOwnProperty(He)?e[He]:null}function Tt(e,t){var n=e[Ve]||null;if(!n&&!0===t)throw new Error("Type ".concat(xe(e)," does not have '\u0275mod' property."));return n}function Mt(e){return Array.isArray(e)&&"object"==typeof e[1]}function Pt(e){return Array.isArray(e)&&!0===e[1]}function Et(e){return 0!=(8&e.flags)}function Ot(e){return 2==(2&e.flags)}function Rt(e){return 1==(1&e.flags)}function At(e){return null!==e.template}function It(e){return 0!=(512&e[2])}var jt=void 0;function Dt(e){return!!e.listen}var Nt={createRenderer:function(e,t){return void 0!==jt?jt:"undefined"!=typeof document?document:void 0}};function Ft(e){for(;Array.isArray(e);)e=e[0];return e}function Lt(e,t){return Ft(t[e+19])}function Vt(e,t){return Ft(t[e.index])}function zt(e,t){return e.data[t+19]}function Ht(e,t){return e[t+19]}function Ut(e,t){var n=t[e];return Mt(n)?n:n[0]}function Bt(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function qt(e){return 4==(4&e[2])}function Wt(e){return 128==(128&e[2])}function Gt(e,t){return null===e||null==t?null:e[t]}function Xt(e){e[18]=0}var Yt={lFrame:gn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Qt(){return Yt.bindingsEnabled}function $t(){return Yt.lFrame.lView}function Zt(){return Yt.lFrame.tView}function Kt(e){Yt.lFrame.contextLView=e}function Jt(){return Yt.lFrame.previousOrParentTNode}function en(e,t){Yt.lFrame.previousOrParentTNode=e,Yt.lFrame.isParent=t}function tn(){return Yt.lFrame.isParent}function nn(){Yt.lFrame.isParent=!1}function rn(){return Yt.checkNoChangesMode}function on(e){Yt.checkNoChangesMode=e}function an(){var e=Yt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function sn(){return Yt.lFrame.bindingIndex}function un(){return Yt.lFrame.bindingIndex++}function ln(e){var t=Yt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function cn(e,t){var n=Yt.lFrame;n.bindingIndex=n.bindingRootIndex=e,n.currentDirectiveIndex=t}function hn(){return Yt.lFrame.currentQueryIndex}function fn(e){Yt.lFrame.currentQueryIndex=e}function dn(e,t){var n=vn();Yt.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function pn(e,t){var n=vn(),r=e[1];Yt.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex}function vn(){var e=Yt.lFrame,t=null===e?null:e.child;return null===t?gn(e):t}function gn(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function mn(){var e=Yt.lFrame;return Yt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var yn=mn;function _n(){var e=mn();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function bn(){return Yt.lFrame.selectedIndex}function kn(e){Yt.lFrame.selectedIndex=e}function wn(){var e=Yt.lFrame;return zt(e.tView,e.selectedIndex)}function Cn(){Yt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function xn(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n];i.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,i.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,i.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,i.onDestroy)}}function Sn(e,t,n){Pn(e,t,3,n)}function Tn(e,t,n,r){(3&e[2])===n&&Pn(e,t,n,r)}function Mn(e,t){var n=e[2];(3&n)===t&&(n&=1023,n+=1,e[2]=n)}function Pn(e,t,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&e[18]:0;a<t.length;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(En(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function En(e,t,n,r){var i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[2]>>10<e[18]>>16&&(3&e[2])===t&&(e[2]+=1024,o.call(a)):o.call(a)}var On=function e(t,n,r){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Rn(e,t,n){for(var r=Dt(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?e.setAttribute(t,s,u,a):t.setAttributeNS(a,s,u)}else{var l=o,c=n[++i];In(l)?r&&e.setProperty(t,l,c):r?e.setAttribute(t,l,c):t.setAttribute(l,c),i++}}return i}function An(e){return 3===e||4===e||6===e}function In(e){return 64===e.charCodeAt(0)}function jn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||Dn(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function Dn(e,t,n,r,i){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Nn(e){return-1!==e}function Fn(e){return 32767&e}function Ln(e){return e>>16}function Vn(e,t){for(var n=Ln(e),r=t;n>0;)r=r[15],n--;return r}function zn(e){return"string"==typeof e?e:null==e?"":""+e}function Hn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():zn(e)}var Un=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(De);function Bn(e){return{name:"document",target:e.ownerDocument}}function qn(e){return e instanceof Function?e():e}var Wn=!0;function Gn(e){var t=Wn;return Wn=e,t}var Xn=0;function Yn(e,t){var n=$n(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Qn(r.data,e),Qn(t,null),Qn(r.blueprint,null));var i=Zn(e,t),o=e.injectorIndex;if(Nn(i))for(var a=Fn(i),s=Vn(i,t),u=s[1].data,l=0;l<8;l++)t[o+l]=s[a+l]|u[a+l];return t[o+8]=i,o}function Qn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function $n(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Zn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],r=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Kn(e,t,n){!function(e,t,n){var r="string"!=typeof n?n[Ue]:n.charCodeAt(0)||0;null==r&&(r=n[Ue]=Xn++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=t.data;128&i?a?s?u[e+7]|=o:u[e+6]|=o:s?u[e+5]|=o:u[e+4]|=o:a?s?u[e+3]|=o:u[e+2]|=o:s?u[e+1]|=o:u[e]|=o}(e,t,n)}function Jn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:he.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[Ue];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){dn(t,e);try{var a=o();if(null!=a||r&he.Optional)return a;throw new Error("No provider for ".concat(Hn(n),"!"))}finally{yn()}}else if("number"==typeof o){if(-1===o)return new ar(e,t);var s=null,u=$n(e,t),l=-1,c=r&he.Host?t[16][6]:null;for((-1===u||r&he.SkipSelf)&&(l=-1===u?Zn(e,t):t[u+8],or(r,!1)?(s=t[1],u=Fn(l),t=Vn(l,t)):u=-1);-1!==u;){l=t[u+8];var h=t[1];if(ir(o,u,h.data)){var f=tr(u,t,n,s,r,c);if(f!==er)return f}or(r,t[1].data[u+8]===c)&&ir(o,u,t)?(s=h,u=Fn(l),t=Vn(l,t)):u=-1}}}if(r&he.Optional&&void 0===i&&(i=null),0==(r&(he.Self|he.Host))){var d=t[9],p=$e(void 0);try{return d?d.get(n,i,r&he.Optional):Je(n,i,r&he.Optional)}finally{$e(p)}}if(r&he.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Hn(n),"]"))}var er={};function tr(e,t,n,r,i,o){var a=t[1],s=a.data[e+8],u=nr(s,a,n,null==r?Ot(s)&&Wn:r!=a&&3===s.type,i&he.Host&&o===s);return null!==u?rr(t,a,u,s):er}function nr(e,t,n,r,i){for(var o=e.providerIndexes,a=t.data,s=65535&o,u=e.directiveStart,l=o>>16,c=i?s+l:e.directiveEnd,h=r?s:s+l;h<c;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&At(d)&&d.type===n)return u}return null}function rr(e,t,n,r){var i=e[n],o=t.data;if(i instanceof On){var a=i;if(a.resolving)throw new Error("Circular dep for ".concat(Hn(o[n])));var s,u=Gn(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=$e(a.injectImpl)),dn(e,r);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.onChanges,i=t.onInit,o=t.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{a.injectImpl&&$e(s),Gn(u),a.resolving=!1,yn()}}return i}function ir(e,t,n){var r=64&e,i=32&e;return!!((128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e)}function or(e,t){return!(e&he.Self||e&he.Host&&t)}var ar=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return Jn(this._tNode,this._lView,e,void 0,t)}}]),e}();function sr(e){return oe((function(){var t=Object.getPrototypeOf(e.prototype).constructor,n=t[He]||function e(t){var n=t;if(Ee(t))return function(){var t=e(Pe(n));return t?t():null};var r=St(n);if(null===r){var i=ye(n);r=i&&i.factory}return r||null}(t);return null!==n?n:function(e){return new e}}))}function ur(e){return e.ngDebugContext}function lr(e){return e.ngOriginalError}function cr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var hr=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||cr}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?ur(e)?ur(e):this._findContext(lr(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=lr(e);t&&lr(t);)t=lr(t);return t}}]),e}(),fr=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),e}();function dr(e){return e instanceof fr?e.changingThisBreaksApplicationSecurity:e}var pr=!0,vr=!1;function gr(){return vr=!0,pr}var mr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,yr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,_r=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();function br(e){var t,n,r=(t=$t())&&t[12];return r?r.sanitize(_r.URL,e)||"":function(e,t){var n=function(e){return e instanceof fr&&e.getTypeName()||null}(e);if(null!=n&&"URL"!==n){if("ResourceURL"===n)return!0;throw new Error("Required a safe ".concat("URL",", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return"URL"===n}(e)?dr(e):(n=zn(e),(n=String(n)).match(mr)||n.match(yr)?n:(gr()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(n," (see http://g.co/ng/security#xss)")),"unsafe:"+n))}function kr(e,t){e.__ngContext__=t}function wr(e){throw new Error("Multiple components match node with tagname ".concat(e.tagName))}function Cr(){throw new Error("Cannot mix multi providers and regular providers")}function xr(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Sr(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==xr((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Tr(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function Mr(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(An(e[t]))return t;return e.length}(i),a=!1,s=0;s<t.length;s++){var u=t[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!Tr(e,u,n)||""===u&&1===t.length){if(Pr(r))return!1;a=!0}}else{var l=8&r?u:t[++s];if(8&r&&null!==e.attrs){if(!Sr(e.attrs,l,n)){if(Pr(r))return!1;a=!0}continue}var c=Er(8&r?"class":u,i,0==e.type&&"ng-template"!==e.tagName,n);if(-1===c){if(Pr(r))return!1;a=!0;continue}if(""!==l){var h;h=c>o?"":i[c+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==xr(f,l,0)||2&r&&l!==h){if(Pr(r))return!1;a=!0}}}}else{if(!a&&!Pr(r)&&!Pr(u))return!1;if(a&&Pr(u))continue;a=!1,r=u|1&r}}return Pr(r)||a}function Pr(e){return 0==(1&e)}function Er(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){if(e[n]===t)return n;n++}return-1}(t,e)}function Or(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(Mr(e,t[r],n))return!0;return!1}function Rr(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Ar(e,t){return e?":not("+t.trim()+")":t}function Ir(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&r){var s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Pr(a)||(t+=Ar(o,i),i=""),r=a,o=o||!Pr(r);n++}return""!==i&&(t+=Ar(o,i)),t}var jr={};function Dr(e){var t=e[3];return Pt(t)?t[3]:t}function Nr(e){Fr(Zt(),$t(),bn()+e,rn())}function Fr(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&Sn(t,i,n)}else{var o=e.preOrderHooks;null!==o&&Tn(t,o,0,n)}kn(n)}function Lr(e,t){return e<<17|t<<2}function Vr(e){return e>>17&32767}function zr(e){return 2|e}function Hr(e){return(131068&e)>>2}function Ur(e,t){return-131069&e|t<<2}function Br(e){return 1|e}function qr(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=e.data[o];fn(i),a.contentQueries(2,t[o],o)}}}function Wr(e,t,n){return Dt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Gr(e,t,n,r,i,o,a,s,u,l){var c=t.blueprint.slice();return c[0]=i,c[2]=140|r,Xt(c),c[3]=c[15]=e,c[8]=n,c[10]=a||e&&e[10],c[11]=s||e&&e[11],c[12]=u||e&&e[12]||null,c[9]=l||e&&e[9]||null,c[6]=o,c[16]=2==t.type?e[16]:c,c}function Xr(e,t,n,r,i,o){var a=n+19,s=e.data[a]||function(e,t,n,r,i,o){var a=Jt(),s=tn(),u=s?a:a&&a.parent,l=e.data[n]=ri(0,u&&u!==t?u:null,r,n,i,o);return null===e.firstChild&&(e.firstChild=l),a&&(!s||null!=a.child||null===l.parent&&2!==a.type?s||(a.next=l):a.child=l),l}(e,t,a,r,i,o);return en(s,!0),s}function Yr(e,t,n){pn(t,t[6]);try{var r=e.viewQuery;null!==r&&Ti(1,r,n);var i=e.template;null!==i&&Zr(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&qr(e,t),e.staticViewQueries&&Ti(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)ki(e,t[n])}(t,o)}finally{t[2]&=-5,_n()}}function Qr(e,t,n,r){var i=t[2];if(256!=(256&i)){pn(t,t[6]);var o=rn();try{Xt(t),Yt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Zr(e,t,n,2,r);var a=3==(3&i);if(!o)if(a){var s=e.preOrderCheckHooks;null!==s&&Sn(t,s,null)}else{var u=e.preOrderHooks;null!==u&&Tn(t,u,0,null),Mn(t,0)}if(function(e){for(var t=e[13];null!==t;){var n=void 0;if(Pt(t)&&(n=t[2])>>1==-1){for(var r=9;r<t.length;r++){var i=t[r],o=i[1];Wt(i)&&Qr(o,i,o.template,i[8])}0!=(1&n)&&_i(t,e[16])}t=t[4]}}(t),null!==e.contentQueries&&qr(e,t),!o)if(a){var l=e.contentCheckHooks;null!==l&&Sn(t,l)}else{var c=e.contentHooks;null!==c&&Tn(t,c,1),Mn(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var r=e.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(kn(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(cn(r,i),a(2,t[i])),i++)}}finally{kn(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)bi(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&Ti(2,f,r),!o)if(a){var d=e.viewCheckHooks;null!==d&&Sn(t,d)}else{var p=e.viewHooks;null!==p&&Tn(t,p,2),Mn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73)}finally{_n()}}}function $r(e,t,n,r){var i=t[10],o=!rn(),a=qt(t);try{o&&!a&&i.begin&&i.begin(),a&&Yr(e,t,r),Qr(e,t,n,r)}finally{o&&!a&&i.end&&i.end()}}function Zr(e,t,n,r,i){var o=bn();try{kn(-1),2&r&&t.length>19&&Fr(e,t,0,rn()),n(r,i)}finally{kn(o)}}function Kr(e,t,n){if(Et(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Jr(e,t,n){Qt()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Yn(n,t),kr(r,t);for(var a=n.initialInputs,s=i;s<o;s++){var u=e.data[s],l=At(u);l&&vi(t,n,u);var c=rr(t,e,s,n);kr(c,t),null!==a&&gi(0,s-i,c,u,0,a),l&&(Ut(n.index,t)[8]=c)}}(e,t,n,Vt(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=e.expandoInstructions,a=e.firstCreatePass,s=n.index-19;try{kn(s);for(var u=r;u<i;u++){var l=e.data[u],c=t[u];null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?li(l,c):a&&o.push(null)}}finally{kn(-1)}}(e,t,n))}function ei(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vt,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(t,e):e[a];e[i++]=s}}function ti(e){return e.tView||(e.tView=ni(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts))}function ni(e,t,n,r,i,o,a,s,u,l){var c=19+r,h=c+i,f=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:jr);return n}(c,h);return f[1]={type:e,id:t,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:l}}function ri(e,t,n,r,i,o){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ii(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function oi(e,t,n,r,i,o,a,s){var u,l,c=Vt(t,n),h=t.inputs;!s&&null!=h&&(u=h[r])?(Ri(e,n,u,r,i),Ot(t)&&function(e,t){var n=Ut(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(r="class"===(l=r)?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l,i=null!=a?a(i,t.tagName||"",r):i,Dt(o)?o.setProperty(c,r,i):In(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function ai(e,t,n,r){var i=!1;if(Qt()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Or(n,a.selectors,!1)&&(i||(i=[]),Kn(Yn(n,t),e,a.type),At(a)?(2&n.flags&&wr(n),hi(e,n),i.unshift(a)):i.push(a))}return i}(e,t,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,di(n,e.data.length,o.length);for(var u=0;u<o.length;u++){var l=o[u];l.providersResolver&&l.providersResolver(l)}ci(e,n,o.length);for(var c=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=jn(n.mergedAttrs,d.hostAttrs),pi(e,t,d),fi(e.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!c&&(d.onChanges||d.onInit||d.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-19),c=!0),h||!d.onChanges&&!d.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-19),h=!0),si(e,d),s+=d.hostVars}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],a=null,s=null,u=t.directiveStart;u<n;u++){var l=r[u],c=l.inputs;o.push(null!==i?mi(c,i):null),a=ii(c,u,a),s=ii(l.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=s}(e,n),ui(e,t,s)}a&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new Error("Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,a)}return n.mergedAttrs=jn(n.mergedAttrs,n.attrs),i}function si(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function ui(e,t,n){for(var r=0;r<n;r++)t.push(jr),e.blueprint.push(jr),e.data.push(null)}function li(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ci(e,t,n){var r=19-t.index,i=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,i,n)}function hi(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function fi(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;At(t)&&(n[""]=e)}}function di(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function pi(e,t,n){e.data.push(n);var r=n.factory||(n.factory=St(n.type)),i=new On(r,At(n),null);e.blueprint.push(i),t.push(i)}function vi(e,t,n){var r=Vt(t,e),i=ti(n),o=e[10],a=wi(e,Gr(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n)));e[t.index]=a}function gi(e,t,n,r,i,o){var a=o[t];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var l=a[u++],c=a[u++],h=a[u++];null!==s?r.setInput(n,h,l,c):n[c]=h}}function mi(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function yi(e,t,n,r){return new Array(e,!0,-2,t,null,null,r,n,null)}function _i(e,t){for(var n=e[5],r=0;r<n.length;r++){var i=n[r],o=i[3][3][16];if(o!==t&&0==(16&o[2])){var a=i[1];Qr(a,i,a.template,i[8])}}}function bi(e,t){var n=Ut(t,e);if(Wt(n)&&80&n[2]){var r=n[1];Qr(r,n,r.template,n[8])}}function ki(e,t){var n=Ut(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Yr(r,n,n[8])}function wi(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Ci(e){for(;e;){e[2]|=64;var t=Dr(e);if(It(e)&&!t)return e;e=t}return null}function xi(e,t,n){var r=t[10];r.begin&&r.begin();try{Qr(e,t,e.template,n)}catch(i){throw Oi(t,i),i}finally{r.end&&r.end()}}function Si(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=Bt(n),i=r[1];$r(i,r,i.template,n)}}(e[8])}function Ti(e,t,n){fn(0),t(e,n)}var Mi=Promise.resolve(null);function Pi(e){return e[7]||(e[7]=[])}function Ei(e){return e.cleanup||(e.cleanup=[])}function Oi(e,t){var n=e[9],r=n?n.get(hr,null):null;r&&r.handleError(t)}function Ri(e,t,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=t[a],l=e.data[a];null!==l.setInput?l.setInput(u,i,r,s):u[s]=i}}function Ai(e,t,n){var r=Lt(t,e),i=e[11];Dt(i)?i.setValue(r,n):r.textContent=n}function Ii(e,t){var n=t[3];return-1===e.index?Pt(n)?n:null:n}function ji(e,t){var n=Ii(e,t);return n?Gi(t[11],n[7]):null}function Di(e,t,n,r,i){if(null!=r){var o,a=!1;Pt(r)?o=r:Mt(r)&&(a=!0,r=r[0]);var s=Ft(r);0===e&&null!==n?null==i?qi(t,n,s):Bi(t,n,s,i||null):1===e&&null!==n?Bi(t,n,s,i||null):2===e?function(e,t,n){var r=Gi(e,t);r&&function(e,t,n,r){Dt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,s,a):3===e&&t.destroyNode(s),null!=o&&function(e,t,n,r,i){var o=n[7];o!==Ft(n)&&Di(t,e,r,o,i);for(var a=9;a<n.length;a++){var s=n[a];Zi(s[1],s,e,t,r,o)}}(t,e,o,n,i)}}function Ni(e,t,n,r){var i=ji(e.node,t);i&&Zi(e,t,t[11],n?1:2,i,r)}function Fi(e,t){var n=e[5],r=n.indexOf(t);n.splice(r,1)}function Li(e,t){if(!(e.length<=9)){var n=9+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&Fi(i,r),t>0&&(e[n-1][4]=r[4]);var o=at(e,9+t);Ni(r[1],r,!1,null);var a=o[5];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Vi(e,t){if(!(256&t[2])){var n=t[11];Dt(n)&&n.destroyNode&&Zi(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Hi(e[1],e);for(;t;){var n=null;if(Mt(t))n=t[13];else{var r=t[9];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Mt(t)&&Hi(t[1],t),t=zi(t,e);null===t&&(t=e),Mt(t)&&Hi(t[1],t),n=t&&t[4]}t=n}}(t)}}function zi(e,t){var n;return Mt(e)&&(n=e[6])&&2===n.type?Ii(n,e):e[3]===t?null:e[3]}function Hi(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];i instanceof On||n[r+1].call(i)}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var r=t[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(t):Ft(t[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&Dt(t[11])&&t[11].destroy();var r=t[17];if(null!==r&&Pt(t[3])){r!==t[3]&&Fi(r,t);var i=t[5];null!==i&&i.detachView(e)}}}function Ui(e,t,n){for(var r=t.parent;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r){var i=n[6];return 2===i.type?ji(i,n):n[0]}if(t&&5===t.type&&4&t.flags)return Vt(t,n).parentNode;if(2&r.flags){var o=e.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==ft.ShadowDom&&a!==ft.Native)return null}return Vt(r,n)}function Bi(e,t,n,r){Dt(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function qi(e,t,n){Dt(e)?e.appendChild(t,n):t.appendChild(n)}function Wi(e,t,n,r){null!==r?Bi(e,t,n,r):qi(e,t,n)}function Gi(e,t){return Dt(e)?e.parentNode(t):t.parentNode}function Xi(e,t){if(2===e.type){var n=Ii(e,t);return null===n?null:Qi(n.indexOf(t,9)-9,n)}return 4===e.type||5===e.type?Vt(e,t):null}function Yi(e,t,n,r){var i=Ui(e,r,t);if(null!=i){var o=t[11],a=Xi(r.parent||t[6],t);if(Array.isArray(n))for(var s=0;s<n.length;s++)Wi(o,i,n[s],a);else Wi(o,i,n,a)}}function Qi(e,t){var n=9+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return function e(t,n){if(null!==n){var r=n.type;if(3===r)return Vt(n,t);if(0===r)return Qi(-1,t[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return e(t,i);var o=t[n.index];return Pt(o)?Qi(-1,o):Ft(o)}var a=t[16],s=a[6],u=Dr(a),l=s.projection[n.projection];return null!=l?e(u,l):e(t,n.next)}return null}(r,i)}return t[7]}function $i(e,t,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===t&&(s&&kr(Ft(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?($i(e,t,n.child,r,i,o,!1),Di(t,e,i,s,o)):1===u?Ki(e,t,r,n,i,o):Di(t,e,i,s,o)),n=a?n.projectionNext:n.next}}function Zi(e,t,n,r,i,o){$i(n,r,e.node.child,t,i,o,!1)}function Ki(e,t,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Di(t,e,i,s[u],o);else $i(e,t,s,a[3],i,o,!0)}function Ji(e,t,n){Dt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function eo(e,t,n){Dt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var to,no,ro,io=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}return _createClass(e,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Vi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n,r;t=this._lView[1],r=e,Pi(n=this._lView).push(r),t.firstCreatePass&&Ei(t).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){Ci(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){xi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){on(!0);try{xi(e,t,n)}finally{on(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,Zi(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(Ft(a)),Pt(a))for(var s=9;s<a.length;s++){var u=a[s],l=u[1].firstChild;null!==l&&e(u[1],u,l,i)}var c=r.type;if(4===c||5===c)e(t,n,r.child,i);else if(1===c){var h=n[16],f=h[6],d=Dr(h),p=f.projection[r.projection];null!==p&&null!==d&&e(d[1],d,p,i,!0)}r=o?r.projectionNext:r.next}return i}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),e}(),oo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._view=e,r}return _createClass(n,[{key:"detectChanges",value:function(){Si(this._view)}},{key:"checkNoChanges",value:function(){!function(e){on(!0);try{Si(e)}finally{on(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(io);function ao(e,t,n){return to||(to=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(e)),new to(Vt(t,n))}function so(e,t,n,r){return no||(no=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._declarationView=e,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Gr(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[5];null!==r&&(n[5]=r.createEmbeddedView(t)),Yr(t,n,e);var i=new io(n);return i._tViewNode=n[6],i}}]),n}(e)),0===n.type?new no(r,n,ao(t,n,r)):null}function uo(e,t,n,r){var i;ro||(ro=function(e){_inherits(r,e);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=e,o._hostTNode=t,o._hostView=i,o}return _createClass(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var a=o.get(nt,null);a&&(i=a)}var s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Pt(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var o=n[3],a=new ro(o,o[6],o[3]);a.detach(a.indexOf(e))}}var s=this._adjustIndex(t);return function(e,t,n,r){var i=9+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-9?(t[4]=n[i],ot(n,9+r,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[5],r=t[3][3][16];16!=(16&r[2])&&t[16]!==r&&(e[2]|=1),null===n?e[5]=[t]:n.push(t)}(a,t);var s=t[5];null!==s&&s.insertView(e),t[2]|=128}(r,n,this._lContainer,s),Ni(r,n,!0,Qi(s,this._lContainer)),e.attachToViewContainerRef(this),ot(this._lContainer[8],s,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);(function(e,t){var n=Li(e,t);n&&Vi(n[1],n)})(this._lContainer,t),at(this._lContainer[8],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=Li(this._lContainer,t);return n&&null!=at(this._lContainer[8],t)?new io(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return ao(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new ar(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=Zn(this._hostTNode,this._hostView),t=Vn(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=Ln(e),a=t,s=t[6];o>1;)s=(a=a[15])[6],o--;return s}(e,this._hostView,this._hostTNode);return Nn(e)&&null!=n?new ar(n,t):new ar(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-9}}]),r}(e));var o=r[n.index];if(Pt(o))(function(e,t){e[2]=-2})(i=o);else{var a;if(4===n.type)a=Ft(o);else if(a=r[11].createComment(""),It(r)){var s=r[11],u=Vt(n,r);Bi(s,Gi(s,u),a,function(e,t){return Dt(e)?e.nextSibling(t):t.nextSibling}(s,u))}else Yi(r[1],r,a,n);r[n.index]=i=yi(o,r,a,n),wi(r,i)}return new ro(i,n,r)}var lo=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return co()},e}(),co=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&Ot(e)){var r=Ut(e.index,t);return new io(r,r)}return 3===e.type||0===e.type||4===e.type||5===e.type?new io(t[16],t):null}(Jt(),$t(),e)},ho=new Be("Set Injector scope."),fo={},po={},vo=[],go=void 0;function mo(){return void 0===go&&(go=new tt),go}function yo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new _o(e,n,t||mo(),r)}var _o=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&it(n,(function(e){return i.processProvider(e,t,n)})),it([t],(function(e){return i.processInjectorType(e,[],a)})),this.records.set(qe,wo(void 0,this));var s=this.records.get(ho);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof t?null:xe(t))}return _createClass(e,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:We,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:he.Default;this.assertNotDestroyed();var r,i=Qe(this);try{if(!(n&he.SkipSelf)){var o=this.records.get(e);if(void 0===o){var a=("function"==typeof(r=e)||"object"==typeof r&&r instanceof Be)&&ge(e);o=a&&this.injectableDefInScope(a)?wo(bo(e),fo):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&he.Self?mo():this.parent).get(e,t=n&he.Optional&&t===We?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(xe(e)),i)throw s;return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=xe(t);if(Array.isArray(t))i=t.map(xe).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):xe(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(Ge,"\n  "))}("\n"+e.message,i,"R3InjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,0,this.source)}throw s}finally{Qe(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(xe(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=Pe(e)))return!1;var i=ye(e),o=null==i&&e.ngModule||void 0,a=void 0===o?e:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=ye(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{it(i.imports,(function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))}))}finally{}if(void 0!==u)for(var l=function(e){var t=u[e],n=t.ngModule,i=t.providers;it(i,(function(e){return r.processProvider(e,n,i||vo)}))},c=0;c<u.length;c++)l(c)}this.injectorDefTypes.add(a),this.records.set(a,wo(i.factory,fo));var h=i.providers;if(null!=h&&!s){var f=e;it(h,(function(e){return r.processProvider(e,f,h)}))}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=xo(e=Pe(e))?e:Pe(e&&e.provide),i=function(e,t,n){return Co(e)?wo(void 0,e.useValue):wo(ko(e,t,n),fo)}(e,t,n);if(xo(e)||!0!==e.multi){var o=this.records.get(r);o&&void 0!==o.multi&&Cr()}else{var a=this.records.get(r);a?void 0===a.multi&&Cr():((a=wo(void 0,fo,!0)).factory=function(){return et(a.multi)},this.records.set(r,a)),r=e,a.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===po?function(e){throw new Error("Cannot instantiate cyclic dependency! ".concat(e))}(xe(e)):t.value===fo&&(t.value=po,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function bo(e){var t=ge(e),n=null!==t?t.factory:St(e);if(null!==n)return n;var r=ye(e);if(null!==r)return r.factory;if(e instanceof Be)throw new Error("Token ".concat(xe(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=st(t,"?");throw new Error("Can't resolve all parameters for ".concat(xe(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[_e]||e[we]||e[ke]&&e[ke]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in v10. Please add @Injectable() to the "'.concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function ko(e,t,n){var r,i=void 0;if(xo(e)){var o=Pe(e);return St(o)||bo(o)}if(Co(e))i=function(){return Pe(e.useValue)};else if((r=e)&&r.useFactory)i=function(){return e.useFactory.apply(e,_toConsumableArray(et(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return Ke(Pe(e.useExisting))};else{var a=Pe(e&&(e.useClass||e.provide));if(a||function(e,t,n){var r="";throw e&&t&&(r=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(xe(e),"'")+r)}(t,n,e),!function(e){return!!e.deps}(e))return St(a)||bo(a);i=function(){return _construct(a,_toConsumableArray(et(e.deps)))}}return i}function wo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Co(e){return null!==e&&"object"==typeof e&&Xe in e}function xo(e){return"function"==typeof e}var So=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=yo(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},To=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?So(e,t,""):So(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=We,e.NULL=new tt,e.\u0275prov=pe({token:e,providedIn:"any",factory:function(){return Ke(qe)}}),e.__NG_ELEMENT_ID__=-1,e}(),Mo=new Be("AnalyzeForEntryComponents"),Po=new Map,Eo=new Set;function Oo(e){return"string"==typeof e?e:e.text()}function Ro(e,t){for(var n=e.styles,r=e.classes,i=0,o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:1==i?r=Se(r,a):2==i&&(n=Se(n,a+": "+t[++o]+";"))}null!==n&&(e.styles=n),null!==r&&(e.classes=r)}var Ao=null;function Io(){if(!Ao){var e=De.Symbol;if(e&&e.iterator)Ao=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ao=r)}}return Ao}function jo(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}var Do=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function No(e){return!!Fo(e)&&(Array.isArray(e)||!(e instanceof Map)&&Io()in e)}function Fo(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Lo(e,t,n){return e[t]=n}function Vo(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function zo(e,t,n,r){var i=Vo(e,t,n);return Vo(e,t+1,r)||i}function Ho(e,t,n,r){var i=$t();return Vo(i,un(),t)&&(Zt(),function(e,t,n,r,i,o){var a=Vt(e,t),s=t[11];if(null==r)Dt(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var u=null==i?zn(r):i(r,e.tagName||"",n);Dt(s)?s.setAttribute(a,n,u,o):o?a.setAttributeNS(o,n,u):a.setAttribute(n,u)}}(wn(),i,e,t,n,r)),Ho}function Uo(e,t,n,r){return Vo(e,un(),n)?t+zn(n)+r:jr}function Bo(e,t,n,r,i,o){var a=zo(e,sn(),n,i);return ln(2),a?t+zn(n)+r+zn(i)+o:jr}function qo(e,t,n,r,i,o,a,s){var u=$t(),l=Zt(),c=e+19,h=l.firstCreatePass?function(e,t,n,r,i,o,a,s,u){var l=t.consts,c=Xr(t,n[6],e,0,a||null,Gt(l,s));ai(t,n,c,Gt(l,u)),xn(t,c);var h=c.tViews=ni(2,-1,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l),f=ri(0,null,2,-1,null,null);return f.injectorIndex=c.injectorIndex,h.node=f,null!==t.queries&&(t.queries.template(t,c),h.queries=t.queries.embeddedTView(c)),c}(e,l,u,t,n,r,i,o,a):l.data[c];en(h,!1);var f=u[11].createComment("");Yi(l,u,f,h),kr(f,u),wi(u,u[c]=yi(f,u,f,h)),Rt(h)&&Jr(l,u,h),null!=a&&ei(u,h,s)}function Wo(e){return Ht(Yt.lFrame.contextLView,e)}function Go(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he.Default,n=$t();return null==n?Ke(e,t):Jn(Jt(),n,Pe(e),t)}function Xo(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(An(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(Jt(),e)}function Yo(){throw new Error("invalid")}function Qo(e,t,n){var r=$t();return Vo(r,un(),t)&&oi(Zt(),wn(),r,e,t,r[11],n,!1),Qo}function $o(e,t,n,r,i){var o=i?"class":"style";Ri(e,n,t.inputs[o],o,r)}function Zo(e,t,n,r){var i=$t(),o=Zt(),a=19+e,s=i[11],u=i[a]=Wr(t,s,Yt.lFrame.currentNamespace),l=o.firstCreatePass?function(e,t,n,r,i,o,a){var s=t.consts,u=Gt(s,o),l=Xr(t,n[6],e,3,i,u);return ai(t,n,l,Gt(s,a)),null!==l.mergedAttrs&&Ro(l,l.mergedAttrs),null!==t.queries&&t.queries.elementStart(t,l),l}(e,o,i,0,t,n,r):o.data[a];en(l,!0);var c=l.mergedAttrs;null!==c&&Rn(s,u,c);var h=l.classes;null!==h&&eo(s,u,h);var f=l.styles;null!==f&&Ji(s,u,f),Yi(o,i,u,l),0===Yt.lFrame.elementDepthCount&&kr(u,i),Yt.lFrame.elementDepthCount++,Rt(l)&&(Jr(o,i,l),Kr(o,l,i)),null!==r&&ei(i,l)}function Ko(){var e=Jt();tn()?nn():en(e=e.parent,!1);var t=e;Yt.lFrame.elementDepthCount--;var n=Zt();n.firstCreatePass&&(xn(n,e),Et(e)&&n.queries.elementEnd(e)),null!==t.classes&&function(e){return 0!=(16&e.flags)}(t)&&$o(n,t,$t(),t.classes,!0),null!==t.styles&&function(e){return 0!=(32&e.flags)}(t)&&$o(n,t,$t(),t.styles,!1)}function Jo(e,t,n,r){Zo(e,t,n,r),Ko()}function ea(e,t,n){var r=$t(),i=Zt(),o=e+19,a=i.firstCreatePass?function(e,t,n,r,i){var o=t.consts,a=Gt(o,r),s=Xr(t,n[6],e,4,"ng-container",a);return null!==a&&Ro(s,a),ai(t,n,s,Gt(o,i)),null!==t.queries&&t.queries.elementStart(t,s),s}(e,i,r,t,n):i.data[o];en(a,!0);var s=r[o]=r[11].createComment("");Yi(i,r,s,a),kr(s,r),Rt(a)&&(Jr(i,r,a),Kr(i,a,r)),null!=n&&ei(r,a)}function ta(){var e=Jt(),t=Zt();tn()?nn():en(e=e.parent,!1),t.firstCreatePass&&(xn(t,e),Et(e)&&t.queries.elementEnd(e))}function na(){return $t()}function ra(e){return!!e&&"function"==typeof e.then}function ia(e){return!!e&&"function"==typeof e.subscribe}function oa(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=$t(),o=Zt(),a=Jt();return function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=Rt(r),l=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),c=Pi(t),h=!0;if(3===r.type){var f=Vt(r,t),d=s?s(f):dt,p=d.target||f,v=c.length,g=s?function(e){return s(Ft(e[r.index])).target}:r.index;if(Dt(n)){var m=null;if(!s&&u&&(m=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=t[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(e,t,i,r.index)),null!==m)(m.__ngLastListenerFn__||m).__ngNextListenerFn__=o,m.__ngLastListenerFn__=o,h=!1;else{o=sa(r,t,o,!1);var y=n.listen(d.name||p,i,o);c.push(o,y),l&&l.push(i,g,v,v+1)}}else o=sa(r,t,o,!0),p.addEventListener(i,o,a),c.push(o),l&&l.push(i,g,v,a)}var _,b=r.outputs;if(h&&null!==b&&(_=b[i])){var k=_.length;if(k)for(var w=0;w<k;w+=2){var C=t[_[w]][_[w+1]].subscribe(o),x=c.length;c.push(o,C),l&&l.push(i,r.index,x,-(x+1))}}}(o,i,i[11],a,e,t,n,r),oa}function aa(e,t,n){try{return!1!==t(n)}catch(r){return Oi(e,r),!1}}function sa(e,t,n,r){return function i(o){if(o===Function)return n;var a=2&e.flags?Ut(e.index,t):t;0==(32&t[2])&&Ci(a);for(var s=aa(t,n,o),u=i.__ngNextListenerFn__;u;)s=aa(t,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function ua(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(Yt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Yt.lFrame.contextLView))[8]}(e)}function la(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var o=t[i];if("*"!==o){if(null===r?Or(e,o,!0):Rr(r,o))return i}else n=i}return n}function ca(e){var t=$t()[16][6];if(!t.projection)for(var n=t.projection=st(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var o=e?la(i,e):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function ha(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=$t(),i=Zt(),o=Xr(i,r[6],e,1,null,n||null);null===o.projection&&(o.projection=t),nn(),function(e,t,n){Ki(t[11],0,t,n,Ui(e,n,t),Xi(n.parent||t[6],t))}(i,r,o)}function fa(e,t,n){return da(e,"",t,"",n),fa}function da(e,t,n,r,i){var o=$t(),a=Uo(o,t,n,r);return a!==jr&&oi(Zt(),wn(),o,e,a,o[11],i,!1),da}function pa(e,t,n,r,i,o,a){var s=$t(),u=Bo(s,t,n,r,i,o);return u!==jr&&oi(Zt(),wn(),s,e,u,s[11],a,!1),pa}var va=[];function ga(e,t,n,r,i){for(var o=e[n+1],a=null===t,s=r?Vr(o):Hr(o),u=!1;0!==s&&(!1===u||a);){var l=e[s+1];ma(e[s],t)&&(u=!0,e[s+1]=r?Br(l):zr(l)),s=r?Vr(l):Hr(l)}u&&(e[n+1]=r?zr(o):Br(o))}function ma(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ct(e,t)>=0}var ya={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _a(e){return e.substring(ya.key,ya.keyEnd)}function ba(e,t){var n=ya.textEnd;return n===t?-1:(t=ya.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,ya.key=t,n),ka(e,t,n))}function ka(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function wa(e,t,n){return Ta(e,t,n,!1),wa}function Ca(e,t){return Ta(e,t,null,!0),Ca}function xa(e){Ma(ut,Sa,e,!0)}function Sa(e,t){for(var n=function(e){return function(e){ya.key=0,ya.keyEnd=0,ya.value=0,ya.valueEnd=0,ya.textEnd=e.length}(e),ba(e,ka(e,0,ya.textEnd))}(t);n>=0;n=ba(t,n))ut(e,_a(t),!0)}function Ta(e,t,n,r){var i,o,a=$t(),s=Zt(),u=ln(2);(s.firstUpdatePass&&Ea(s,e,u,r),t!==jr&&Vo(a,u,t))&&(null==n&&(i=null===(o=Yt.lFrame)?null:o.currentSanitizer)&&(n=i),Aa(s,s.data[bn()+19],a,a[11],e,a[u+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=xe(dr(e)))),e}(t,n),r,u))}function Ma(e,t,n,r){var i=Zt(),o=ln(2);i.firstUpdatePass&&Ea(i,null,o,r);var a=$t();if(n!==jr&&Vo(a,o,n)){var s=i.data[bn()+19];if(Da(s,r)&&!Pa(i,o)){var u=r?s.classes:s.styles;null!==u&&(n=Se(u,n||"")),$o(i,s,a,n,r)}else!function(e,t,n,r,i,o,a,s){i===jr&&(i=va);for(var u=0,l=0,c=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==c||null!==h;){var f=u<i.length?i[u+1]:void 0,d=l<o.length?o[l+1]:void 0,p=null,v=void 0;c===h?(u+=2,l+=2,f!==d&&(p=h,v=d)):null===h||null!==c&&c<h?(u+=2,p=c):(l+=2,p=h,v=d),null!==p&&Aa(e,t,n,r,p,v,a,s),c=u<i.length?i[u]:null,h=l<o.length?o[l]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(e,t,n){if(null==n||""===n)return va;var r=[],i=dr(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&e(r,a,i[a]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}function Pa(e,t){return t>=e.expandoStartIndex}function Ea(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[bn()+19],a=Pa(e,n);Da(o,r)&&null===t&&!a&&(t=!1),t=function(e,t,n,r){var i=function(e){var t=Yt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Ra(n=Oa(null,e,t,n,r),t.attrs,r),o=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==i)if(n=Oa(i,e,t,n,r),null===o){var s=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==Hr(r))return e[Vr(r)]}(e,t,r);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[Vr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,s=Ra(s=Oa(null,e,t,s[1],r),t.attrs,r))}else o=function(e,t,n){for(var r=void 0,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=Ra(r,e[o].hostAttrs,n);return Ra(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){var a=o?t.classBindings:t.styleBindings,s=Vr(a),u=Hr(a);e[r]=n;var l,c=!1;if(Array.isArray(n)){var h=n;(null===(l=h[1])||ct(h,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){var f=Vr(e[s+1]);e[r+1]=Lr(f,s),0!==f&&(e[f+1]=Ur(e[f+1],r)),e[s+1]=131071&e[s+1]|r<<17}else e[r+1]=Lr(s,0),0!==s&&(e[s+1]=Ur(e[s+1],r)),s=r;else e[r+1]=Lr(u,0),0===s?s=r:e[u+1]=Ur(e[u+1],r),u=r;c&&(e[r+1]=zr(e[r+1])),ga(e,l,r,!0),ga(e,l,r,!1),function(e,t,n,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&ct(o,t)>=0&&(n[r+1]=Br(n[r+1]))}(t,l,e,r,o),a=Lr(s,u),o?t.classBindings=a:t.styleBindings=a}(i,o,t,n,a,r)}}function Oa(e,t,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Ra(r,(o=t[s]).hostAttrs,i),o!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function Ra(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ut(e,a,!!n||t[++o]))}return void 0===e?null:e}function Aa(e,t,n,r,i,o,a,s){if(3===t.type){var u=e.data,l=u[s+1];ja(1==(1&l)?Ia(u,t,n,i,Hr(l),a):void 0)||(ja(o)||2==(2&l)&&(o=Ia(u,null,n,i,s,a)),function(e,t,n,r,i){var o=Dt(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{var a=-1==r.indexOf("-")?void 0:2;null==i?o?e.removeStyle(n,r,a):n.style.removeProperty(r):o?e.setStyle(n,r,i,a):n.style.setProperty(r,i)}}(r,a,Lt(bn(),n),i,o))}}function Ia(e,t,n,r,i,o){for(var a=null===t,s=void 0;i>0;){var u=e[i],l=Array.isArray(u),c=l?u[1]:u,h=null===c,f=n[i+1];f===jr&&(f=h?va:void 0);var d=h?lt(f,r):c===r?f:void 0;if(l&&!ja(d)&&(d=lt(u,r)),ja(d)&&(s=d,a))return s;var p=e[i+1];i=a?Vr(p):Hr(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(s=lt(v,r))}return s}function ja(e){return void 0!==e}function Da(e,t){return 0!=(e.flags&(t?16:32))}function Na(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=$t(),r=Zt(),i=e+19,o=r.firstCreatePass?Xr(r,n[6],e,3,null,null):r.data[i],a=n[i]=function(e,t){return Dt(t)?t.createText(e):t.createTextNode(e)}(t,n[11]);Yi(r,n,a,o),en(o,!1)}function Fa(e){return La("",e,""),Fa}function La(e,t,n){var r=$t(),i=Uo(r,e,t,n);return i!==jr&&Ai(r,bn(),i),La}function Va(e,t,n,r,i){var o=$t(),a=Bo(o,e,t,n,r,i);return a!==jr&&Ai(o,bn(),a),Va}function za(e,t,n,r,i,o,a){var s=$t(),u=function(e,t,n,r,i,o,a,s){var u=function(e,t,n,r,i){var o=zo(e,t,n,r);return Vo(e,t+2,i)||o}(e,sn(),n,i,a);return ln(3),u?t+zn(n)+r+zn(i)+o+zn(a)+s:jr}(s,e,t,n,r,i,o,a);return u!==jr&&Ai(s,bn(),u),za}function Ha(e,t,n){var r=$t();return Vo(r,un(),t)&&oi(Zt(),wn(),r,e,t,r[11],n,!0),Ha}function Ua(e,t){var n=Bt(e)[1],r=n.data.length-1;xn(n,{directiveStart:r,directiveEnd:r+1})}function Ba(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,r=[e];t;){var i=void 0;if(At(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=qa(e.inputs),o.declaredInputs=qa(e.declaredInputs),o.outputs=qa(e.outputs);var a=i.hostBindings;a&&Xa(e,a);var s=i.viewQuery,u=i.contentQueries;if(s&&Wa(e,s),u&&Ga(e,u),de(e.inputs,i.inputs),de(e.declaredInputs,i.declaredInputs),de(e.outputs,i.outputs),At(i)&&i.data.animation){var l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=e.afterContentInit||i.afterContentInit,o.afterViewChecked=e.afterViewChecked||i.afterViewChecked,o.afterViewInit=e.afterViewInit||i.afterViewInit,o.doCheck=e.doCheck||i.doCheck,o.onDestroy=e.onDestroy||i.onDestroy,o.onInit=e.onInit||i.onInit}var c=i.features;if(c)for(var h=0;h<c.length;h++){var f=c[h];f&&f.ngInherit&&f(e),f===Ba&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=jn(i.hostAttrs,n=jn(n,i.hostAttrs))}}(r)}function qa(e){return e===dt?{}:e===pt?[]:e}function Wa(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function Ga(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function Xa(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var Ya=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function Qa(e){e.type.prototype.ngOnChanges&&(e.setInput=$a,e.onChanges=function(){var e=Za(this),t=e&&e.current;if(t){var n=e.previous;if(n===dt)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}})}function $a(e,t,n,r){var i=Za(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:dt,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Ya(u&&u.currentValue,t,a===dt),e[r]=t}function Za(e){return e.__ngSimpleChanges__||null}function Ka(e,t,n,r,i){if(e=Pe(e),Array.isArray(e))for(var o=0;o<e.length;o++)Ka(e[o],t,n,r,i);else{var a=Zt(),s=$t(),u=xo(e)?e:Pe(e.provide),l=ko(e),c=Jt(),h=65535&c.providerIndexes,f=c.directiveStart,d=c.providerIndexes>>16;if(xo(e)||!e.multi){var p=new On(l,i,Go),v=ts(u,t,i?h:h+d,f);-1===v?(Kn(Yn(c,s),a,u),Ja(a,e,t.length),t.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var g=ts(u,t,h+d,f),m=ts(u,t,h,h+d),y=g>=0&&n[g],_=m>=0&&n[m];if(i&&!_||!i&&!y){Kn(Yn(c,s),a,u);var b=function(e,t,n,r,i){var o=new On(e,n,Go);return o.multi=[],o.index=t,o.componentProviders=0,es(o,i,r&&!n),o}(i?rs:ns,n.length,i,r,l);!i&&_&&(n[m].providerFactory=b),Ja(a,e,t.length),t.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(b),s.push(b)}else Ja(a,e,g>-1?g:m),es(n[i?m:g],l,!i&&r);!i&&r&&_&&n[m].componentProviders++}}}function Ja(e,t,n){if(xo(t)||t.useClass){var r=(t.useClass||t).prototype.ngOnDestroy;r&&(e.destroyHooks||(e.destroyHooks=[])).push(n,r)}}function es(e,t,n){e.multi.push(t),n&&e.componentProviders++}function ts(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function ns(e,t,n,r){return is(this.multi,[])}function rs(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=rr(n,n[1],this.providerFactory.index,r);is(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else is(o,i=[]);return i}function is(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function os(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=Zt();if(r.firstCreatePass){var i=At(e);Ka(n,r.data,r.blueprint,i,!0),Ka(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}Qa.ngInherit=!0;var as=function e(){_classCallCheck(this,e)},ss=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(xe(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),us=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new ss,e}(),ls=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return cs(e)},e}(),cs=function(e){return ao(e,Jt(),$t())},hs=function e(){_classCallCheck(this,e)},fs=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),ds=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return ps()},e}(),ps=function(){var e=$t(),t=Ut(Jt().index,e);return function(e){var t=e[11];if(Dt(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Mt(t)?t:e)},vs=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=pe({token:e,providedIn:"root",factory:function(){return null}}),e}(),gs=new function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("9.1.0"),ms=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return No(e)}},{key:"create",value:function(e){return new _s(e)}}]),e}(),ys=function(e,t){return t},_s=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ys}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<Cs(n,r,i)?t:n,a=Cs(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,f=h+c;l<=f&&f<u&&(i[c]=h+1)}i[o.previousIndex]=l-u}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!No(e))throw new Error("Error trying to diff '".concat(xe(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==o&&jo(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),jo(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[Io()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==o&&jo(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),jo(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(jo(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(jo(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new bs(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ws),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ws),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),bs=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},ks=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&jo(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),ws=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new ks,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function Cs(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var xs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||Fo(e)}},{key:"create",value:function(){return new Ss}}]),e}(),Ss=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Fo(e)))throw new Error("Error trying to diff '".concat(xe(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Ts(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){jo(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),Ts=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Ms=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ce,new ue]]}}}]),e}();return e.\u0275prov=pe({token:e,providedIn:"root",factory:function(){return new e([new ms])}}),e}(),Ps=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ce,new ue]]}}}]),e}();return e.\u0275prov=pe({token:e,providedIn:"root",factory:function(){return new e([new xs])}}),e}(),Es=[new xs],Os=new Ms([new ms]),Rs=new Ps(Es),As=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Is(e,ls)},e}(),Is=function(e,t){return so(e,t,Jt(),$t())},js=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Ds(e,ls)},e}(),Ds=function(e,t){return uo(e,t,Jt(),$t())},Ns={},Fs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).ngModule=e,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=xt(e);return new zs(t,this.ngModule)}}]),n}(us);function Ls(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Vs=new Be("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Un}}),zs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(Ir).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"create",value:function(e,t,n,r){var i,o,a=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,Ns,i);return o!==Ns||r===Ns?o:t.get(n,r,i)}}}(e,r.injector):e,s=a.get(hs,Nt),u=a.get(vs,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(Dt(e))return e.selectRootElement(t,n===ft.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(l,n,this.componentDef.encapsulation):Wr(c,s.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:Un,clean:Mi,playerHandler:null,flags:0},v=ni(0,-1,null,1,0,null,null,null,null,null),g=Gr(null,v,p,f,null,null,s,l,u,a);pn(g,null);try{var m=function(e,t,n,r,i,o){var a=n[1];n[19]=e;var s=Xr(a,null,0,3,null,null),u=s.mergedAttrs=t.hostAttrs;null!==u&&(Ro(s,u),null!==e&&(Rn(i,e,u),null!==s.classes&&eo(i,e,s.classes),null!==s.styles&&Ji(i,e,s.styles)));var l=r.createRenderer(e,t),c=Gr(n,ti(t),null,t.onPush?64:16,n[19],s,r,l,void 0);return a.firstCreatePass&&(Kn(Yn(s,n),a,t.type),hi(a,s),di(s,n.length,1)),wi(n,c),n[19]=c}(h,this.componentDef,g,s,l);if(h)if(n)Rn(l,h,["ng-version",gs.full]);else{var y=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Pr(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),_=y.attrs,b=y.classes;_&&Rn(l,h,_),b&&b.length>0&&eo(l,h,b.join(" "))}o=zt(g[1],0),t&&(o.projection=t.map((function(e){return Array.from(e)}))),i=function(e,t,n,r,i){var o=n[1],a=function(e,t,n){var r=Jt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ci(e,r,1),pi(e,t,n));var i=rr(t,e,t.length-1,r);kr(i,t);var o=Vt(r,t);return o&&kr(o,t),i}(o,n,t);r.components.push(a),e[8]=a,i&&i.forEach((function(e){return e(a,t)})),t.contentQueries&&t.contentQueries(1,a,n.length-1);var s=Jt();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){kn(s.index-19);var u=n[1];si(u,t),ui(u,n,t.hostVars),li(t,a)}return a}(m,this.componentDef,g,p,[Ua]),Yr(v,g,null)}finally{_n()}var k=new Hs(this.componentType,i,ao(ls,o,g),g,o);return n&&!d||(k.hostView._tViewNode.child=o),k}},{key:"inputs",get:function(){return Ls(this.componentDef.inputs)}},{key:"outputs",get:function(){return Ls(this.componentDef.outputs)}}]),n}(as),Hs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s,u,l,c;return _classCallCheck(this,n),(s=t.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new oo(o),s.hostView._tViewNode=(u=o[1],l=o,null==(c=u.node)&&(u.node=c=ri(0,null,2,-1,null,null)),l[6]=c),s.componentType=e,s}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}},{key:"injector",get:function(){return new ar(this._tNode,this._rootLView)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),Us=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Bs={};function qs(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Ws(t);if(n)return n;var r=t.split("-")[0];if(n=Ws(r))return n;if("en"===r)return Us;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function Ws(e){return e in Bs||(Bs[e]=De.ng&&De.ng.common&&De.ng.common.locales&&De.ng.common.locales[e]),Bs[e]}var Gs=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.Directionality]="Directionality",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}();function Xs(e){var t;null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined")+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var Ys=new Map,Qs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new Fs(_assertThisInitialized(i));var o=Tt(e),a=e[ze]||null;return a&&Xs(a),i._bootstrapComponents=qn(o.bootstrap),i._r3Injector=yo(e,r,[{provide:nt,useValue:_assertThisInitialized(i)},{provide:us,useValue:i.componentFactoryResolver}],xe(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:To.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:he.Default;return e===To||e===nt||e===qe?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(nt),$s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).moduleType=e,null!==Tt(e)&&function e(t){if(null!==t.\u0275mod.id){var n=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(xe(t)," vs ").concat(xe(t.name)))})(n,Ys.get(n),t),Ys.set(n,t)}var r=t.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(t){return e(t)}))}(e),r}return _createClass(n,[{key:"create",value:function(e){return new Qs(this.moduleType,e)}}]),n}(rt);function Zs(e,t,n){var r=an()+e,i=$t();return i[r]===jr?Lo(i,r,n?t.call(n):t()):function(e,t){return e[t]}(i,r)}function Ks(e,t,n,r){return eu($t(),an(),e,t,n,r)}function Js(e,t){var n=e[t];return n===jr?void 0:n}function eu(e,t,n,r,i,o){var a=t+n;return Vo(e,a,i)?Lo(e,a+1,o?r.call(o,i):r(i)):Js(e,a+1)}function tu(e,t){var n,r=Zt(),i=e+19;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new Error("The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=St(n.type)),a=$e(Go),s=o();return $e(a),function(e,t,n,r){var i=n+19;i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=r}(r,$t(),e,s),s}function nu(e,t,n){var r=$t(),i=Ht(r,e);return ou(r,iu(r,e)?eu(r,an(),t,i.transform,n,i):i.transform(n))}function ru(e,t,n,r){var i=$t(),o=Ht(i,e);return ou(i,iu(i,e)?function(e,t,n,r,i,o,a){var s=t+n;return zo(e,s,i,o)?Lo(e,s+2,a?r.call(a,i,o):r(i,o)):Js(e,s+2)}(i,an(),t,o.transform,n,r,o):o.transform(n,r))}function iu(e,t){return e[1].data[t+19].pure}function ou(e,t){return Do.isWrapped(t)&&(t=Do.unwrap(t),e[sn()]=jr),t}var au=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var i,o=function(e){return null},a=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),r&&(a=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var s=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,i,o,a);return e instanceof d&&e.add(s),s}}]),n}(E);function su(){return this._results[Io()]()}var uu=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new au,this.length=0;var t=Io(),n=e.prototype;n[t]||(n[t]=su)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),lu=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),cu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Mu(e,t).matches&&this.queries[t].setDirty()}}]),e}(),hu=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.predicate=t,this.descendants=n,this.isStatic=r,this.read=i},fu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"track",value:function(e){this.queries.push(e)}},{key:"length",get:function(){return this.queries.length}}]),e}(),du=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(e,t,pu(t,n[r]));else{var i=this.metadata.predicate;i===As?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,nr(t,e,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===ls||r===js||r===As&&0===t.type)this.addMatch(t.index,-2);else{var i=nr(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function pu(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function vu(e,t,n,r){return-1===n?function(e,t){return 3===e.type||4===e.type?ao(ls,e,t):0===e.type?so(As,ls,e,t):null}(t,e):-2===n?function(e,t,n){return n===ls?ao(ls,t,e):n===As?so(As,ls,t,e):n===js?uo(js,ls,t,e):void 0}(e,t,r):rr(e,e[1],n,t)}function gu(e,t,n,r){var i=t[5].queries[r];if(null===i.matches){for(var o=e.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var l=a[u];s.push(l<0?null:vu(t,o[l],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function mu(e){var t=$t(),n=Zt(),r=hn();fn(r+1);var i=Mu(n,r);if(e.dirty&&qt(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?function e(t,n,r,i){var o=t.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=gu(t,n,o,r),u=0;u<a.length;u+=2){var l=a[u];if(l>0)i.push(s[u/2]);else{for(var c=a[u+1],h=n[-l],f=9;f<h.length;f++){var d=h[f];d[17]===d[3]&&e(d[1],d,c,i)}if(null!==h[5])for(var p=h[5],v=0;v<p.length;v++){var g=p[v];e(g[1],g,c,i)}}}return i}(n,t,r,[]):gu(n,t,i,r);e.reset(o),e.notifyOnChanges()}return!0}return!1}function yu(e,t,n){bu(Zt(),$t(),e,t,n,!0)}function _u(e,t,n){bu(Zt(),$t(),e,t,n,!1)}function bu(e,t,n,r,i,o){e.firstCreatePass&&(Tu(e,new hu(n,r,o,i),-1),o&&(e.staticViewQueries=!0)),Su(e,t)}function ku(e,t,n,r){Cu(Zt(),$t(),t,n,r,!1,Jt(),e)}function wu(e,t,n,r){Cu(Zt(),$t(),t,n,r,!0,Jt(),e)}function Cu(e,t,n,r,i,o,a,s){e.firstCreatePass&&(Tu(e,new hu(n,r,o,i),a.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,s),o&&(e.staticContentQueries=!0)),Su(e,t)}function xu(){return e=$t(),t=hn(),e[5].queries[t].queryList;var e,t}function Su(e,t){var n=new uu;!function(e,t,n,r){var i=Pi(t);i.push(n),e.firstCreatePass&&Ei(e).push(r,i.length-1)}(e,t,n,n.destroy),null===t[5]&&(t[5]=new cu),t[5].queries.push(new lu(n))}function Tu(e,t,n){null===e.queries&&(e.queries=new fu),e.queries.track(new du(t,n))}function Mu(e,t){return e.queries.getByIndex(t)}function Pu(e,t){return so(As,ls,e,t)}var Eu=new Be("Application Initializer"),Ou=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();ra(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ke(Eu,8))},e.\u0275prov=pe({token:e,factory:e.\u0275fac}),e}(),Ru=new Be("AppId"),Au={provide:Ru,useFactory:function(){return"".concat(Iu()).concat(Iu()).concat(Iu())},deps:[]};function Iu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var ju=new Be("Platform Initializer"),Du=new Be("Platform ID"),Nu=new Be("appBootstrapListener"),Fu=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac}),e}(),Lu=new Be("LocaleId"),Vu=new Be("DefaultCurrencyCode"),zu=function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n},Hu=function(e){return new $s(e)},Uu=Hu,Bu=function(e){return Promise.resolve(Hu(e))},qu=function(e){var t=Hu(e),n=qn(Tt(e).declarations).reduce((function(e,t){var n=xt(t);return n&&e.push(new zs(n)),e}),[]);return new zu(t,n)},Wu=qu,Gu=function(e){return Promise.resolve(qu(e))},Xu=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=Uu,this.compileModuleAsync=Bu,this.compileModuleAndAllComponentsSync=Wu,this.compileModuleAndAllComponentsAsync=Gu}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac}),e}(),Yu=new Be("compilerOptions"),Qu=Promise.resolve(0);function $u(e){"undefined"==typeof Zone?Qu.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Zu=function(){function e(t){var n,r,i=t.enableLongStackTrace,o=void 0!==i&&i,a=t.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new au(!1),this.onMicrotaskEmpty=new au(!1),this.onStable=new au(!1),this.onError=new au(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=De.requestAnimationFrame,t=De.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(De,(function(){e.lastRequestAnimationFrameId=-1,tl(e),el(e)})),tl(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(e,t,i,o,a,s){try{return nl(n),e.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),rl(n)}},onInvoke:function(e,t,r,i,o,a,s){try{return nl(n),e.invoke(r,i,o,a,s)}finally{rl(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,tl(n),el(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,Ju,Ku,Ku);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function Ku(){}var Ju={};function el(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function tl(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function nl(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function rl(e){e._nesting--,el(e)}var il,ol=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new au,this.onMicrotaskEmpty=new au,this.onStable=new au,this.onError=new au}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),al=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){Zu.assertNotInAngularZone(),$u((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())$u((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ke(Zu))},e.\u0275prov=pe({token:e,factory:e.\u0275fac}),e}(),sl=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,ul.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ul.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac}),e}(),ul=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),ll=function(e,t,n){var r=e.get(Yu,[]).concat(t),i=new $s(n);if(0===Po.size)return Promise.resolve(i);var o,a,s=(o=r.map((function(e){return e.providers})),a=[],o.forEach((function(e){return e&&a.push.apply(a,_toConsumableArray(e))})),a);if(0===s.length)return Promise.resolve(i);var u=function(){var e=De.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}(),l=To.create({providers:s}).get(u.ResourceLoader);return function(e){var t=[],n=new Map;function r(e){var t=n.get(e);if(!t){var r=function(e){return Promise.resolve(l.get(e))}(e);n.set(e,t=r.then(Oo))}return t}return Po.forEach((function(e,n){var i=[];e.templateUrl&&i.push(r(e.templateUrl).then((function(t){e.template=t})));var o=e.styleUrls,a=e.styles||(e.styles=[]),s=e.styles.length;o&&o.forEach((function(t,n){a.push(""),i.push(r(t).then((function(r){a[s+n]=r,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(e){Eo.delete(e)}(n)}));t.push(u)})),Po=new Map,Promise.all(t).then((function(){}))}().then((function(){return i}))},cl=new Be("AllowMultipleToken"),hl=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function fl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new Be(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=dl();if(!o||o.injector.get(cl,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0},{provide:ho,useValue:"platform"});!function(e){if(il&&!il.destroyed&&!il.injector.get(cl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");il=e.get(pl);var t=e.get(ju,null);t&&t.forEach((function(e){return e()}))}(To.create({providers:a,name:r}))}return function(e){var t=dl();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function dl(){return il&&!il.destroyed?il:null}var pl=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(n=t?t.ngZone:void 0,r=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new ol:("zone.js"===n?void 0:n)||new Zu({enableLongStackTrace:gr(),shouldCoalesceEventChangeDetection:r})),a=[{provide:Zu,useValue:o}];return o.run((function(){var t=To.create({providers:a,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(hr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return yl(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){r.handleError(e)}})})),function(e,t,r){try{var o=((a=n.injector.get(Ou)).runInitializers(),a.donePromise.then((function(){return Xs(n.injector.get(Lu,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return ra(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(s){throw t.runOutsideAngular((function(){return e.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=vl({},n);return ll(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(ml);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(xe(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ke(To))},e.\u0275prov=pe({token:e,factory:e.\u0275fac}),e}();function vl(e,t){return Array.isArray(t)?t.reduce(vl,e):Object.assign(Object.assign({},e),t)}var gl,ml=((gl=function(){function e(t,n,r,i,o,a){var s=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=gr(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run((function(){s.tick()}))}});var u=new C((function(e){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular((function(){e.next(s._stable),e.complete()}))})),l=new C((function(e){var t;s._zone.runOutsideAngular((function(){t=s._zone.onStable.subscribe((function(){Zu.assertNotInAngularZone(),$u((function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,e.next(!0))}))}))}));var n=s._zone.onUnstable.subscribe((function(){Zu.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=$(u,l.pipe(ie()))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof as?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(nt),o=n.create(To.NULL,[],t||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(al,null);return a&&o.injector.get(sl).registerApplication(o.location.nativeElement,a),this._loadComponent(o),gr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;)t.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;yl(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Nu,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),yl(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}()).\u0275fac=function(e){return new(e||gl)(Ke(Zu),Ke(Fu),Ke(To),Ke(hr),Ke(us),Ke(Ou))},gl.\u0275prov=pe({token:gl,factory:gl.\u0275fac}),gl);function yl(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var _l=function e(){_classCallCheck(this,e)},bl=function e(){_classCallCheck(this,e)},kl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},wl=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||kl}return _createClass(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("crnd")(i).then((function(e){return e[o]})).then((function(e){return Cl(e,i,o)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("crnd")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[i+o]})).then((function(e){return Cl(e,r,i)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ke(Xu),Ke(bl,8))},e.\u0275prov=pe({token:e,factory:e.\u0275fac}),e}();function Cl(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var xl=fl(null,"core",[{provide:Du,useValue:"unknown"},{provide:pl,deps:[To]},{provide:sl,deps:[]},{provide:Fu,deps:[]}]),Sl=[{provide:ml,useClass:ml,deps:[Zu,Fu,To,hr,us,Ou]},{provide:Vs,deps:[Zu],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:Ou,useClass:Ou,deps:[[new ue,Eu]]},{provide:Xu,useClass:Xu,deps:[]},Au,{provide:Ms,useFactory:function(){return Os},deps:[]},{provide:Ps,useFactory:function(){return Rs},deps:[]},{provide:Lu,useFactory:function(e){return Xs(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new se(Lu),new ue,new ce]]},{provide:Vu,useValue:"USD"}],Tl=function(){var e=function e(t){_classCallCheck(this,e)};return e.\u0275mod=bt({type:e}),e.\u0275inj=ve({factory:function(t){return new(t||e)(Ke(ml))},providers:Sl}),e}(),Ml={production:!0,apiUrl:"/ps-backend"},Pl=null;function El(){return Pl}var Ol,Rl=new Be("DocumentToken"),Al=((Ol=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Ol)},Ol.\u0275prov=pe({factory:Il,token:Ol,providedIn:"platform"}),Ol);function Il(){return Ke(Nl)}var jl,Dl=new Be("Location Initialized"),Nl=((jl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=El().getLocation(),this._history=El().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return El().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){El().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){El().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){Fl()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){Fl()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(Al)).\u0275fac=function(e){return new(e||jl)(Ke(Rl))},jl.\u0275prov=pe({factory:Ll,token:jl,providedIn:"platform"}),jl);function Fl(){return!!window.history.pushState}function Ll(){return new Nl(Ke(Rl))}function Vl(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function zl(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Hl(e){return e&&"?"!==e[0]?"?"+e:e}var Ul,Bl=((Ul=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Ul)},Ul.\u0275prov=pe({factory:ql,token:Ul,providedIn:"root"}),Ul);function ql(e){var t=Ke(Rl).location;return new Ql(Ke(Al),t&&t.origin||"")}var Wl,Gl,Xl,Yl=new Be("appBaseHref"),Ql=((Xl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return Vl(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+Hl(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Hl(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Hl(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Bl)).\u0275fac=function(e){return new(e||Xl)(Ke(Al),Ke(Yl,8))},Xl.\u0275prov=pe({token:Xl,factory:Xl.\u0275fac}),Xl),$l=((Gl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=Vl(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Hl(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Hl(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Bl)).\u0275fac=function(e){return new(e||Gl)(Ke(Al),Ke(Yl,8))},Gl.\u0275prov=pe({token:Gl,factory:Gl.\u0275fac}),Gl),Zl=((Wl=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._subject=new au,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=zl(Jl(i)),this._platformStrategy.onPopState((function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+Hl(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Jl(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Hl(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Hl(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}()).\u0275fac=function(e){return new(e||Wl)(Ke(Bl),Ke(Al))},Wl.normalizeQueryParams=Hl,Wl.joinWithSlash=Vl,Wl.stripTrailingSlash=zl,Wl.\u0275prov=pe({factory:Kl,token:Wl,providedIn:"root"}),Wl);function Kl(){return new Zl(Ke(Bl),Ke(Al))}function Jl(e){return e.replace(/\/index.html$/,"")}var ec=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),tc=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),nc=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),rc=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),ic=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function oc(e,t){return cc(qs(e)[Gs.DateFormat],t)}function ac(e,t){return cc(qs(e)[Gs.TimeFormat],t)}function sc(e,t){return cc(qs(e)[Gs.DateTimeFormat],t)}function uc(e,t){var n=qs(e),r=n[Gs.NumberSymbols][t];if(void 0===r){if(t===ic.CurrencyDecimal)return n[Gs.NumberSymbols][ic.Decimal];if(t===ic.CurrencyGroup)return n[Gs.NumberSymbols][ic.Group]}return r}function lc(e){if(!e[Gs.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[Gs.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function cc(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function hc(e){var t=_slicedToArray(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}var fc=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,dc={},pc=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,vc=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),gc=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),mc=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function yc(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function _c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));for(var a=String(e);a.length<t;)a="0"+a;return r&&(a=a.substr(a.length-t)),o+a}function bc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,a){var s,u=function(e,t){switch(e){case gc.FullYear:return t.getFullYear();case gc.Month:return t.getMonth();case gc.Date:return t.getDate();case gc.Hours:return t.getHours();case gc.Minutes:return t.getMinutes();case gc.Seconds:return t.getSeconds();case gc.FractionalSeconds:return t.getMilliseconds();case gc.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}(e,o);if((n>0||u>-n)&&(u+=n),e===gc.Hours)0===u&&-12===n&&(u=12);else if(e===gc.FractionalSeconds)return s=t,_c(u,3).substr(0,s);var l=uc(a,ic.MinusSign);return _c(u,t,l,r,i)}}function kc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tc.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,o){return function(e,t,n,r,i,o){switch(n){case mc.Months:return function(e,t,n){var r=qs(e),i=cc([r[Gs.MonthsFormat],r[Gs.MonthsStandalone]],t);return cc(i,n)}(t,i,r)[e.getMonth()];case mc.Days:return function(e,t,n){var r=qs(e),i=cc([r[Gs.DaysFormat],r[Gs.DaysStandalone]],t);return cc(i,n)}(t,i,r)[e.getDay()];case mc.DayPeriods:var a=e.getHours(),s=e.getMinutes();if(o){var u,l=function(e){var t=qs(e);return lc(t),(t[Gs.ExtraData][2]||[]).map((function(e){return"string"==typeof e?hc(e):[hc(e[0]),hc(e[1])]}))}(t),c=function(e,t,n){var r=qs(e);lc(r);var i=cc([r[Gs.ExtraData][0],r[Gs.ExtraData][1]],t)||[];return cc(i,n)||[]}(t,i,r);if(l.forEach((function(e,t){if(Array.isArray(e)){var n=e[0],r=n.hours,i=n.minutes,o=e[1],l=o.hours,h=o.minutes;a>=r&&s>=i&&(a<l||a===l&&s<h)&&(u=c[t])}else{var f=e.hours,d=e.minutes;f===a&&d===s&&(u=c[t])}})),u)return u}return function(e,t,n){var r=qs(e),i=cc([r[Gs.DayPeriodsFormat],r[Gs.DayPeriodsStandalone]],t);return cc(i,n)}(t,i,r)[a<12?0:1];case mc.Eras:return function(e,t){return cc(qs(e)[Gs.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(n))}}(i,o,e,t,n,r)}}function wc(e){return function(t,n,r){var i=-1*r,o=uc(n,ic.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case vc.Short:return(i>=0?"+":"")+_c(a,2,o)+_c(Math.abs(i%60),2,o);case vc.ShortGMT:return"GMT"+(i>=0?"+":"")+_c(a,1,o);case vc.Long:return"GMT"+(i>=0?"+":"")+_c(a,2,o)+":"+_c(Math.abs(i%60),2,o);case vc.Extended:return 0===r?"Z":(i>=0?"+":"")+_c(a,2,o)+":"+_c(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function Cc(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,a,s;if(t){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,l=n.getDate();i=1+Math.floor((l+u)/7)}else{var c=(o=n.getFullYear(),a=new Date(o,0,1).getDay(),new Date(o,0,1+(a<=4?4:11)-a)),h=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-c.getTime();i=1+Math.round(h/6048e5)}return _c(i,e,uc(r,ic.MinusSign))}}var xc={};function Sc(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Tc(e){return e instanceof Date&&!isNaN(e.valueOf())}var Mc,Pc=function e(){_classCallCheck(this,e)},Ec=((Mc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).locale=e,r}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(function(e){return qs(e)[Gs.PluralCase]}(t||this.locale)(e)){case ec.Zero:return"zero";case ec.One:return"one";case ec.Two:return"two";case ec.Few:return"few";case ec.Many:return"many";default:return"other"}}}]),n}(Pc)).\u0275fac=function(e){return new(e||Mc)(Ke(Lu))},Mc.\u0275prov=pe({token:Mc,factory:Mc.\u0275fac}),Mc);function Oc(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===t)return decodeURIComponent(u)}}catch(l){r.e(l)}finally{r.f()}return null}var Rc,Ac,Ic=function(){function e(t,n,r,i){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),jc=((Rc=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new Ic(null,t._ngForOf,-1,-1),null===i?void 0:i),a=new Dc(e,o);n.push(a)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var u=new Dc(e,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){gr()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". ")+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||Rc)(Go(js),Go(As),Go(Ms))},Rc.\u0275dir=wt({type:Rc,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Rc),Dc=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},Nc=((Ac=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new Fc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Lc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Lc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||Ac)(Go(js),Go(As))},Ac.\u0275dir=wt({type:Ac,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Ac),Fc=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function Lc(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(xe(t),"'."))}var Vc,zc,Hc,Uc,Bc,qc,Wc,Gc,Xc,Yc=((Bc=function(){function e(t){_classCallCheck(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(this._shouldRecreateView(e)){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(e){var t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}},{key:"_hasContextShapeChanged",value:function(e){var t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(-1===t.indexOf(o))return!0}}catch(a){i.e(a)}finally{i.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}}}]),e}()).\u0275fac=function(e){return new(e||Bc)(Go(js))},Bc.\u0275dir=wt({type:Bc,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Qa]}),Bc),Qc=((Uc=function(){function e(t){_classCallCheck(this,e),this.locale=t}return _createClass(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(null==t||""===t||t!=t)return null;try{return function(e,t,n,r){var i=function(e){if(Tc(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var r=_slicedToArray(e.split("-").map((function(e){return+e})),3),i=r[0],o=r[1],a=r[2];return new Date(i,o-1,a)}if(t=e.match(fc))return function(e){var t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var a=Number(e[4]||0)-n,s=Number(e[5]||0)-r,u=Number(e[6]||0),l=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,a,s,u,l),t}(t)}var s=new Date(e);if(!Tc(s))throw new Error('Unable to convert "'.concat(e,'" into a date'));return s}(e);t=function e(t,n){var r=function(e){return qs(e)[Gs.LocaleId]}(t);if(dc[r]=dc[r]||{},dc[r][n])return dc[r][n];var i="";switch(n){case"shortDate":i=oc(t,rc.Short);break;case"mediumDate":i=oc(t,rc.Medium);break;case"longDate":i=oc(t,rc.Long);break;case"fullDate":i=oc(t,rc.Full);break;case"shortTime":i=ac(t,rc.Short);break;case"mediumTime":i=ac(t,rc.Medium);break;case"longTime":i=ac(t,rc.Long);break;case"fullTime":i=ac(t,rc.Full);break;case"short":var o=e(t,"shortTime"),a=e(t,"shortDate");i=yc(sc(t,rc.Short),[o,a]);break;case"medium":var s=e(t,"mediumTime"),u=e(t,"mediumDate");i=yc(sc(t,rc.Medium),[s,u]);break;case"long":var l=e(t,"longTime"),c=e(t,"longDate");i=yc(sc(t,rc.Long),[l,c]);break;case"full":var h=e(t,"fullTime"),f=e(t,"fullDate");i=yc(sc(t,rc.Full),[h,f])}return i&&(dc[r][n]=i),i}(n,t)||t;for(var o,a=[];t;){if(!(o=pc.exec(t))){a.push(t);break}var s=(a=a.concat(o.slice(1))).pop();if(!s)break;t=s}var u=i.getTimezoneOffset();r&&(u=Sc(r,u),i=function(e,t,n){var r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(Sc(t,r)-r))}(i,r));var l="";return a.forEach((function(e){var t=function(e){if(xc[e])return xc[e];var t;switch(e){case"G":case"GG":case"GGG":t=kc(mc.Eras,nc.Abbreviated);break;case"GGGG":t=kc(mc.Eras,nc.Wide);break;case"GGGGG":t=kc(mc.Eras,nc.Narrow);break;case"y":t=bc(gc.FullYear,1,0,!1,!0);break;case"yy":t=bc(gc.FullYear,2,0,!0,!0);break;case"yyy":t=bc(gc.FullYear,3,0,!1,!0);break;case"yyyy":t=bc(gc.FullYear,4,0,!1,!0);break;case"M":case"L":t=bc(gc.Month,1,1);break;case"MM":case"LL":t=bc(gc.Month,2,1);break;case"MMM":t=kc(mc.Months,nc.Abbreviated);break;case"MMMM":t=kc(mc.Months,nc.Wide);break;case"MMMMM":t=kc(mc.Months,nc.Narrow);break;case"LLL":t=kc(mc.Months,nc.Abbreviated,tc.Standalone);break;case"LLLL":t=kc(mc.Months,nc.Wide,tc.Standalone);break;case"LLLLL":t=kc(mc.Months,nc.Narrow,tc.Standalone);break;case"w":t=Cc(1);break;case"ww":t=Cc(2);break;case"W":t=Cc(1,!0);break;case"d":t=bc(gc.Date,1);break;case"dd":t=bc(gc.Date,2);break;case"E":case"EE":case"EEE":t=kc(mc.Days,nc.Abbreviated);break;case"EEEE":t=kc(mc.Days,nc.Wide);break;case"EEEEE":t=kc(mc.Days,nc.Narrow);break;case"EEEEEE":t=kc(mc.Days,nc.Short);break;case"a":case"aa":case"aaa":t=kc(mc.DayPeriods,nc.Abbreviated);break;case"aaaa":t=kc(mc.DayPeriods,nc.Wide);break;case"aaaaa":t=kc(mc.DayPeriods,nc.Narrow);break;case"b":case"bb":case"bbb":t=kc(mc.DayPeriods,nc.Abbreviated,tc.Standalone,!0);break;case"bbbb":t=kc(mc.DayPeriods,nc.Wide,tc.Standalone,!0);break;case"bbbbb":t=kc(mc.DayPeriods,nc.Narrow,tc.Standalone,!0);break;case"B":case"BB":case"BBB":t=kc(mc.DayPeriods,nc.Abbreviated,tc.Format,!0);break;case"BBBB":t=kc(mc.DayPeriods,nc.Wide,tc.Format,!0);break;case"BBBBB":t=kc(mc.DayPeriods,nc.Narrow,tc.Format,!0);break;case"h":t=bc(gc.Hours,1,-12);break;case"hh":t=bc(gc.Hours,2,-12);break;case"H":t=bc(gc.Hours,1);break;case"HH":t=bc(gc.Hours,2);break;case"m":t=bc(gc.Minutes,1);break;case"mm":t=bc(gc.Minutes,2);break;case"s":t=bc(gc.Seconds,1);break;case"ss":t=bc(gc.Seconds,2);break;case"S":t=bc(gc.FractionalSeconds,1);break;case"SS":t=bc(gc.FractionalSeconds,2);break;case"SSS":t=bc(gc.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=wc(vc.Short);break;case"ZZZZZ":t=wc(vc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=wc(vc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=wc(vc.Long);break;default:return null}return xc[e]=t,t}(e);l+=t?t(i,n,u):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),l}(t,n,i||this.locale,r)}catch(o){throw function(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(xe(e),"'"))}(e,o.message)}}}]),e}()).\u0275fac=function(e){return new(e||Uc)(Go(Lu))},Uc.\u0275pipe=Ct({name:"date",type:Uc,pure:!0}),Uc),$c=((Hc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){return JSON.stringify(e,null,2)}}]),e}()).\u0275fac=function(e){return new(e||Hc)},Hc.\u0275pipe=Ct({name:"json",type:Hc,pure:!1}),Hc),Zc=((zc=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:zc}),zc.\u0275inj=ve({factory:function(e){return new(e||zc)},providers:[{provide:Pc,useClass:Ec}]}),zc),Kc=((Vc=function e(){_classCallCheck(this,e)}).\u0275prov=pe({token:Vc,providedIn:"root",factory:function(){return new Jc(Ke(Rl),window,Ke(hr))}}),Vc),Jc=function(){function e(t,n,r){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#".concat(e));if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),eh=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=th||(th=document.querySelector("base"))?th.getAttribute("href"):null;return null==n?null:(t=n,qc||(qc=document.createElement("a")),qc.setAttribute("href",t),"/"===qc.pathname.charAt(0)?qc.pathname:"/"+qc.pathname)}},{key:"resetBaseElement",value:function(){th=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return Oc(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,Pl||(Pl=e)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function e(){_classCallCheck(this,e)}}())),th=null,nh=new Be("TRANSITION_ID"),rh=[{provide:Eu,useFactory:function(e,t,n){return function(){n.get(Ou).donePromise.then((function(){var n=El();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[nh,Rl,To],multi:!0}],ih=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){De.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},De.getAllAngularTestabilities=function(){return e.getAllTestabilities()},De.getAllAngularRootElements=function(){return e.getAllRootElements()},De.frameworkStabilizers||(De.frameworkStabilizers=[]),De.frameworkStabilizers.push((function(e){var t=De.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?El().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){var t;t=new e,ul=t}}]),e}(),oh=new Be("EventManagerPlugins"),ah=((Wc=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}()).\u0275fac=function(e){return new(e||Wc)(Ke(oh),Ke(Zu))},Wc.\u0275prov=pe({token:Wc,factory:Wc.\u0275fac}),Wc),sh=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=El().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),uh=((Xc=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||Xc)},Xc.\u0275prov=pe({token:Xc,factory:Xc.\u0275fac}),Xc),lh=((Gc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return El().remove(e)}))}}]),n}(uh)).\u0275fac=function(e){return new(e||Gc)(Ke(Rl))},Gc.\u0275prov=pe({token:Gc,factory:Gc.\u0275fac}),Gc),ch={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},hh=/%COMP%/g;function fh(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?fh(e,i,n):(i=i.replace(hh,e),n.push(i))}return n}function dh(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var ph,vh,gh,mh,yh=((ph=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new _h(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ft.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new bh(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case ft.Native:case ft.ShadowDom:return new kh(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=fh(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ph)(Ke(ah),Ke(lh),Ke(Ru))},ph.\u0275prov=pe({token:ph,factory:ph.\u0275fac}),ph),_h=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(ch[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=ch[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=ch[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&fs.DashCase?e.style.setProperty(t,n,r&fs.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&fs.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,dh(n)):this.eventManager.addEventListener(e,t,dh(n))}}]),e}(),bh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;_classCallCheck(this,n),(a=t.call(this,e)).component=i;var s,u=fh(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(hh,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(hh,s)),a}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(_h),kh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;_classCallCheck(this,n),(a=t.call(this,e)).sharedStylesHost=r,a.hostEl=i,a.component=o,a.shadowRoot=o.encapsulation===ft.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=fh(o.id,o.styles,[]),u=0;u<s.length;u++){var l=document.createElement("style");l.textContent=s[u],a.shadowRoot.appendChild(l)}return a}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(_h),wh=((vh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(sh)).\u0275fac=function(e){return new(e||vh)(Ke(Rl))},vh.\u0275prov=pe({token:vh,factory:vh.\u0275fac}),vh),Ch=["alt","control","meta","shift"],xh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Th={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Mh=((gh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return El().onAndCancel(e,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(Ch.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Sh.hasOwnProperty(t)&&(t=Sh[t]))}return xh[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Ch.forEach((function(r){r!=n&&(0,Th[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded((function(){return t(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(sh)).\u0275fac=function(e){return new(e||gh)(Ke(Rl))},gh.\u0275prov=pe({token:gh,factory:gh.\u0275fac}),gh),Ph=fl(xl,"browser",[{provide:Du,useValue:"browser"},{provide:ju,useValue:function(){eh.makeCurrent(),ih.init()},multi:!0},{provide:Rl,useFactory:function(){return function(e){jt=e}(document),document},deps:[]}]),Eh=[[],{provide:ho,useValue:"root"},{provide:hr,useFactory:function(){return new hr},deps:[]},{provide:oh,useClass:wh,multi:!0,deps:[Rl,Zu,Du]},{provide:oh,useClass:Mh,multi:!0,deps:[Rl]},[],{provide:yh,useClass:yh,deps:[ah,lh,Ru]},{provide:hs,useExisting:yh},{provide:uh,useExisting:lh},{provide:lh,useClass:lh,deps:[Rl]},{provide:al,useClass:al,deps:[Zu]},{provide:ah,useClass:ah,deps:[oh,Zu]},[]],Oh=((mh=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:Ru,useValue:t.appId},{provide:nh,useExisting:Ru},rh]}}}]),e}()).\u0275mod=bt({type:mh}),mh.\u0275inj=ve({factory:function(e){return new(e||mh)(Ke(mh,12))},providers:Eh,imports:[Zc,Tl]}),mh);"undefined"!=typeof window&&window;var Rh=function e(){_classCallCheck(this,e)};function Ah(e,t){return{type:7,name:e,definitions:t,options:{}}}function Ih(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function jh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function Dh(e){return{type:6,styles:e,offset:null}}function Nh(e,t,n){return{type:0,name:e,styles:t,options:n}}function Fh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function Lh(e){Promise.resolve(null).then(e)}var Vh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;Lh((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),zh=function(){function e(t){var n=this;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,i=0,o=0,a=this.players.length;0==a?Lh((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++r==a&&n._onFinish()})),e.onDestroy((function(){++i==a&&n._onDestroy()})),e.onStart((function(){++o==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}();function Hh(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Uh(e){switch(e.length){case 0:return new Vh;case 1:return e[0];default:return new zh(e)}}function Bh(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,l=null;if(r.forEach((function(e){var n=e.offset,r=n==u,c=r&&l||{};Object.keys(e).forEach((function(n){var r=n,s=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,a),s){case"!":s=i[n];break;case"*":s=o[n];break;default:s=t.normalizeStyleValue(n,r,s,a)}c[r]=s})),r||s.push(c),l=c,u=n})),a.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(a.join(c)))}return s}function qh(e,t,n,r){switch(t){case"start":e.onStart((function(){return r(n&&Wh(n,"start",e))}));break;case"done":e.onDone((function(){return r(n&&Wh(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return r(n&&Wh(n,"destroy",e))}))}}function Wh(e,t,n){var r=n.totalTime,i=Gh(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function Gh(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function Xh(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function Yh(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var Qh=function(e,t){return!1},$h=function(e,t){return!1},Zh=function(e,t,n){return[]},Kh=Hh();(Kh||"undefined"!=typeof Element)&&(Qh=function(e,t){return e.contains(t)},$h=function(){if(Kh||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:$h}(),Zh=function(e,t,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(e.querySelectorAll(t)));else{var i=e.querySelector(t);i&&r.push(i)}return r});var Jh=null,ef=!1;function tf(e){Jh||(Jh=("undefined"!=typeof document?document.body:null)||{},ef=!!Jh.style&&"WebkitAppearance"in Jh.style);var t=!0;return Jh.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in Jh.style)&&ef)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Jh.style),t}var nf=$h,rf=Qh,of=Zh;function af(e){var t={};return Object.keys(e).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]})),t}var sf,uf=((sf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return tf(e)}},{key:"matchesElement",value:function(e,t){return nf(e,t)}},{key:"containsElement",value:function(e,t){return rf(e,t)}},{key:"query",value:function(e,t,n){return of(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new Vh(n,r)}}]),e}()).\u0275fac=function(e){return new(e||sf)},sf.\u0275prov=pe({token:sf,factory:sf.\u0275fac}),sf),lf=function(){var e=function e(){_classCallCheck(this,e)};return e.NOOP=new uf,e}();function cf(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:hf(parseFloat(t[1]),t[2])}function hf(e,t){switch(t){case"s":return 1e3*e;default:return e}}function ff(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,o="";if("string"==typeof e){var a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=hf(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=hf(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=e;if(!n){var l=!1,c=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),l=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&t.splice(c,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(e,t,n)}function df(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function pf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else df(e,n);return n}function vf(e,t,n){return n?t+":"+n+";":""}function gf(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=vf(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=vf(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function mf(e,t,n){e.style&&(Object.keys(t).forEach((function(r){var i=Sf(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]})),Hh()&&gf(e))}function yf(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=Sf(t);e.style[n]=""})),Hh()&&gf(e))}function _f(e){return Array.isArray(e)?1==e.length?e[0]:jh(e):e}var bf=new RegExp("{{\\s*(.+?)\\s*}}","g");function kf(e){var t=[];if("string"==typeof e){for(var n;n=bf.exec(e);)t.push(n[1]);bf.lastIndex=0}return t}function wf(e,t,n){var r=e.toString(),i=r.replace(bf,(function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()}));return i==r?e:i}function Cf(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var xf=/-+([a-z0-9])/g;function Sf(e){return e.replace(xf,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function Tf(e,t){return 0===e||0===t}function Mf(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],o=[];if(r.forEach((function(e){i.hasOwnProperty(e)||o.push(e),i[e]=n[e]})),o.length)for(var a=function(){var n=t[s];o.forEach((function(t){n[t]=Ef(e,t)}))},s=1;s<t.length;s++)a()}return t}function Pf(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #".concat(t.type))}}function Ef(e,t){return window.getComputedStyle(e)[t]}var Of=new Set(["true","1"]),Rf=new Set(["false","0"]);function Af(e,t){var n=Of.has(e)||Rf.has(e),r=Of.has(t)||Rf.has(t);return function(i,o){var a="*"==e||e==i,s="*"==t||t==o;return!a&&n&&"boolean"==typeof i&&(a=i?Of.has(e):Rf.has(e)),!s&&r&&"boolean"==typeof o&&(s=o?Of.has(t):Rf.has(t)),a&&s}}var If=new RegExp("s*:selfs*,?","g");function jf(e,t,n){return new Df(e).build(t,n)}var Df=function(){function e(t){_classCallCheck(this,e),this._driver=t}return _createClass(e,[{key:"build",value:function(e,t){var n=new Nf(t);return this._resetContextStyleTimingState(n),Pf(this,_f(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,o=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,u=s.name;u.toString().split(/\s*,\s*/).forEach((function(e){s.name=e,o.push(n.visitState(s,t))})),s.name=u}else if(1==e.type){var l=n.visitTransition(e,t);r+=l.queryCount,i+=l.depCount,a.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(e){if(Ff(e)){var t=e;Object.keys(t).forEach((function(e){kf(t[e]).forEach((function(e){o.hasOwnProperty(e)||i.add(e)}))}))}})),i.size){var a=Cf(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,r,i,o=Pf(this,_f(e.animation),t);return{type:1,matchers:(n=e.expr,r=t.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=i[1],a=i[2],s=i[3];t.push(Af(o,s)),"<"!=a[0]||"*"==o&&"*"==s||t.push(Af(s,o))}(e,i,r)})):i.push(n),i),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:Lf(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return Pf(n,e,t)})),options:Lf(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,o=e.steps.map((function(e){t.currentTime=r;var o=Pf(n,e,t);return i=Math.max(i,t.currentTime),o}));return t.currentTime=i,{type:3,steps:o,options:Lf(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,r=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return Vf(ff(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var i=Vf(0,0,"");return i.dynamic=!0,i.strValue=r,i}return Vf((n=n||ff(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;var i=e.styles?e.styles:Dh({});if(5==i.type)n=this.visitKeyframes(i,t);else{var o=e.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=Dh(s)}t.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,t);u.isEmptyStep=a,n=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?"*"==e?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var r=!1,i=null;return n.forEach((function(e){if(Ff(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var o in t)if(t[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,l,c,h=t.collectedStyles[t.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),t.options&&(a=e[r],s=t.options,u=t.errors,l=s.params||{},(c=kf(a)).length&&c.forEach((function(e){l.hasOwnProperty(e)||u.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})))}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,l=e.steps.map((function(e){var r=n._makeStyleAst(e,t),l=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if(Ff(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if(Ff(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),c=0;return null!=l&&(i++,c=r.offset=l),s=s||c<0||c>1,a=a||c<u,u=c,o.push(c),r}));s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");var c=e.steps.length,h=0;i>0&&i<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(c-1));var f=c-1,d=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return l.forEach((function(e,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;t.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(e,t),e.offset=a,r.styles.push(e)})),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:Pf(this,_f(e.animation),t),options:Lf(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:Lf(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Lf(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var i=_slicedToArray(function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(If,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),o=i[0],a=i[1];t.currentQuerySelector=n.length?n+" "+o:o,Xh(t.collectedStyles,t.currentQuerySelector,{});var s=Pf(this,_f(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:e.selector,options:Lf(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:ff(e.timings,t.errors,!0);return{type:12,animation:Pf(this,_f(e.animation),t),timings:n,options:null}}}]),e}(),Nf=function e(t){_classCallCheck(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Ff(e){return!Array.isArray(e)&&"object"==typeof e}function Lf(e){var t;return e?(e=df(e)).params&&(e.params=(t=e.params)?df(t):null):e={},e}function Vf(e,t,n){return{duration:e,delay:t,easing:n}}function zf(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var Hf=function(){function e(){_classCallCheck(this,e),this._map=new Map}return _createClass(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,_toConsumableArray(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),Uf=new RegExp(":enter","g"),Bf=new RegExp(":leave","g");function qf(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new Wf).buildKeyframes(e,t,n,r,i,o,a,s,u,l)}var Wf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,o,a,s,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new Hf;var c=new Xf(e,t,u,r,i,l,[]);c.options=s,c.currentTimeline.setStyles([o],null,c.errors,s),Pf(this,n,c);var h=c.timelines.filter((function(e){return e.containsAnimation()}));if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,c.errors,s)}return h.length?h.map((function(e){return e.buildKeyframes()})):[zf(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?cf(n.duration):null,o=null!=n.delay?cf(n.delay):null;return 0!==i&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),Pf(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&((i=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Gf);var a=cf(o.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach((function(e){return Pf(n,e,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?cf(e.options.delay):0;e.steps.forEach((function(a){var s=t.createSubContext(e.options);o&&s.delayNextStep(o),Pf(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)})),r.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return ff(t.params?wf(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach((function(e){o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?cf(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Gf);var a=r,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;var u=null;s.forEach((function(r,i){t.currentQueryIndex=i;var s=t.createSubContext(e.options,r);o&&s.delayNextStep(o),r===t.element&&(u=s.currentTimeline),Pf(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),a=o*(t.currentQueryTotal-1),s=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=t.currentTimeline;s&&u.delayNextStep(s);var l=u.currentTime;Pf(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}]),e}(),Gf={},Xf=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Yf(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(e,[{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=cf(r.duration)),null!=r.delay&&(i.delay=cf(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(e){t&&a.hasOwnProperty(e)||(a[e]=wf(o[e],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=Gf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new Qf(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,o){var a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(Uf,"."+this._enterClassName)).replace(Bf,"."+this._leaveClassName);var s=this._driver.query(this.element,e,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray(s))}return i||0!=a.length||o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),a}},{key:"params",get:function(){return this.options.params}}]),e}(),Yf=function(){function e(t,n,r,i){_classCallCheck(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||"*",t._currentKeyframe[e]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var o=r&&r.params||{},a=function(e,t){var n,r={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){r[e]="*"})):pf(e,!1,r)})),r}(e,this._globalTimelineStyles);Object.keys(a).forEach((function(e){var t=wf(a[e],o,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:"*"),i._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,a){var s=pf(o,!0);Object.keys(s).forEach((function(e){var r=s[e];"!"==r?t.add(e):"*"==r&&n.add(e)})),r||(s.offset=a/e.duration),i.push(s)}));var o=t.size?Cf(t.values()):[],a=n.size?Cf(n.values()):[];if(r){var s=i[0],u=df(s);s.offset=0,u.offset=1,i=[s,u]}return zf(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}}]),e}(),Qf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s){var u,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(u=t.call(this,e,r,s.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=l,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=pf(e[0],!1);u.offset=0,o.push(u);var l=pf(e[0],!1);l.offset=$f(s),o.push(l);for(var c=e.length-1,h=1;h<=c;h++){var f=pf(e[h],!1);f.offset=$f((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",e=o}return zf(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(Yf);function $f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var Zf=function e(){_classCallCheck(this,e)},Kf=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(e,t){return Sf(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",o=n.toString().trim();if(Jf[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+i}}]),n}(Zf),Jf=function(e){var t={};return e.forEach((function(e){return t[e]=!0})),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function ed(e,t,n,r,i,o,a,s,u,l,c,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:f}}var td={},nd=function(){function e(t,n,r){_classCallCheck(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return _createClass(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some((function(e){return e(t,n,r,i)}))}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,r,i,o,a,s,u,l){var c=[],h=this.ast.options&&this.ast.options.params||td,f=this.buildStyles(n,a&&a.params||td,c),d=s&&s.params||td,p=this.buildStyles(r,d,c),v=new Set,g=new Map,m=new Map,y="void"===r,_={params:Object.assign(Object.assign({},h),d)},b=l?[]:qf(e,t,this.ast.animation,i,o,f,p,_,u,c),k=0;if(b.forEach((function(e){k=Math.max(e.duration+e.delay,k)})),c.length)return ed(t,this._triggerName,n,r,y,f,p,[],[],g,m,k,c);b.forEach((function(e){var n=e.element,r=Xh(g,n,{});e.preStyleProps.forEach((function(e){return r[e]=!0}));var i=Xh(m,n,{});e.postStyleProps.forEach((function(e){return i[e]=!0})),n!==t&&v.add(n)}));var w=Cf(v.values());return ed(t,this._triggerName,n,r,y,f,p,b,w,g,m,k)}}]),e}(),rd=function(){function e(t,n){_classCallCheck(this,e),this.styles=t,this.defaultParams=n}return _createClass(e,[{key:"buildStyles",value:function(e,t){var n={},r=df(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(r[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var i=e;Object.keys(i).forEach((function(e){var o=i[e];o.length>1&&(o=wf(o,r,t)),n[e]=o}))}})),n}}]),e}(),id=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){r.states[e.name]=new rd(e.style,e.options&&e.options.params||{})})),od(this.states,"true","1"),od(this.states,"false","0"),n.transitions.forEach((function(e){r.transitionFactories.push(new nd(t,e,r.states))})),this.fallbackTransition=new nd(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(e,[{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find((function(i){return i.match(e,t,n,r)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),e}();function od(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var ad=new Hf,sd=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(e,[{key:"register",value:function(e,t){var n=[],r=jf(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=Bh(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[e],s=new Map;if(a?(n=qf(this._driver,t,a,"ng-enter","ng-leave",{},{},i,ad,o)).forEach((function(e){var t=Xh(s,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));s.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=r._driver.computeStyle(t,n,"*")}))}));var u=Uh(n.map((function(e){var t=s.get(e.element);return r._buildPlayer(e,{},t)})));return this._playersById[e]=u,u.onDestroy((function(){return r.destroy(e)})),this.players.push(u),u}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by ".concat(e));return t}},{key:"listen",value:function(e,t,n,r){var i=Gh(t,"","","");return qh(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),ud=[],ld={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cd={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,e),this.namespaceId=n;var r,i=t&&t.hasOwnProperty("value");if(this.value=null!=(r=i?t.value:t)?r:null,i){var o=df(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(e,[{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}},{key:"params",get:function(){return this.options.params}}]),e}(),fd=new hd("void"),dd=function(){function e(t,n,r){_classCallCheck(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,bd(n,this._hostClassName)}return _createClass(e,[{key:"listen",value:function(e,t,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var a=Xh(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};a.push(s);var u=Xh(this._engine.statesByElement,e,{});return u.hasOwnProperty(t)||(bd(e,"ng-trigger"),bd(e,"ng-trigger-"+t),u[t]=fd),function(){o._engine.afterFlush((function(){var e=a.indexOf(s);e>=0&&a.splice(e,1),o._triggers[t]||delete u[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),a=new vd(this.id,t,e),s=this._engine.statesByElement.get(e);s||(bd(e,"ng-trigger"),bd(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));var u=s[t],l=new hd(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),s[t]=l,u||(u=fd),"void"===l.value||u.value!==l.value){var c=Xh(this._engine.playersByElement,e,[]);c.forEach((function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()}));var h=o.matchTransition(u.value,l.value,e,l.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:u,toState:l,player:a,isFallbackTransition:f}),f||(bd(e,"ng-animate-queued"),a.onStart((function(){kd(e,"ng-animate-queued")}))),a.onDone((function(){var t=r.players.indexOf(a);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}})),this.players.push(a),c.push(a),a}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(u.params,l.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(l.value,l.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){yf(e,p),mf(e,v)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,r){t._elementListeners.set(r,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,r=this._engine.driver.query(e,".ng-trigger",!0);r.forEach((function(e){if(!e.__ng_removed){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(e){return n.clearElementCache(e)}))}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,o=this._engine.statesByElement.get(e);if(o){var a=[];if(Object.keys(o).forEach((function(t){if(i._triggers[t]){var n=i.trigger(e,t,"void",r);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&Uh(a).onDone((function(){return i._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=t._triggers[i].fallbackTransition,a=t._engine.statesByElement.get(e)[i]||fd,s=new hd("void"),u=new vd(t.id,i,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else for(var a=e;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{var s=e.__ng_removed;s&&s!==ld||(r.afterFlush((function(){return n.clearElementCache(e)})),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){bd(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=t._elementListeners.get(o);a&&a.forEach((function(t){if(t.name==r.triggerName){var n=Gh(o,r.triggerName,r.fromState.value,r.toState.value);n._data=e,qh(r.player,t.phase,n,t.callback)}})),i.markedForDestroy?t._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),pd=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"createNamespace",value:function(e,t){var n=new dd(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&t.add(a)}}return t}},{key:"trigger",value:function(e,t,n,r){if(gd(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(gd(t)){var i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var a=this._fetchNamespace(e);a&&a.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),bd(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),kd(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,r){if(gd(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return gd(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return Uh(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=ld,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)bd(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?Uh(n).onDone((function(){s.forEach((function(e){return e()}))})):s.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new Hf,i=[],o=new Map,a=[],s=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach((function(e){c.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)c.add(t[r])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=_d(f,this.collectedEnterElements),p=new Map,v=0;d.forEach((function(e,t){var n="ng-enter"+v++;p.set(t,n),e.forEach((function(e){return bd(e,n)}))}));for(var g=[],m=new Set,y=new Set,_=0;_<this.collectedLeaveElements.length;_++){var b=this.collectedLeaveElements[_],k=b.__ng_removed;k&&k.setForRemoval&&(g.push(b),m.add(b),k.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach((function(e){return m.add(e)})):y.add(b))}var w=new Map,C=_d(f,Array.from(m));C.forEach((function(e,t){var n="ng-leave"+v++;w.set(t,n),e.forEach((function(e){return bd(e,n)}))})),e.push((function(){d.forEach((function(e,t){var n=p.get(t);e.forEach((function(e){return kd(e,n)}))})),C.forEach((function(e,t){var n=w.get(t);e.forEach((function(e){return kd(e,n)}))})),g.forEach((function(e){n.processLeaveNode(e)}))}));for(var x=[],S=[],T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(t).forEach((function(e){var t=e.player,o=e.element;if(x.push(t),n.collectedEnterElements.length){var c=o.__ng_removed;if(c&&c.setForMove)return void t.destroy()}var f=!h||!n.driver.containsElement(h,o),d=w.get(o),v=p.get(o),g=n._buildInstruction(e,r,v,d,f);if(!g.errors||!g.errors.length)return f||e.isFallbackTransition?(t.onStart((function(){return yf(o,g.fromStyles)})),t.onDestroy((function(){return mf(o,g.toStyles)})),void i.push(t)):(g.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),r.append(o,g.timelines),a.push({instruction:g,player:t,element:o}),g.queriedElements.forEach((function(e){return Xh(s,e,[]).push(t)})),g.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var r=u.get(t);r||u.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}})),void g.postStyleProps.forEach((function(e,t){var n=Object.keys(e),r=l.get(t);r||l.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))})));S.push(g)}));if(S.length){var M=[];S.forEach((function(e){M.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return M.push("- ".concat(e,"\n"))}))})),x.forEach((function(e){return e.destroy()})),this.reportError(M)}var P=new Map,E=new Map;a.forEach((function(e){var t=e.element;r.has(t)&&(E.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,P))})),i.forEach((function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){Xh(P,t,[]).push(e),e.destroy()}))}));var O=g.filter((function(e){return Cd(e,u,l)})),R=new Map;yd(R,this.driver,y,l,"*").forEach((function(e){Cd(e,u,l)&&O.push(e)}));var A=new Map;d.forEach((function(e,t){yd(A,n.driver,new Set(e),u,"!")})),O.forEach((function(e){var t=R.get(e),n=A.get(e);R.set(e,Object.assign(Object.assign({},t),n))}));var I=[],j=[],D={};a.forEach((function(e){var t=e.element,a=e.player,s=e.instruction;if(r.has(t)){if(c.has(t))return a.onDestroy((function(){return mf(t,s.toStyles)})),a.disabled=!0,a.overrideTotalTime(s.totalTime),void i.push(a);var u=D;if(E.size>1){for(var l=t,h=[];l=l.parentNode;){var f=E.get(l);if(f){u=f;break}h.push(l)}h.forEach((function(e){return E.set(e,u)}))}var d=n._buildAnimation(a.namespaceId,s,P,o,A,R);if(a.setRealPlayer(d),u===D)I.push(a);else{var p=n.playersByElement.get(u);p&&p.length&&(a.parentPlayer=Uh(p)),i.push(a)}}else yf(t,s.fromStyles),a.onDestroy((function(){return mf(t,s.toStyles)})),j.push(a),c.has(t)&&i.push(a)})),j.forEach((function(e){var t=o.get(e.element);if(t&&t.length){var n=Uh(t);e.setRealPlayer(n)}})),i.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var N=0;N<g.length;N++){var F=g[N],L=F.__ng_removed;if(kd(F,"ng-leave"),!L||!L.hasAnimation){var V=[];if(s.size){var z=s.get(F);z&&z.length&&V.push.apply(V,_toConsumableArray(z));for(var H=this.driver.query(F,".ng-animating",!0),U=0;U<H.length;U++){var B=s.get(H[U]);B&&B.length&&V.push.apply(V,_toConsumableArray(B))}}var q=V.filter((function(e){return!e.destroyed}));q.length?wd(this,F,q):this.processLeaveNode(F)}}return g.length=0,I.forEach((function(e){n.players.push(e),e.onDone((function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)})),e.play()})),I}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var o=[];if(t){var a=this.playersByQueriedElement.get(e);a&&(o=a)}else{var s=this.playersByElement.get(e);if(s){var u=!i||"void"==i;s.forEach((function(e){e.queued||(u||e.triggerName==r)&&o.push(e)}))}}return(n||r)&&(o=o.filter((function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(e,t,n){var r,i=this,o=t.element,a=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,u=_createForOfIteratorHelper(t.timelines);try{var l=function(){var e=r.value.element,u=e!==o,l=Xh(n,e,[]);i._getPreviousPlayers(e,u,a,s,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)}))};for(u.s();!(r=u.n()).done;)l()}catch(c){u.e(c)}finally{u.f()}yf(o,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,o){var a=this,s=t.triggerName,u=t.element,l=[],c=new Set,h=new Set,f=t.timelines.map((function(t){var f=t.element;c.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new Vh(t.duration,t.delay);var p,v,g=f!==u,m=(p=(n.get(f)||ud).map((function(e){return e.getRealPlayer()})),v=[],function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];i instanceof zh?e(i.players,n):n.push(i)}}(p,v),v).filter((function(e){return!!e.element&&e.element===f})),y=i.get(f),_=o.get(f),b=Bh(0,a._normalizer,0,t.keyframes,y,_),k=a._buildPlayer(t,b,m);if(t.subTimeline&&r&&h.add(f),g){var w=new vd(e,s,f);w.setRealPlayer(k),l.push(w)}return k}));l.forEach((function(e){Xh(a.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete e[t]}return r}(a.playersByQueriedElement,e.element,e)}))})),c.forEach((function(e){return bd(e,"ng-animating")}));var d=Uh(f);return d.onDestroy((function(){c.forEach((function(e){return kd(e,"ng-animating")})),mf(u,t.toStyles)})),h.forEach((function(e){Xh(r,e,[]).push(d)})),d}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Vh(e.duration,e.delay)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}}]),e}(),vd=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new Vh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return qh(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){Xh(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function gd(e){return e&&1===e.nodeType}function md(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function yd(e,t,n,r,i){var o=[];n.forEach((function(e){return o.push(md(e))}));var a=[];r.forEach((function(n,r){var o={};n.forEach((function(e){var n=o[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=cd,a.push(r))})),e.set(r,o)}));var s=0;return n.forEach((function(e){return md(e,o[s++])})),a}function _d(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var r=new Set(t),i=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var o=i.get(t);if(o)return o;var a=t.parentNode;return o=n.has(a)?a:r.has(a)?1:e(a),i.set(t,o),o}(e);1!==t&&n.get(t).push(e)})),n}function bd(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function kd(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function wd(e,t,n){Uh(n).onDone((function(){return e.processLeaveNode(t)}))}function Cd(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach((function(e){return i.add(e)})):t.set(e,r),n.delete(e),!0}var xd=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new pd(t,n,r),this._timelineEngine=new sd(t,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return _createClass(e,[{key:"registerTrigger",value:function(e,t,n,r,i){var o=e+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=jf(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(e,t){return new id(e,t)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(Yh(n),2),o=i[0],a=i[1];this._timelineEngine.command(o,t,a,r)}else this._transitionEngine.trigger(e,t,n,r)}},{key:"listen",value:function(e,t,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(Yh(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,t,s,i)}return this._transitionEngine.listen(e,t,n,r,i)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),e}();function Sd(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=Md(t[0]),t.length>1&&(r=Md(t[t.length-1]))):t&&(n=Md(t)),n||r?new Td(e,n,r):null}var Td=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return _createClass(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&mf(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(mf(this._element,this._initialStyles),this._endStyles&&(mf(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(yf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yf(this._element,this._endStyles),this._endStyles=null),mf(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function Md(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];Pd(i)&&((t=t||{})[i]=e[i])}return t}function Pd(e){return"display"===e||"position"===e}var Ed=function(){function e(t,n,r,i,o,a,s){var u=this;_classCallCheck(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return u._handleCallback(e)}}return _createClass(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=Dd(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),jd(e,"",t),Id(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Od(this._element,this._name,"paused")}},{key:"resume",value:function(){Od(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=Rd(this._element,this._name);this._position=e*this._duration,jd(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Id(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var e,t,n,r;this._destroyed||(this._destroyed=!0,this.finish(),e=this._element,t=this._name,n=Dd(e,"").split(","),(r=Ad(n,t))>=0&&(n.splice(r,1),jd(e,"",n.join(","))))}}]),e}();function Od(e,t,n){jd(e,"PlayState",n,Rd(e,t))}function Rd(e,t){var n=Dd(e,"");return n.indexOf(",")>0?Ad(n.split(","),t):Ad([n],t)}function Ad(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Id(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function jd(e,t,n,r){var i="animation"+t;if(null!=r){var o=e.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}e.style[i]=n}function Dd(e,t){return e.style["animation"+t]}var Nd=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new Ed(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:Ef(e.element,r))}))}this.currentSnapshot=t}}]),e}(),Fd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).element=e,i._startingStyles={},i.__initialized=!1,i._styles=af(r),i}return _createClass(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(Vh),Ld=function(){function e(){_classCallCheck(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return tf(e)}},{key:"matchesElement",value:function(e,t){return nf(e,t)}},{key:"containsElement",value:function(e,t){return rf(e,t)}},{key:"query",value:function(e,t,n){return of(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return af(e)}));var r="@keyframes ".concat(t," {\n"),i="";n.forEach((function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}})),r+="".concat(i,"}\n")})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var s=o.filter((function(e){return e instanceof Nd})),u={};Tf(n,r)&&s.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var l=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}(t=Mf(e,t,u));if(0==n)return new Fd(e,l);var c="gen_css_kf_".concat(this._count++),h=this.buildKeyframeElement(e,c,t);document.querySelector("head").appendChild(h);var f=Sd(e,t),d=new Nd(e,t,c,n,r,i,l,f);return d.onDestroy((function(){var e;(e=h).parentNode.removeChild(e)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}(),Vd=function(){function e(t,n,r,i){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:Ef(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),e}(),zd=function(){function e(){_classCallCheck(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Hd().toString()),this._cssKeyframesDriver=new Ld}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return tf(e)}},{key:"matchesElement",value:function(e,t){return nf(e,t)}},{key:"containsElement",value:function(e,t){return rf(e,t)}},{key:"query",value:function(e,t,n){return of(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},l=o.filter((function(e){return e instanceof Vd}));Tf(n,r)&&l.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var c=Sd(e,t=Mf(e,t=t.map((function(e){return pf(e,!1)})),u));return new Vd(e,t,s,c)}}]),e}();function Hd(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var Ud,Bd=((Ud=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._nextAnimationId=0,i._renderer=e.createRenderer(r.body,{id:"0",encapsulation:ft.None,styles:[],data:{animation:[]}}),i}return _createClass(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?jh(e):e;return Gd(this._renderer,null,t,"register",[n]),new qd(t,this._renderer)}}]),n}(Rh)).\u0275fac=function(e){return new(e||Ud)(Ke(hs),Ke(Rl))},Ud.\u0275prov=pe({token:Ud,factory:Ud.\u0275fac}),Ud),qd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._id=e,i._renderer=r,i}return _createClass(n,[{key:"create",value:function(e,t){return new Wd(this._id,e,t||{},this._renderer)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),Wd=function(){function e(t,n,r,i){_classCallCheck(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Gd(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function Gd(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var Xd,Yd,Qd,$d=((Xd=function(){function e(t,n,r){_classCallCheck(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass(e,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new Zd("",r,this.engine),this._rendererCache.set(r,i)),i}var o=t.id,a=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,e),t.data.animation.forEach((function t(r){Array.isArray(r)?r.forEach(t):n.engine.registerTrigger(o,a,e,r.name,r)})),new Kd(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(e,t,n){var r=this;e>=0&&e<this._microtaskId?this._zone.run((function(){return t(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(e){var t=_slicedToArray(e,2);(0,t[0])(t[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}()).\u0275fac=function(e){return new(e||Xd)(Ke(hs),Ke(xd),Ke(Zu))},Xd.\u0275prov=pe({token:Xd,factory:Xd.\u0275fac}),Xd),Zd=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass(e,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}},{key:"data",get:function(){return this.delegate.data}}]),e}(),Kd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,r,i,o)).factory=e,a.namespaceId=r,a}return _createClass(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var r,i,o=this;if("@"==t.charAt(0)){var a,s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),u=t.substr(1),l="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(a=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],l=a[1]),this.engine.listen(this.namespaceId,s,u,l,(function(e){o.factory.scheduleListenerCallback(e._data||-1,n,e)}))}return this.delegate.listen(e,t,n)}}]),n}(Zd),Jd=((Yd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e.body,r,i)}return n}(xd)).\u0275fac=function(e){return new(e||Yd)(Ke(Rl),Ke(lf),Ke(Zf))},Yd.\u0275prov=pe({token:Yd,factory:Yd.\u0275fac}),Yd),ep=[{provide:lf,useFactory:function(){return"function"==typeof Hd()?new zd:new Ld}},{provide:new Be("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Rh,useClass:Bd},{provide:Zf,useFactory:function(){return new Kf}},{provide:xd,useClass:Jd},{provide:hs,useFactory:function(e,t,n){return new $d(e,t,n)},deps:[yh,xd,Zu]}],tp=((Qd=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Qd}),Qd.\u0275inj=ve({factory:function(e){return new(e||Qd)},providers:ep,imports:[Oh]}),Qd);function np(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return R(r)?(t.pop(),B(t,r)):Q(t)}var rp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._value=e,r}return _createClass(n,[{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new T;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),n}(E),ip=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),op={},ap=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new sp(e,this.resultSelector))}}]),e}(),sp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(e){this.values.push(op),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(L(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.values,a=this.toRespond?o[n]===op?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(V),up=new C((function(e){return e.complete()}));function lp(e){return e?function(e){return new C((function(t){return e.schedule((function(){return t.complete()}))}))}(e):up}function cp(e){return new C((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?q(n):lp()).subscribe(t)}))}function hp(){return Y(1)}function fp(e,t){return function(n){return n.lift(new dp(e,t))}}var dp=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new pp(e,this.predicate,this.thisArg))}}]),e}(),pp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(g),vp=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function gp(e){return function(t){return 0===e?lp():t.lift(new mp(e))}}var mp=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new vp}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new yp(e,this.total))}}]),e}(),yp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(g);function _p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wp;return function(t){return t.lift(new bp(e))}}var bp=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new kp(e,this.errorFactory))}}]),e}(),kp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(g);function wp(){return new ip}function Cp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new xp(e))}}var xp=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Sp(e,this.defaultValue))}}]),e}(),Sp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(g);function Tp(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?fp((function(t,n){return e(t,n,r)})):_,gp(1),n?Cp(t):_p((function(){return new ip})))}}function Mp(e){return function(t){var n=new Pp(e),r=t.lift(n);return n.caught=r}}var Pp=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ep(e,this.selector,this.caught))}}]),e}(),Ep=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new A(this,void 0,void 0);this.add(r);var i=L(this,t,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(V);function Op(e){return function(t){return 0===e?lp():t.lift(new Rp(e))}}var Rp=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new vp}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ap(e,this.total))}}]),e}(),Ap=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(g);function Ip(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?fp((function(t,n){return e(t,n,r)})):_,Op(1),n?Cp(t):_p((function(){return new ip})))}}var jp=function(){function e(t,n,r){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Dp(e,this.predicate,this.thisArg,this.source))}}]),e}(),Dp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(g);function Np(e,t){return"function"==typeof t?function(n){return n.pipe(Np((function(n,r){return q(e(n,r)).pipe(z((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new Fp(e))}}var Fp=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Lp(e,this.project))}}]),e}(),Lp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new A(this,t,n),o=this.destination;o.add(i),this.innerSubscription=L(this,e,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),n}(V);function Vp(){return hp()(np.apply(void 0,arguments))}function zp(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Hp(e,t,n))}}var Hp=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Up(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Up=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),n}(g);function Bp(e,t){return W(e,t,1)}function qp(){}function Wp(e,t,n){return function(r){return r.lift(new Xp(e,t,n))}}var Gp,Xp=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Yp(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),Yp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e))._tapNext=qp,s._tapError=qp,s._tapComplete=qp,s._tapError=o||qp,s._tapComplete=a||qp,r(i)?(s._context=_assertThisInitialized(s),s._tapNext=i):i&&(s._context=i,s._tapNext=i.next||qp,s._tapError=i.error||qp,s._tapComplete=i.complete||qp),s}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(g),Qp=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new $p(e,this.callback))}}]),e}(),$p=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).add(new d(r)),i}return n}(g),Zp=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},Kp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Zp),Jp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Zp),ev=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Zp),tv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Zp),nv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Zp),rv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Zp),iv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Zp),ov=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Zp),av=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Zp),sv=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),uv=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),lv=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),cv=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),hv=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),fv=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),dv=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),pv=((Gp=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Gp)},Gp.\u0275cmp=gt({type:Gp,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Jo(0,"router-outlet")},directives:function(){return[Sm]},encapsulation:2}),Gp),vv=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function gv(e){return new vv(e)}function mv(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function yv(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var _v=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function bv(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];kv(r,wv(t,r))}}function kv(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&bv(e.children,t)}function wv(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Cv(e){var t=e.children&&e.children.map(Cv),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=pv),n}function xv(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!Sv(e[n=r[o]],t[n]))return!1;return!0}function Sv(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function Tv(e){return Array.prototype.concat.apply([],e)}function Mv(e){return e.length>0?e[e.length-1]:null}function Pv(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Ev(e){return ia(e)?e:ra(e)?q(Promise.resolve(e)):np(e)}function Ov(e,t,n){return n?function(e,t){return xv(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!jv(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return Sv(e[n],t[n])}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!jv(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!jv(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!jv(n.segments,a)&&!!n.children.primary&&t(n.children.primary,r,s)}(t,n,n.segments)}(e.root,t.root)}var Rv=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"toString",value:function(){return Lv.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=gv(this.queryParams)),this._queryParamMap}}]),e}(),Av=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,Pv(n,(function(e,t){return e.parent=r}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Vv(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),Iv=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"toString",value:function(){return Wv(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=gv(this.parameters)),this._parameterMap}}]),e}();function jv(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function Dv(e,t){var n=[];return Pv(e.children,(function(e,r){"primary"===r&&(n=n.concat(t(e,r)))})),Pv(e.children,(function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))})),n}var Nv=function e(){_classCallCheck(this,e)},Fv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new $v(e);return new Rv(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,r;return"".concat("/".concat(function e(t,n){if(!t.hasChildren())return Vv(t);if(n){var r=t.children.primary?e(t.children.primary,!1):"",i=[];return Pv(t.children,(function(t,n){"primary"!==n&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=Dv(t,(function(n,r){return"primary"===r?[e(t.children.primary,!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(Vv(t),"/(").concat(o.join("//"),")")}(e.root,!0)),(n=e.queryParams,r=Object.keys(n).map((function(e){var t=n[e];return Array.isArray(t)?t.map((function(t){return"".concat(Hv(e),"=").concat(Hv(t))})).join("&"):"".concat(Hv(e),"=").concat(Hv(t))})),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}(),Lv=new Fv;function Vv(e){return e.segments.map((function(e){return Wv(e)})).join("/")}function zv(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hv(e){return zv(e).replace(/%3B/gi,";")}function Uv(e){return zv(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bv(e){return decodeURIComponent(e)}function qv(e){return Bv(e.replace(/\+/g,"%20"))}function Wv(e){return"".concat(Uv(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(Uv(e),"=").concat(Uv(t[e]))})).join("")));var t}var Gv=/^[^\/()?;=#]+/;function Xv(e){var t=e.match(Gv);return t?t[0]:""}var Yv=/^[^=?&#]+/,Qv=/^[^?&#]+/,$v=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Av([],{}):new Av([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Av(e,t)),n}},{key:"parseSegment",value:function(){var e=Xv(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Iv(Bv(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Xv(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=Xv(this.remaining);r&&(n=r,this.capture(n))}e[Bv(t)]=Bv(n)}}},{key:"parseQueryParam",value:function(e){var t,n,r=(t=this.remaining,(n=t.match(Yv))?n[0]:"");if(r){this.capture(r);var i="";if(this.consumeOptional("=")){var o=function(e){var t=e.match(Qv);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}var a=qv(r),s=qv(i);if(e.hasOwnProperty(a)){var u=e[a];Array.isArray(u)||(u=[u],e[a]=u),u.push(s)}else e[a]=s}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Xv(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new Av([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),Zv=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=Kv(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=Kv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=Jv(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return Jv(e,this._root).map((function(e){return e.value}))}},{key:"root",get:function(){return this._root.value}}]),e}();function Kv(e,t){if(e===t.value)return t;var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=Kv(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function Jv(e,t){if(e===t.value)return[t];var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=Jv(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var eg=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function tg(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var ng=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).snapshot=r,ug(_assertThisInitialized(i),e),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Zv);function rg(e,t){var n=function(e,t){var n=new ag([],{},{},"",{},"primary",t,null,e.root,-1,{});return new sg("",new eg(n,[]))}(e,t),r=new rp([new Iv("",{})]),i=new rp({}),o=new rp({}),a=new rp({}),s=new rp(""),u=new ig(r,i,a,s,o,"primary",t,n.root);return u.snapshot=n.root,new ng(new eg(u,[]),n)}var ig=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(z((function(e){return gv(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(z((function(e){return gv(e)})))),this._queryParamMap}}]),e}();function og(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var ag=function(){function e(t,n,r,i,o,a,s,u,l,c,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}return _createClass(e,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=gv(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=gv(this.queryParams)),this._queryParamMap}}]),e}(),sg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,r)).url=e,ug(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return lg(this._root)}}]),n}(Zv);function ug(e,t){t.value._routerState=e,t.children.forEach((function(t){return ug(e,t)}))}function lg(e){var t=e.children.length>0?" { ".concat(e.children.map(lg).join(", ")," } "):"";return"".concat(e.value).concat(t)}function cg(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,xv(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),xv(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!xv(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),xv(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function hg(e,t){var n,r;return xv(e.params,t.params)&&jv(n=e.url,r=t.url)&&n.every((function(e,t){return xv(e.parameters,r[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||hg(e.parent,t.parent))}function fg(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function dg(e,t,n,r,i){var o={};return r&&Pv(r,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return"".concat(e)})):"".concat(e)})),new Rv(n.root===e?t:function e(t,n,r){var i={};return Pv(t.children,(function(t,o){i[o]=t===n?r:e(t,n,r)})),new Av(t.segments,i)}(n.root,e,t),o,i)}var pg=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&fg(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==Mv(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),vg=function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function gg(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:"".concat(e)}function mg(e,t,n){if(e||(e=new Av([],{})),0===e.segments.length&&e.hasChildren())return yg(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],s=gg(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!wg(s,u,a))return o;r+=2}else{if(!wg(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new Av(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new Av(e.segments.slice(r.pathIndex),e.children),yg(o,0,i)}return r.match&&0===i.length?new Av(e.segments,{}):r.match&&!e.hasChildren()?_g(e,t,n):r.match?yg(e,0,i):_g(e,t,n)}function yg(e,t,n){if(0===n.length)return new Av(e.segments,{});var r=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),i={};return Pv(r,(function(n,r){null!==n&&(i[r]=mg(e.children[r],t,n))})),Pv(e.children,(function(e,t){void 0===r[t]&&(i[t]=e)})),new Av(e.segments,i)}function _g(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=bg(n[i].outlets);return new Av(r,o)}if(0===i&&fg(n[0]))r.push(new Iv(e.segments[t].path,n[0])),i++;else{var a=gg(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&fg(s)?(r.push(new Iv(a,kg(s))),i+=2):(r.push(new Iv(a,{})),i++)}}return new Av(r,{})}function bg(e){var t={};return Pv(e,(function(e,n){null!==e&&(t[n]=_g(new Av([],{}),0,e))})),t}function kg(e){var t={};return Pv(e,(function(e,n){return t[n]="".concat(e)})),t}function wg(e,t,n){return e==n.path&&xv(t,n.parameters)}var Cg=function(){function e(t,n,r,i){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),cg(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=tg(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),Pv(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=tg(e),o=e.value.component?r.children:t;Pv(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=tg(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new fv(e.value.snapshot))})),e.children.length&&this.forwardEvent(new cv(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(cg(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),xg(s.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),l=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=l,a.outlet&&a.outlet.activateWith(r,l),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function xg(e){cg(e.value),e.children.forEach(xg)}function Sg(e){return"function"==typeof e}function Tg(e){return e instanceof Rv}var Mg=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},Pg=function e(t){_classCallCheck(this,e),this.urlTree=t};function Eg(e){return new C((function(t){return t.error(new Mg(e))}))}function Og(e){return new C((function(t){return t.error(new Pg(e))}))}function Rg(e){return new C((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var Ag=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(nt)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(z((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(Mp((function(t){if(t instanceof Pg)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Mg)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(z((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(Mp((function(e){if(e instanceof Mg)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new Av([],{primary:e}):e;return new Rv(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(z((function(e){return new Av([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return np({});var o=[],a=[],s={};return Pv(n,(function(n,i){var u,l,c=(u=i,l=n,r.expandSegmentGroup(e,t,l,u)).pipe(z((function(e){return s[i]=e})));"primary"===i?o.push(c):a.push(c)})),np.apply(null,o.concat(a)).pipe(hp(),Tp(),z((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,i,o){var a=this;return np.apply(void 0,_toConsumableArray(n)).pipe(z((function(s){return a.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(Mp((function(e){if(e instanceof Mg)return np(null);throw e})))})),hp(),Ip((function(e){return!!e})),Mp((function(e,n){if(e instanceof ip||"EmptyError"===e.name){if(a.noLeftoversInUrl(t,r,i))return np(new Av([],{}));throw new Mg(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return Ng(r)!==o?Eg(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Eg(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Og(o):this.lineralizeSegments(n,o).pipe(W((function(n){var o=new Av(n,{});return i.expandSegment(e,o,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var a=this,s=Ig(t,r,i),u=s.matched,l=s.consumedSegments,c=s.lastChild,h=s.positionalParamSegments;if(!u)return Eg(t);var f=this.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?Og(f):this.lineralizeSegments(r,f).pipe(W((function(r){return a.expandSegment(e,t,n,r.concat(i.slice(c)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(z((function(e){return n._loadedConfig=e,new Av(r,{})}))):np(new Av(r,{}));var o=Ig(t,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return Eg(t);var l=r.slice(u);return this.getChildConfig(e,n,r).pipe(W((function(e){var n=e.module,r=e.routes,o=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return Dg(e,t,n)&&"primary"!==Ng(n)}))}(e,n,r)?{segmentGroup:jg(new Av(t,function(e,t){var n={};n.primary=t;var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==Ng(o)&&(n[Ng(o)]=new Av([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new Av(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return Dg(e,t,n)}))}(e,n,r)?{segmentGroup:jg(new Av(e.segments,function(e,t,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;Dg(e,t,s)&&!r[Ng(s)]&&(o[Ng(s)]=new Av([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,l,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(z((function(e){return new Av(s,e)}))):0===r.length&&0===u.length?np(new Av(s,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(z((function(e){return new Av(s.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?np(new _v(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?np(t._loadedConfig):function(e,t,n){var r,i=t.canLoad;return i&&0!==i.length?q(i).pipe(z((function(r){var i,o=e.get(r);if(function(e){return e&&Sg(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!Sg(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return Ev(i)}))).pipe(hp(),(r=function(e){return!0===e},function(e){return e.lift(new jp(r,void 0,e))})):np(!0)}(e.injector,t,n).pipe(W((function(n){return n?r.configLoader.load(e.injector,t).pipe(z((function(e){return t._loadedConfig=e,e}))):function(e){return new C((function(t){return t.error(mv("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):np(new _v([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return np(n);if(r.numberOfChildren>1||!r.children.primary)return Rg(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new Rv(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return Pv(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return Pv(t.children,(function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)})),new Av(o,a)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return e}}]),e}();function Ig(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||yv)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function jg(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Av(e.segments.concat(t.segments),t.children)}return e}function Dg(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Ng(e){return e.outlet||"primary"}var Fg=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},Lg=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function Vg(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function zg(e,t,n){var r=tg(e),i=e.value;Pv(r,(function(e,r){zg(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new Lg(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var Hg=Symbol("INITIAL_VALUE");function Ug(){return Np((function(e){return(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,i=null;return R(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),Q(t,i).lift(new ap(r))}).apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(Op(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return R(r)?(t.pop(),function(e){return Vp(t,e,r)}):function(e){return Vp(t,e)}}(Hg))})))).pipe(zp((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==Hg)return e;if(r===Hg&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Tg(r))return r}return e}),e)}),Hg),fp((function(e){return e!==Hg})),z((function(e){return Tg(e)?e:!0===e})),Op(1))}))}function Bg(e,t){return null!==e&&t&&t(new hv(e)),np(!0)}function qg(e,t){return null!==e&&t&&t(new lv(e)),np(!0)}function Wg(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?np(r.map((function(r){return cp((function(){var i,o=Vg(r,t,n);if(function(e){return e&&Sg(e.canActivate)}(o))i=Ev(o.canActivate(t,e));else{if(!Sg(o))throw new Error("Invalid CanActivate guard");i=Ev(o(t,e))}return i.pipe(Ip())}))}))).pipe(Ug()):np(!0)}function Gg(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return cp((function(){return np(t.guards.map((function(i){var o,a=Vg(i,t.node,n);if(function(e){return e&&Sg(e.canActivateChild)}(a))o=Ev(a.canActivateChild(r,e));else{if(!Sg(a))throw new Error("Invalid CanActivateChild guard");o=Ev(a(r,e))}return o.pipe(Ip())}))).pipe(Ug())}))}));return np(i).pipe(Ug())}var Xg=function e(){_classCallCheck(this,e)},Yg=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(e,[{key:"recognize",value:function(){try{var e=Zg(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new ag([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new eg(n,t),i=new sg(this.url,r);return this.inheritParamsAndData(i._root),np(i)}catch(o){return new C((function(e){return e.error(o)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=og(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=Dv(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),i.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),i}},{key:"processSegment",value:function(e,t,n,r){var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,t,n,r)}catch(s){if(!(s instanceof Xg))throw s}}}catch(u){o.e(u)}finally{o.f()}if(this.noLeftoversInUrl(t,n,r))return[];throw new Xg}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new Xg;if((e.outlet||"primary")!==r)throw new Xg;var i,o=[],a=[];if("**"===e.path){var s=n.length>0?Mv(n).parameters:{};i=new ag(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,em(e),r,e.component,e,Qg(t),$g(t)+n.length,tm(e))}else{var u=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Xg;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||yv)(n,e,t);if(!r)throw new Xg;var i={};Pv(r.posParams,(function(e,t){i[t]=e.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new ag(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,em(e),r,e.component,e,Qg(t),$g(t)+o.length,tm(e))}var l=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),c=Zg(t,o,a,l,this.relativeLinkResolution),h=c.segmentGroup,f=c.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(l,h);return[new eg(i,d)]}if(0===l.length&&0===f.length)return[new eg(i,[])];var p=this.processSegment(l,h,f,"primary");return[new eg(i,p)]}}]),e}();function Qg(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function $g(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Zg(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some((function(n){return Kg(e,t,n)&&"primary"!==Jg(n)}))}(e,n,r)){var o=new Av(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==Jg(s)){var u=new Av([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[Jg(s)]=u}}}catch(l){a.e(l)}finally{a.f()}return i}(e,t,r,new Av(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return Kg(e,t,n)}))}(e,n,r)){var a=new Av(e.segments,function(e,t,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var l=a.value;if(Kg(e,n,l)&&!i[Jg(l)]){var c=new Av([],{});c._sourceSegment=e,c._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[Jg(l)]=c}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var s=new Av(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Kg(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Jg(e){return e.outlet||"primary"}function em(e){return e.data||{}}function tm(e){return e.resolve||{}}function nm(e,t,n,r){var i=Vg(e,t,r);return Ev(i.resolve?i.resolve(t,n):i(t,n))}function rm(e){return function(t){return t.pipe(Np((function(t){var n=e(t);return n?q(n).pipe(z((function(){return t}))):q([t])})))}}var im=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),om=new Be("ROUTES"),am=function(){function e(t,n,r,i){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(z((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new _v(Tv(i.injector.get(om)).map(Cv),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?q(this.loader.load(e)):Ev(e()).pipe(W((function(e){return e instanceof rt?np(e):q(t.compiler.compileModuleAsync(e))})))}}]),e}(),sm=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function um(e){throw e}function lm(e,t,n){return t.parse("/")}function cm(e,t){return np(null)}var hm,fm,dm,pm=((dm=function(){function e(t,n,r,i,o,a,s,u){var l=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new E,this.errorHandler=um,this.malformedUriErrorHandler=lm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:cm,afterPreactivation:cm},this.urlHandlingStrategy=new sm,this.routeReuseStrategy=new im,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(nt),this.console=o.get(Fu);var c=o.get(Zu);this.isNgZoneEnabled=c instanceof Zu,this.resetConfig(u),this.currentUrlTree=new Rv(new Av([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new am(a,s,(function(e){return l.triggerEvent(new sv(e))}),(function(e){return l.triggerEvent(new uv(e))})),this.routerState=rg(this.currentUrlTree,this.rootComponentType),this.transitions=new rp({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(fp((function(e){return 0!==e.id})),z((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),Np((function(e){var r,i,o,a,s=!1,u=!1;return np(e).pipe(Wp((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Np((function(e){var r,i,o,a,s=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||s)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return np(e).pipe(Np((function(e){var r=t.transitions.getValue();return n.next(new Kp(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?up:[e]})),Np((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,i=t.configLoader,o=t.urlSerializer,a=t.config,function(e){return e.pipe(Np((function(e){return function(e,t,n,r,i){return new Ag(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,a).pipe(z((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),Wp((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,o){return function(r){return r.pipe(W((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Yg(e,t,n,r,i,o).recognize()}(e,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,t.serializeUrl(a)),i,o).pipe(z((function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})})));var a})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Wp((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Wp((function(e){var r=new nv(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(s&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.id,l=e.extractedUrl,c=e.source,h=e.restoredState,f=e.extras,d=new Kp(u,t.serializeUrl(l),c,h);n.next(d);var p=rg(l,t.rootComponentType).snapshot;return np(Object.assign(Object.assign({},e),{targetSnapshot:p,urlAfterRedirects:l,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),up})),rm((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Wp((function(e){var n=new rv(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),z((function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=tg(n);return t.children.forEach((function(t){!function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,s=n?n.value:null,u=r?r.getContext(t.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!jv(e.url,t.url);case"pathParamsOrQueryParamsChange":return!jv(e.url,t.url)||!xv(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hg(e,t)||!xv(e.queryParams,t.queryParams);case"paramsChange":default:return!hg(e,t)}}(s,a,a.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new Fg(i)):(a.data=s.data,a._resolvedData=s._resolvedData),e(t,n,a.component?u?u.children:null:r,i,o),l&&o.canDeactivateChecks.push(new Lg(u&&u.outlet&&u.outlet.component||null,s))}else s&&zg(n,u,o),o.canActivateChecks.push(new Fg(i)),e(t,null,a.component?u?u.children:null:r,i,o)}(t,a[t.value.outlet],r,i.concat([t.value]),o),delete a[t.value.outlet]})),Pv(a,(function(e,t){return zg(e,r.getContext(t),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(e,t){return function(n){return n.pipe(W((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?np(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return q(e).pipe(W((function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?np(o.map((function(o){var a,s=Vg(o,t,i);if(function(e){return e&&Sg(e.canDeactivate)}(s))a=Ev(s.canDeactivate(e,t,n,r));else{if(!Sg(s))throw new Error("Invalid CanDeactivate guard");a=Ev(s(e,t,n,r))}return a.pipe(Ip())}))).pipe(Ug()):np(!0)}(e.component,e.route,n,t,r)})),Ip((function(e){return!0!==e}),!0))}(s,r,i,e).pipe(W((function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return q(t).pipe(Bp((function(t){return q([qg(t.route.parent,r),Bg(t.route,r),Gg(e,t.path,n),Wg(e,t.route,n)]).pipe(hp(),Ip((function(e){return!0!==e}),!0))})),Ip((function(e){return!0!==e}),!0))}(r,a,e,t):np(n)})),z((function(e){return Object.assign(Object.assign({},n),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),Wp((function(e){if(Tg(e.guardsResult)){var n=mv('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),Wp((function(e){var n=new iv(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),fp((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new ev(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),rm((function(e){if(e.guards.canActivateChecks.length)return np(e).pipe(Wp((function(e){var n=new ov(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(W((function(e){var t=e.targetSnapshot,i=e.guards.canActivateChecks;return i.length?q(i).pipe(Bp((function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return np({});if(1===i.length){var o=i[0];return nm(e[o],t,n,r).pipe(z((function(e){return _defineProperty({},o,e)})))}var a={};return q(i).pipe(W((function(i){return nm(e[i],t,n,r).pipe(z((function(e){return a[i]=e,e})))}))).pipe(Tp(),z((function(){return a})))}(e._resolve,e,t,r).pipe(z((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),og(e,n).resolve),null})))}(e.route,t,n,r)})),function(e,t){return arguments.length>=2?function(n){return b(zp(e,t),gp(1),Cp(t))(n)}:function(t){return b(zp((function(t,n,r){return e(t,n,r+1)})),gp(1))(t)}}((function(e,t){return e})),z((function(t){return e}))):np(e)})))}),Wp((function(e){var n=new av(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,r})),rm((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),z((function(e){var n=function(e,t,n){var r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.shouldReuseRoute(a.value.snapshot,n.value))return e(t,n,a)}}catch(s){o.e(s)}finally{o.f()}return e(t,n)}))}(t,n,r);return new eg(i,o)}var a=t.retrieve(n.value);if(a){var s=a.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,s),s}var u,l=new ig(new rp((u=n.value).url),new rp(u.params),new rp(u.queryParams),new rp(u.fragment),new rp(u.data),u.outlet,u.component,u),c=n.children.map((function(n){return e(t,n)}));return new eg(l,c)}(e,t._root,n?n._root:void 0);return new ng(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})})),Wp((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(i=t.rootContexts,o=t.routeReuseStrategy,a=function(e){return t.triggerEvent(e)},z((function(e){return new Cg(o,e.targetRouterState,e.currentRouterState,a).activate(i),e}))),Wp({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){t.resetUrlToCurrentUrlTree();var r=new ev(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new Qp(r))}),Mp((function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=Tg(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new ev(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new tv(e.id,t.serializeUrl(e.extractedUrl),r);n.next(a);try{e.resolve(t.errorHandler(r))}catch(l){e.reject(l)}}var s;return up})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){bv(e),this.config=e.map(Cv),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,o=t.preserveQueryParams,a=t.queryParamsHandling,s=t.preserveFragment;gr()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,l=s?this.currentUrlTree.fragment:i,c=null;if(a)switch(a){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return dg(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new pg(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Pv(r.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray(e),[r])}),[]);return new pg(n,t,r)}(n);if(o.toRoot())return dg(t.root,new Av([],{}),t,r,i);var a=function(e,t,n){if(e.isAbsolute)return new vg(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new vg(n.snapshot._urlSegment,!0,0);var r=fg(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new vg(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),s=a.processChildren?yg(a.segmentGroup,a.index,o.commands):mg(a.segmentGroup,a.index,o.commands);return dg(a.segmentGroup,s,t,r,i)}(u,this.currentUrlTree,e,c,l)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};gr()&&this.isNgZoneEnabled&&!Zu.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Tg(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(Tg(e))return Ov(this.currentUrlTree,e,t);var n=this.parseUrl(e);return Ov(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new Jp(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var o,a,s,u=this.getTransition();if(u&&"imperative"!==t&&"imperative"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"hashchange"==t&&"popstate"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"popstate"==t&&"hashchange"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(e,t){o=e,a=t}));var l=++this.navigationId;return this.setTransition({id:l,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}()).\u0275fac=function(e){Yo()},dm.\u0275dir=wt({type:dm}),dm),vm=((fm=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(e,[{key:"onClick",value:function(){var e={skipLocationChange:mm(this.skipLocationChange),replaceUrl:mm(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){gr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:mm(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:mm(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||fm)(Go(pm),Go(ig),Xo("tabindex"),Go(ds),Go(ls))},fm.\u0275dir=wt({type:fm,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&oa("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),fm),gm=((hm=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof Jp&&i.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:mm(this.skipLocationChange),replaceUrl:mm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){gr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:mm(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:mm(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||hm)(Go(pm),Go(ig),Go(Bl))},hm.\u0275dir=wt({type:hm,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&oa("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(Ha("href",t.href,br),Ho("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Qa]}),hm);function mm(e){return""===e||!!e}var ym,_m,bm,km,wm=((ym=function(){function e(t,n,r,i,o){var a=this;_classCallCheck(this,e),this.router=t,this.element=n,this.renderer=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe((function(e){e instanceof Jp&&a.update()}))}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.links.changes.subscribe((function(t){return e.update()})),this.linksWithHrefs.changes.subscribe((function(t){return e.update()})),this.update()}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"update",value:function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.classes.forEach((function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(e){var t=this;return function(n){return e.isActive(n.urlTree,t.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter((function(e){return!!e}))}}]),e}()).\u0275fac=function(e){return new(e||ym)(Go(pm),Go(ls),Go(ds),Go(vm,8),Go(gm,8))},ym.\u0275dir=wt({type:ym,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var r;1&e&&(ku(n,vm,!0),ku(n,gm,!0)),2&e&&(mu(r=xu())&&(t.links=r),mu(r=xu())&&(t.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Qa]}),ym),Cm=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new xm,this.attachRef=null},xm=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Cm,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Sm=((_m=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new au,this.deactivateEvents=new au,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Tm(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}()).\u0275fac=function(e){return new(e||_m)(Go(xm),Go(js),Go(us),Xo("name"),Go(lo))},_m.\u0275dir=wt({type:_m,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),_m),Tm=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===ig?this.route:e===xm?this.childContexts:this.parent.get(e,t)}}]),e}(),Mm=function e(){_classCallCheck(this,e)},Pm=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return np(null)}}]),e}(),Em=((km=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new am(n,r,(function(e){return t.triggerEvent(new sv(e))}),(function(e){return t.triggerEvent(new uv(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(fp((function(e){return e instanceof Jp})),Bp((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(nt);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(s){i.e(s)}finally{i.f()}return q(r).pipe(Y(),z((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(W((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}()).\u0275fac=function(e){return new(e||km)(Ke(pm),Ke(_l),Ke(Xu),Ke(To),Ke(Mm))},km.\u0275prov=pe({token:km,factory:km.\u0275fac}),km),Om=((bm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Kp?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Jp&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof dv&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new dv(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){Yo()},bm.\u0275dir=wt({type:bm}),bm),Rm=new Be("ROUTER_CONFIGURATION"),Am=new Be("ROUTER_FORROOT_GUARD"),Im=[Zl,{provide:Nv,useClass:Fv},{provide:pm,useFactory:function(e,t,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,c=new pm(null,e,t,n,r,i,o,Tv(a));if(u&&(c.urlHandlingStrategy=u),l&&(c.routeReuseStrategy=l),s.errorHandler&&(c.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(c.malformedUriErrorHandler=s.malformedUriErrorHandler),s.enableTracing){var h=El();c.events.subscribe((function(e){h.logGroup("Router Event: ".concat(e.constructor.name)),h.log(e.toString()),h.log(e),h.logGroupEnd()}))}return s.onSameUrlNavigation&&(c.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(c.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.urlUpdateStrategy&&(c.urlUpdateStrategy=s.urlUpdateStrategy),s.relativeLinkResolution&&(c.relativeLinkResolution=s.relativeLinkResolution),c},deps:[Nv,xm,Zl,To,_l,Xu,om,Rm,[function(){return function e(){_classCallCheck(this,e)}}(),new ue],[function(){return function e(){_classCallCheck(this,e)}}(),new ue]]},xm,{provide:ig,useFactory:function(e){return e.routerState.root},deps:[pm]},{provide:_l,useClass:wl},Em,Pm,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(Mp((function(){return np(null)})))}}]),e}(),{provide:Rm,useValue:{enableTracing:!1}}];function jm(){return new hl("Router",pm)}var Dm,Nm=((Dm=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Im,zm(t),{provide:Am,useFactory:Vm,deps:[[pm,new ue,new ce]]},{provide:Rm,useValue:n||{}},{provide:Bl,useFactory:Lm,deps:[Al,[new se(Yl),new ue],Rm]},{provide:Om,useFactory:Fm,deps:[pm,Kc,Rm]},{provide:Mm,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Pm},{provide:hl,multi:!0,useFactory:jm},[Um,{provide:Eu,multi:!0,useFactory:Bm,deps:[Um]},{provide:Wm,useFactory:qm,deps:[Um]},{provide:Nu,multi:!0,useExisting:Wm}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[zm(t)]}}}]),e}()).\u0275mod=bt({type:Dm}),Dm.\u0275inj=ve({factory:function(e){return new(e||Dm)(Ke(Am,8),Ke(pm,8))}}),Dm);function Fm(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Om(e,t,n)}function Lm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new $l(e,t):new Ql(e,t)}function Vm(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function zm(e){return[{provide:Mo,multi:!0,useValue:e},{provide:om,multi:!0,useValue:e}]}var Hm,Um=((Hm=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new E}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(Dl,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(pm),i=e.injector.get(Rm);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?np(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Rm),n=this.injector.get(Em),r=this.injector.get(Om),i=this.injector.get(pm),o=this.injector.get(ml);e===o.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}()).\u0275fac=function(e){return new(e||Hm)(Ke(To))},Hm.\u0275prov=pe({token:Hm,factory:Hm.\u0275fac}),Hm);function Bm(e){return e.appInitializer.bind(e)}function qm(e){return e.bootstrapListener.bind(e)}var Wm=new Be("Router Initializer"),Gm=function e(){_classCallCheck(this,e)},Xm=function e(){_classCallCheck(this,e)},Ym=function(){function e(t){var n=this;_classCallCheck(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach((function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(t).forEach((function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))}))}:this.headers=new Map}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(e){return t.applyUpdate(e)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach((function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))}))}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,_toConsumableArray(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var o=this.headers.get(t);if(!o)return;0===(o=o.filter((function(e){return-1===i.indexOf(e)}))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return e(t.normalizedNames.get(n),t.headers.get(n))}))}}]),e}(),Qm=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"encodeKey",value:function(e){return $m(e)}},{key:"encodeValue",value:function(e){return $m(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function $m(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Zm=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,e),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Qm,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){var n=new Map;return e.length>0&&e.split("&").forEach((function(e){var r=e.indexOf("="),i=_slicedToArray(-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],2),o=i[0],a=i[1],s=n.get(o)||[];s.push(a),n.set(o,s)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(e){var r=n.fromObject[e];t.map.set(e,Array.isArray(r)?r:[r])}))):this.map=null}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map((function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map((function(t){return n+"="+e.encoder.encodeValue(t)})).join("&")})).filter((function(e){return""!==e})).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(t){return e.map.set(t,e.cloneFrom.map.get(t))})),this.updates.forEach((function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(t.value);-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}})),this.cloneFrom=this.updates=null)}}]),e}();function Km(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Jm(e){return"undefined"!=typeof Blob&&e instanceof Blob}function ey(e){return"undefined"!=typeof FormData&&e instanceof FormData}var ty=function(){function e(t,n,r,i){var o;if(_classCallCheck(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ym),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new Zm,this.urlWithParams=n}return _createClass(e,[{key:"serializeBody",value:function(){return null===this.body?null:Km(this.body)||Jm(this.body)||ey(this.body)||"string"==typeof this.body?this.body:this.body instanceof Zm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||ey(this.body)?null:Jm(this.body)?this.body.type||null:Km(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Zm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,u=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((function(e,n){return e.set(n,t.setHeaders[n])}),u)),t.setParams&&(l=Object.keys(t.setParams).reduce((function(e,n){return e.set(n,t.setParams[n])}),l)),new e(n,r,o,{params:l,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),e}(),ny=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}(),ry=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,e),this.headers=t.headers||new Ym,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},iy=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,r)).type=ny.ResponseHeader,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(ry),oy=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,r)).type=ny.Response,e.body=void 0!==r.body?r.body:null,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(ry),ay=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return n}(ry);function sy(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var uy,ly,cy,hy,fy,dy,py,vy,gy,my=((uy=function(){function e(t){_classCallCheck(this,e),this.handler=t}return _createClass(e,[{key:"request",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof ty)n=e;else{var o=void 0;o=i.headers instanceof Ym?i.headers:new Ym(i.headers);var a=void 0;i.params&&(a=i.params instanceof Zm?i.params:new Zm({fromObject:i.params})),n=new ty(e,t,void 0!==i.body?i.body:null,{headers:o,params:a,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=np(n).pipe(Bp((function(e){return r.handler.handle(e)})));if(e instanceof ty||"events"===i.observe)return s;var u=s.pipe(fp((function(e){return e instanceof oy})));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(z((function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return u.pipe(z((function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return u.pipe(z((function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));case"json":default:return u.pipe(z((function(e){return e.body})))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new Zm).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,sy(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,sy(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,sy(n,t))}}]),e}()).\u0275fac=function(e){return new(e||uy)(Ke(Gm))},uy.\u0275prov=pe({token:uy,factory:uy.\u0275fac}),uy),yy=function(){function e(t,n){_classCallCheck(this,e),this.next=t,this.interceptor=n}return _createClass(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),_y=new Be("HTTP_INTERCEPTORS"),by=((ly=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||ly)},ly.\u0275prov=pe({token:ly,factory:ly.\u0275fac}),ly),ky=/^\)\]\}',?\n/,wy=function e(){_classCallCheck(this,e)},Cy=((hy=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}()).\u0275fac=function(e){return new(e||hy)},hy.\u0275prov=pe({token:hy,factory:hy.\u0275fac}),hy),xy=((cy=function(){function e(t){_classCallCheck(this,e),this.xhrFactory=t}return _createClass(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new C((function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((function(e,t){return r.setRequestHeader(e,t.join(","))})),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var o=e.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=e.serializeBody(),s=null,u=function(){if(null!==s)return s;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new Ym(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new iy({headers:i,status:t,statusText:n,url:o})},l=function(){var t=u(),i=t.headers,o=t.status,a=t.statusText,s=t.url,l=null;204!==o&&(l=void 0===r.response?r.responseText:r.response),0===o&&(o=l?200:0);var c=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof l){var h=l;l=l.replace(ky,"");try{l=""!==l?JSON.parse(l):null}catch(f){l=h,c&&(c=!1,l={error:f,text:l})}}c?(n.next(new oy({body:l,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new ay({error:l,headers:i,status:o,statusText:a,url:s||void 0}))},c=function(e){var t=u().url,i=new ay({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(i)},h=!1,f=function(t){h||(n.next(u()),h=!0);var i={type:ny.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(e){var t={type:ny.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",l),r.addEventListener("error",c),e.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:ny.Sent}),function(){r.removeEventListener("error",c),r.removeEventListener("load",l),e.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.abort()}}))}}]),e}()).\u0275fac=function(e){return new(e||cy)(Ke(wy))},cy.\u0275prov=pe({token:cy,factory:cy.\u0275fac}),cy),Sy=new Be("XSRF_COOKIE_NAME"),Ty=new Be("XSRF_HEADER_NAME"),My=function e(){_classCallCheck(this,e)},Py=((gy=function(){function e(t,n,r){_classCallCheck(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Oc(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}()).\u0275fac=function(e){return new(e||gy)(Ke(Rl),Ke(Du),Ke(Sy))},gy.\u0275prov=pe({token:gy,factory:gy.\u0275fac}),gy),Ey=((vy=function(){function e(t,n){_classCallCheck(this,e),this.tokenService=t,this.headerName=n}return _createClass(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||vy)(Ke(My),Ke(Ty))},vy.\u0275prov=pe({token:vy,factory:vy.\u0275fac}),vy),Oy=((py=function(){function e(t,n){_classCallCheck(this,e),this.backend=t,this.injector=n,this.chain=null}return _createClass(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(_y,[]);this.chain=t.reduceRight((function(e,t){return new yy(e,t)}),this.backend)}return this.chain.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||py)(Ke(Xm),Ke(To))},py.\u0275prov=pe({token:py,factory:py.\u0275fac}),py),Ry=((dy=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:Ey,useClass:by}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:Sy,useValue:t.cookieName}:[],t.headerName?{provide:Ty,useValue:t.headerName}:[]]}}}]),e}()).\u0275mod=bt({type:dy}),dy.\u0275inj=ve({factory:function(e){return new(e||dy)},providers:[Ey,{provide:_y,useExisting:Ey,multi:!0},{provide:My,useClass:Py},{provide:Sy,useValue:"XSRF-TOKEN"},{provide:Ty,useValue:"X-XSRF-TOKEN"}]}),dy),Ay=((fy=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:fy}),fy.\u0275inj=ve({factory:function(e){return new(e||fy)},providers:[my,{provide:Gm,useClass:Oy},xy,{provide:Xm,useExisting:xy},Cy,{provide:wy,useExisting:Cy}],imports:[[Ry.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),fy);function Iy(e,t){return new C((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=q(e[s]),l=!1;n.add(u.subscribe({next:function(e){l||(l=!0,a++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&l||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()}))}var jy,Dy,Ny,Fy,Ly=new Be("NgValueAccessor"),Vy={provide:Ly,useExisting:Me((function(){return zy})),multi:!0},zy=((jy=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||jy)(Go(ds),Go(ls))},jy.\u0275dir=wt({type:jy,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&oa("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[os([Vy])]}),jy),Hy={provide:Ly,useExisting:Me((function(){return By})),multi:!0},Uy=new Be("CompositionEventMode"),By=((Fy=function(){function e(t,n,r){var i;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=El()?El().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}()).\u0275fac=function(e){return new(e||Fy)(Go(ds),Go(ls),Go(Uy,8))},Fy.\u0275dir=wt({type:Fy,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&oa("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[os([Hy])]}),Fy),qy=((Ny=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}()).\u0275fac=function(e){return new(e||Ny)},Ny.\u0275dir=wt({type:Ny}),Ny),Wy=((Dy=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(qy)).\u0275fac=function(e){return Gy(e||Dy)},Dy.\u0275dir=wt({type:Dy,features:[Ba]}),Dy),Gy=sr(Wy);function Xy(){throw new Error("unimplemented")}var Yy,Qy,$y=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass(n,[{key:"validator",get:function(){return Xy()}},{key:"asyncValidator",get:function(){return Xy()}}]),n}(qy),Zy=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),Ky=((Qy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(Zy)).\u0275fac=function(e){return new(e||Qy)(Go($y,2))},Qy.\u0275dir=wt({type:Qy,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&Ca("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Ba]}),Qy),Jy=((Yy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(Zy)).\u0275fac=function(e){return new(e||Yy)(Go(Wy,2))},Yy.\u0275dir=wt({type:Yy,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&Ca("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Ba]}),Yy);function e_(e){return null==e||0===e.length}var t_=new Be("NgValidators"),n_=new Be("NgAsyncValidators"),r_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,i_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(e_(t.value)||e_(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(e_(t.value)||e_(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return e_(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return e_(e.value)||r_.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(e_(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(e_(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(o_);return 0==t.length?null:function(e){return s_(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(o_);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(u(r))return Iy(r,null);if(l(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return Iy(i.map((function(e){return r[e]})),i)}}if("function"==typeof t[t.length-1]){var o=t.pop();return Iy(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(z((function(e){return o.apply(void 0,_toConsumableArray(e))})))}return Iy(t,null)}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(a_)).pipe(z(s_))}}}]),e}();function o_(e){return null!=e}function a_(e){var t=ra(e)?q(e):e;if(!ia(t))throw new Error("Expected validator to return Promise or Observable.");return t}function s_(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function u_(e){return e.validate?function(t){return e.validate(t)}:e}function l_(e){return e.validate?function(t){return e.validate(t)}:e}var c_,h_,f_,d_,p_={provide:Ly,useExisting:Me((function(){return v_})),multi:!0},v_=((c_=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||c_)(Go(ds),Go(ls))},c_.\u0275dir=wt({type:c_,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&oa("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[os([p_])]}),c_),g_={provide:Ly,useExisting:Me((function(){return y_})),multi:!0},m_=((f_=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}()).\u0275fac=function(e){return new(e||f_)},f_.\u0275prov=pe({token:f_,factory:f_.\u0275fac}),f_),y_=((h_=function(){function e(t,n,r,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get($y),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()).\u0275fac=function(e){return new(e||h_)(Go(ds),Go(ls),Go(m_),Go(To))},h_.\u0275dir=wt({type:h_,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&oa("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[os([g_])]}),h_),__={provide:Ly,useExisting:Me((function(){return b_})),multi:!0},b_=((d_=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||d_)(Go(ds),Go(ls))},d_.\u0275dir=wt({type:d_,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&oa("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[os([__])]}),d_),k_='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',w_='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',C_={provide:Ly,useExisting:Me((function(){return M_})),multi:!0};function x_(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var S_,T_,M_=((T_=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=jo}return _createClass(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=x_(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||T_)(Go(ds),Go(ls))},T_.\u0275dir=wt({type:T_,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&oa("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[os([C_])]}),T_),P_=((S_=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(x_(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}}]),e}()).\u0275fac=function(e){return new(e||S_)(Go(ls),Go(ds),Go(M_,9))},S_.\u0275dir=wt({type:S_,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),S_),E_={provide:Ly,useExisting:Me((function(){return I_})),multi:!0};function O_(e,t){return null==e?"".concat(t):("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var R_,A_,I_=((A_=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=jo}return _createClass(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=t._getOptionValue(a.value);r.push(s)}else for(var u=n.options,l=0;l<u.length;l++){var c=u.item(l);if(c.selected){var h=t._getOptionValue(c.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||A_)(Go(ds),Go(ls))},A_.\u0275dir=wt({type:A_,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&oa("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[os([E_])]}),A_),j_=((R_=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(O_(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(O_(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}}]),e}()).\u0275fac=function(e){return new(e||R_)(Go(ls),Go(ds),Go(I_,9))},R_.\u0275dir=wt({type:R_,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),R_);function D_(e,t){return[].concat(_toConsumableArray(t.path),[e])}function N_(e,t){e||L_(t,"Cannot find control with"),t.valueAccessor||L_(t,"No value accessor for form control with"),e.validator=i_.compose([e.validator,t.validator]),e.asyncValidator=i_.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&F_(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&F_(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function F_(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function L_(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function V_(e){return null!=e?i_.compose(e.map(u_)):null}function z_(e){return null!=e?i_.composeAsync(e.map(l_)):null}var H_=[zy,b_,v_,M_,I_,y_];function U_(e){var t=q_(e)?e.validators:e;return Array.isArray(t)?V_(t):t||null}function B_(e,t){var n=q_(t)?t.asyncValidators:e;return Array.isArray(n)?z_(n):n||null}function q_(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var W_,G_,X_,Y_,Q_,$_,Z_,K_,J_=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"setValidators",value:function(e){this.validator=U_(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=B_(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=a_(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var r=e;return t.forEach((function(e){r=r instanceof tb?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof nb&&r.at(e)||null})),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new au,this.statusChanges=new au}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){q_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),eb=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,U_(i),B_(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(J_),tb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,U_(r),B_(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof eb?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(r,i){n=n||t.contains(i)&&e(r)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,r){n=t(n,e,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(J_),nb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,U_(r),B_(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof eb?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(J_),rb={provide:Wy,useExisting:Me((function(){return ob}))},ib=Promise.resolve(null),ob=((G_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new au,i.form=new tb({},V_(e),z_(r)),i}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(e){var t=this;ib.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),N_(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;ib.then((function(){var n,r,i,o=t._findContainer(e.path);o&&o.removeControl(e.name),n=t._directives,r=e,(i=n.indexOf(r))>-1&&n.splice(i,1)}))}},{key:"addFormGroup",value:function(e){var t=this;ib.then((function(){var n=t._findContainer(e.path),r=new tb({});(function(e,t){null==e&&L_(t,"Cannot find control with"),e.validator=i_.compose([e.validator,t.validator]),e.asyncValidator=i_.composeAsync([e.asyncValidator,t.asyncValidator])})(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;ib.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;ib.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})),this.ngSubmit.emit(e),!1;var t}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(Wy)).\u0275fac=function(e){return new(e||G_)(Go(t_,10),Go(n_,10))},G_.\u0275dir=wt({type:G_,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&oa("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[os([rb]),Ba]}),G_),ab=((W_=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return D_(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return V_(this._validators)}},{key:"asyncValidator",get:function(){return z_(this._asyncValidators)}}]),n}(Wy)).\u0275fac=function(e){return sb(e||W_)},W_.\u0275dir=wt({type:W_,features:[Ba]}),W_),sb=sr(ab),ub=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(k_,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(w_))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(k_,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(w_))}}]),e}(),lb={provide:Wy,useExisting:Me((function(){return cb}))},cb=((X_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof ob||ub.modelGroupParentException()}}]),n}(ab)).\u0275fac=function(e){return new(e||X_)(Go(Wy,5),Go(t_,10),Go(n_,10))},X_.\u0275dir=wt({type:X_,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[os([lb]),Ba]}),X_),hb={provide:$y,useExisting:Me((function(){return db}))},fb=Promise.resolve(null),db=((Q_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this)).control=new eb,a._registered=!1,a.update=new au,a._parent=e,a._rawValidators=r||[],a._rawAsyncValidators=i||[],a.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||L_(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return t.forEach((function(t){var o;t.constructor===By?n=t:(o=t,H_.some((function(e){return o.constructor===e}))?(r&&L_(e,"More than one built-in value accessor matches form control with"),r=t):(i&&L_(e,"More than one custom value accessor matches form control with"),i=t))})),i||r||n||(L_(e,"No valid value accessor for form control with"),null)}(_assertThisInitialized(a),o),a}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!jo(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){N_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof cb)&&this._parent instanceof ab?ub.formGroupNameException():this._parent instanceof cb||this._parent instanceof ob||ub.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||ub.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;fb.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;fb.then((function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()}))}},{key:"path",get:function(){return this._parent?D_(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return V_(this._rawValidators)}},{key:"asyncValidator",get:function(){return z_(this._rawAsyncValidators)}}]),n}($y)).\u0275fac=function(e){return new(e||Q_)(Go(Wy,9),Go(t_,10),Go(n_,10),Go(Ly,10))},Q_.\u0275dir=wt({type:Q_,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[os([hb]),Ba,Qa]}),Q_),pb=((Y_=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Y_)},Y_.\u0275dir=wt({type:Y_,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Y_),vb={provide:t_,useExisting:Me((function(){return gb})),multi:!0},gb=((K_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validate",value:function(e){return this.required?i_.required(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"required",get:function(){return this._required},set:function(e){this._required=null!=e&&!1!==e&&"false"!=="".concat(e),this._onChange&&this._onChange()}}]),e}()).\u0275fac=function(e){return new(e||K_)},K_.\u0275dir=wt({type:K_,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&Ho("required",t.required?"":null)},inputs:{required:"required"},features:[os([vb])]}),K_),mb=((Z_=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Z_}),Z_.\u0275inj=ve({factory:function(e){return new(e||Z_)}}),Z_),yb=(($_=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:$_}),$_.\u0275inj=ve({factory:function(e){return new(e||$_)},providers:[m_],imports:[mb]}),$_),_b=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(d)),bb=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),kb=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bb.now;return _classCallCheck(this,n),(r=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(r)?n.delegate.now():i()}))).actions=[],r.active=!1,r.scheduled=void 0,r}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(bb))(_b);function wb(e,t,n,i){return r(n)&&(i=n,n=void 0),i?wb(e,t,n).pipe(z((function(e){return u(e)?i.apply(void 0,_toConsumableArray(e)):i(e)}))):new C((function(r){!function e(t,n,r,i,o){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var s=t;t.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var u=t;t.on(n,r),a=function(){return u.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var l=t;t.addListener(n,r),a=function(){return l.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,h=t.length;c<h;c++)e(t[c],n,r,i,o)}i.add(a)}(e,t,(function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),r,n)}))}var Cb=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new xb(e))}}]),e}(),xb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).hasFirst=!1,r.observables=[],r.subscriptions=[],r}return _createClass(n,[{key:"_next",value:function(e){this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=L(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}},{key:"notifyNext",value:function(e,t,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var a=this.subscriptions[o];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(t)}}]),n}(V);function Sb(e){return function(t){return t.lift(new Tb(e))}}var Tb=function(){function e(t){_classCallCheck(this,e),this.notifier=t}return _createClass(e,[{key:"call",value:function(e,t){var n=new Mb(e),r=L(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}]),e}(),Mb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).seenValue=!1,r}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(V);function Pb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Eb(t,n))}}var Eb=function(){function e(t,n){_classCallCheck(this,e),this.observables=t,this.project=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ob(e,this.observables,this.project))}}]),e}(),Ob=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;_classCallCheck(this,n),(o=t.call(this,e)).observables=r,o.project=i,o.toRespond=[];var a=r.length;o.values=new Array(a);for(var s=0;s<a;s++)o.toRespond.push(s);for(var u=0;u<a;u++){var l=r[u];o.add(L(_assertThisInitialized(o),l,l,u))}return o}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.values[n]=t;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(e){if(0===this.toRespond.length){var t=[e].concat(_toConsumableArray(this.values));this.project?this._tryProject(t):this.destination.next(t)}}},{key:"_tryProject",value:function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(V);function Rb(e,t){return new C(t?function(n){return t.schedule(Ab,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function Ab(e){var t=e.error;e.subscriber.error(t)}var Ib,jb=((Ib=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return np(this.value);case"E":return Rb(this.error);case"C":return lp()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new Ib("C"),Ib.undefinedValueNotification=new Ib("N",void 0),Ib);function Db(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kb,r=(t=e)instanceof Date&&!isNaN(+t)?+e-n.now():Math.abs(e);return function(e){return e.lift(new Nb(r,n))}}var Nb=function(){function e(t,n){_classCallCheck(this,e),this.delay=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Fb(e,this.delay,this.scheduler))}}]),e}(),Fb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).delay=r,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return _createClass(n,[{key:"_schedule",value:function(e){this.active=!0,this.destination.add(e.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}},{key:"scheduleNotification",value:function(e){if(!0!==this.errored){var t=this.scheduler,n=new Lb(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}}},{key:"_next",value:function(e){this.scheduleNotification(jb.createNext(e))}},{key:"_error",value:function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(jb.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1}}]),n}(g),Lb=function e(t,n){_classCallCheck(this,e),this.time=t,this.notification=n};$localize(_templateObject());var Vb=["*"];$localize(_templateObject2()),$localize(_templateObject3()),$localize(_templateObject4()),$localize(_templateObject5()),$localize(_templateObject6()),$localize(_templateObject7()),$localize(_templateObject8()),$localize(_templateObject9()),$localize(_templateObject10()),$localize(_templateObject11());var zb=["dialog"];function Hb(e,t){1&e&&Na(0),2&e&&Fa(ua(2).title)}function Ub(e,t){}function Bb(e,t){if(1&e&&(Zo(0,"h3",3),qo(1,Hb,1,1,"ng-template",null,4,Pu),qo(3,Ub,0,0,"ng-template",5),Ko()),2&e){var n=Wo(2),r=ua();Nr(3),Qo("ngTemplateOutlet",r.isTitleTemplate()?r.title:n)("ngTemplateOutletContext",r.context)}}function qb(e,t){}function Wb(e,t){if(1&e){var n=na();Zo(0,"li",4),Zo(1,"a",5),oa("click",(function(e){Kt(n);var r=t.$implicit;return ua().select(r.id),e.preventDefault()})),Na(2),qo(3,qb,0,0,"ng-template",6),Ko(),Ko()}if(2&e){var r=t.$implicit,i=ua();Nr(1),Ca("active",r.id===i.activeId)("disabled",r.disabled),Qo("id",r.id),Ho("tabindex",r.disabled?"-1":void 0)("aria-controls",i.destroyOnHide&&r.id!==i.activeId?null:r.id+"-panel")("aria-selected",r.id===i.activeId)("aria-disabled",r.disabled),Nr(1),La(" ",r.title,""),Nr(1),Qo("ngTemplateOutlet",(null==r.titleTpl?null:r.titleTpl.templateRef)||null)}}function Gb(e,t){}function Xb(e,t){if(1&e&&(Zo(0,"div",8),qo(1,Gb,0,0,"ng-template",6),Ko()),2&e){var n=ua().$implicit,r=ua();i=n.id===r.activeId?"active":null,Ma(ut,Sa,Uo($t(),"tab-pane ",i,""),!0),da("id","",n.id,"-panel"),Ho("aria-labelledby",n.id),Nr(1),Qo("ngTemplateOutlet",(null==n.contentTpl?null:n.contentTpl.templateRef)||null)}var i}function Yb(e,t){if(1&e&&qo(0,Xb,2,6,"div",7),2&e){var n=t.$implicit,r=ua();Qo("ngIf",!r.destroyOnHide||n.id===r.activeId)}}function Qb(e){return null!=e}$localize(_templateObject12()),$localize(_templateObject13()),$localize(_templateObject14()),$localize(_templateObject15()),$localize(_templateObject16()),$localize(_templateObject17()),$localize(_templateObject18()),$localize(_templateObject19()),$localize(_templateObject20(),"\ufffd0\ufffd"),$localize(_templateObject21()),$localize(_templateObject22()),$localize(_templateObject23()),$localize(_templateObject24()),$localize(_templateObject25()),$localize(_templateObject26()),$localize(_templateObject27()),$localize(_templateObject28()),$localize(_templateObject29()),$localize(_templateObject30()),$localize(_templateObject31()),$localize(_templateObject32()),$localize(_templateObject33(),"\ufffd0\ufffd"),$localize(_templateObject34(),"\ufffd0\ufffd"),$localize(_templateObject35()),"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var $b,Zb,Kb,Jb,ek,tk=((ek=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:ek}),ek.\u0275inj=ve({factory:function(e){return new(e||ek)},imports:[[Zc]]}),ek),nk=((Jb=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Jb}),Jb.\u0275inj=ve({factory:function(e){return new(e||Jb)},imports:[[Zc]]}),Jb),rk=((Kb=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Kb}),Kb.\u0275inj=ve({factory:function(e){return new(e||Kb)}}),Kb),ik=((Zb=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Zb}),Zb.\u0275inj=ve({factory:function(e){return new(e||Zb)},imports:[[Zc]]}),Zb),ok=(($b=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:$b}),$b.\u0275inj=ve({factory:function(e){return new(e||$b)}}),$b),ak=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}({}),sk=function(e,t){return!!t&&t.some((function(t){return t.contains(e)}))},uk=function(e,t){return!t||null!=function(e,t){return t?e.closest(t):null}(e,t)},lk="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)),ck=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function hk(e){var t=Array.from(e.querySelectorAll(ck)).filter((function(e){return-1!==e.tabIndex}));return[t[0],t[t.length-1]]}var fk,dk,pk,vk,gk,mk,yk,_k,bk,kk,wk,Ck,xk,Sk,Tk,Mk,Pk,Ek,Ok,Rk,Ak,Ik,jk,Dk,Nk,Fk,Lk,Vk,zk,Hk,Uk,Bk,qk,Wk,Gk=/\s+/,Xk=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getAllStyles",value:function(e){return window.getComputedStyle(e)}},{key:"getStyle",value:function(e,t){return this.getAllStyles(e)[t]}},{key:"isStaticPositioned",value:function(e){return"static"===(this.getStyle(e,"position")||"static")}},{key:"offsetParent",value:function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}},{key:"position",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))t={top:(t=e.getBoundingClientRect()).top,bottom:t.bottom,left:t.left,right:t.right,height:t.height,width:t.width};else{var i=this.offsetParent(e);t=this.offset(e,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return t.top-=r.top,t.bottom-=r.top,t.left-=r.left,t.right-=r.left,n&&(t.top=Math.round(t.top),t.bottom=Math.round(t.bottom),t.left=Math.round(t.left),t.right=Math.round(t.right)),t}},{key:"offset",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return t&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}},{key:"positionElements",value:function(e,t,n,r){var i=_slicedToArray(n.split("-"),2),o=i[0],a=void 0===o?"top":o,s=i[1],u=void 0===s?"center":s,l=r?this.offset(e,!1):this.position(e,!1),c=this.getAllStyles(t),h=parseFloat(c.marginTop),f=parseFloat(c.marginBottom),d=parseFloat(c.marginLeft),p=parseFloat(c.marginRight),v=0,g=0;switch(a){case"top":v=l.top-(t.offsetHeight+h+f);break;case"bottom":v=l.top+l.height;break;case"left":g=l.left-(t.offsetWidth+d+p);break;case"right":g=l.left+l.width}switch(u){case"top":v=l.top;break;case"bottom":v=l.top+l.height-t.offsetHeight;break;case"left":g=l.left;break;case"right":g=l.left+l.width-t.offsetWidth;break;case"center":"top"===a||"bottom"===a?g=l.left+l.width/2-t.offsetWidth/2:v=l.top+l.height/2-t.offsetHeight/2}t.style.transform="translate(".concat(Math.round(g),"px, ").concat(Math.round(v),"px)");var m=t.getBoundingClientRect(),y=document.documentElement,_=window.innerHeight||y.clientHeight,b=window.innerWidth||y.clientWidth;return m.left>=0&&m.top>=0&&m.right<=b&&m.bottom<=_}}]),e}()),Yk=((vk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:vk}),vk.\u0275inj=ve({factory:function(e){return new(e||vk)},imports:[[Zc,yb]]}),vk),Qk=((pk=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||pk)},pk.\u0275dir=wt({type:pk,selectors:[["",8,"navbar"]]}),pk),$k=((dk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:dk}),dk.\u0275inj=ve({factory:function(e){return new(e||dk)}}),dk),Zk=((fk=function e(){_classCallCheck(this,e),this.backdrop=!0,this.keyboard=!0}).\u0275fac=function(e){return new(e||fk)},fk.\u0275prov=pe({factory:function(){return new fk},token:fk,providedIn:"root"}),fk),Kk=function e(t,n,r){_classCallCheck(this,e),this.nodes=t,this.viewRef=n,this.componentRef=r},Jk=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this._type=t,this._injector=n,this._viewContainerRef=r,this._renderer=i,this._componentFactoryResolver=o,this._applicationRef=a,this._windowRef=null,this._contentRef=null}return _createClass(e,[{key:"open",value:function(e,t){return this._windowRef||(this._contentRef=this._getContentRef(e,t),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),this._viewContainerRef.length,this._injector,this._contentRef.nodes)),this._windowRef}},{key:"close",value:function(){var e;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null,(null===(e=this._contentRef)||void 0===e?void 0:e.viewRef)&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null))}},{key:"_getContentRef",value:function(e,t){if(e){if(e instanceof As){var n=e.createEmbeddedView(t);return this._applicationRef.attachView(n),new Kk([n.rootNodes],n)}return new Kk([[this._renderer.createText("".concat(e))]])}return new Kk([])}}]),e}(),ew=function(){},tw=((mk=function(){function e(t){_classCallCheck(this,e),this._document=t}return _createClass(e,[{key:"compensate",value:function(){var e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):ew}},{key:"_adjustBody",value:function(e){var t=this._document.body,n=t.style.paddingRight,r=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]="".concat(r+e,"px"),function(){return t.style["padding-right"]=n}}},{key:"_isPresent",value:function(e){var t=this._document.body.getBoundingClientRect();return window.innerWidth-(t.left+t.right)>=e-.1*e}},{key:"_getWidth",value:function(){var e=this._document.createElement("div");e.className="modal-scrollbar-measure";var t=this._document.body;t.appendChild(e);var n=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),n}}]),e}()).\u0275fac=function(e){return new(e||mk)(Ke(Rl))},mk.\u0275prov=pe({factory:function(){return new mk(Ke(Rl))},token:mk,providedIn:"root"}),mk),nw=((gk=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||gk)},gk.\u0275cmp=gt({type:gk,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:2,hostBindings:function(e,t){2&e&&xa("modal-backdrop fade show"+(t.backdropClass?" "+t.backdropClass:""))},inputs:{backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),gk),rw=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"close",value:function(e){}},{key:"dismiss",value:function(e){}}]),e}(),iw=function(){function e(t,n,r,i){var o=this;_classCallCheck(this,e),this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,t.instance.dismissEvent.subscribe((function(e){o.dismiss(e)})),this.result=new Promise((function(e,t){o._resolve=e,o._reject=t})),this.result.then(null,(function(){}))}return _createClass(e,[{key:"close",value:function(e){this._windowCmptRef&&(this._resolve(e),this._removeModalElements())}},{key:"_dismiss",value:function(e){this._reject(e),this._removeModalElements()}},{key:"dismiss",value:function(e){var t=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then((function(n){!1!==n&&t._dismiss(e)}),(function(){})):!1!==n&&this._dismiss(e)}else this._dismiss(e)}},{key:"_removeModalElements",value:function(){var e=this._windowCmptRef.location.nativeElement;if(e.parentNode.removeChild(e),this._windowCmptRef.destroy(),this._backdropCmptRef){var t=this._backdropCmptRef.location.nativeElement;t.parentNode.removeChild(t),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}},{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}}]),e}(),ow=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}({}),aw=((Ck=function(){function e(t,n,r){_classCallCheck(this,e),this._document=t,this._elRef=n,this._zone=r,this._closed$=new E,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new au}return _createClass(e,[{key:"dismiss",value:function(e){this.dismissEvent.emit(e)}},{key:"ngOnInit",value:function(){this._elWithFocus=this._document.activeElement}},{key:"ngAfterViewInit",value:function(){var e=this,t=this._elRef.nativeElement;if(this._zone.runOutsideAngular((function(){wb(t,"keydown").pipe(Sb(e._closed$),fp((function(t){return t.which===ak.Escape&&e.keyboard}))).subscribe((function(t){return requestAnimationFrame((function(){t.defaultPrevented||e._zone.run((function(){return e.dismiss(ow.ESC)}))}))}));var n=!1;wb(e._dialogEl.nativeElement,"mousedown").pipe(Sb(e._closed$),Wp((function(){return n=!1})),Np((function(){return wb(t,"mouseup").pipe(Sb(e._closed$),Op(1))})),fp((function(e){var n=e.target;return t===n}))).subscribe((function(){n=!0})),wb(t,"click").pipe(Sb(e._closed$)).subscribe((function(r){var i=r.target;!0!==e.backdrop||t!==i||n||e._zone.run((function(){return e.dismiss(ow.BACKDROP_CLICK)})),n=!1}))})),!t.contains(document.activeElement)){var n=t.querySelector("[ngbAutofocus]"),r=hk(t)[0];(n||r||t).focus()}}},{key:"ngOnDestroy",value:function(){var e,t=this,n=this._document.body,r=this._elWithFocus;e=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular((function(){setTimeout((function(){return e.focus()})),t._elWithFocus=null})),this._closed$.next()}}]),e}()).\u0275fac=function(e){return new(e||Ck)(Go(Rl),Go(ls),Go(Zu))},Ck.\u0275cmp=gt({type:Ck,selectors:[["ngb-modal-window"]],viewQuery:function(e,t){var n;1&e&&yu(zb,!0),2&e&&mu(n=xu())&&(t._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:4,hostBindings:function(e,t){2&e&&(Ho("aria-modal",!0)("aria-labelledby",t.ariaLabelledBy),xa("modal fade show d-block"+(t.windowClass?" "+t.windowClass:"")))},inputs:{backdrop:"backdrop",keyboard:"keyboard",ariaLabelledBy:"ariaLabelledBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Vb,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,t){1&e&&(ca(),Zo(0,"div",0,1),Zo(2,"div",2),ha(3),Ko(),Ko()),2&e&&xa("modal-dialog"+(t.size?" modal-"+t.size:"")+(t.centered?" modal-dialog-centered":"")+(t.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],encapsulation:2}),Ck),sw=((wk=function(){function e(t,n,r,i,o,a){var s=this;_classCallCheck(this,e),this._applicationRef=t,this._injector=n,this._document=r,this._scrollBar=i,this._rendererFactory=o,this._ngZone=a,this._activeWindowCmptHasChanged=new E,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe((function(){if(s._windowCmpts.length){var e=s._windowCmpts[s._windowCmpts.length-1];(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];s._ngZone.runOutsideAngular((function(){var e=wb(t,"focusin").pipe(Sb(n),z((function(e){return e.target})));wb(t,"keydown").pipe(Sb(n),fp((function(e){return e.which===ak.Tab})),Pb(e)).subscribe((function(e){var n=_slicedToArray(e,2),r=n[0],i=n[1],o=_slicedToArray(hk(t),2),a=o[0],s=o[1];i!==a&&i!==t||!r.shiftKey||(s.focus(),r.preventDefault()),i!==s||r.shiftKey||(a.focus(),r.preventDefault())})),r&&wb(t,"click").pipe(Sb(n),Pb(e),z((function(e){return e[1]}))).subscribe((function(e){return e.focus()}))}))})(0,e.location.nativeElement,s._activeWindowCmptHasChanged),s._revertAriaHidden(),s._setAriaHidden(e.location.nativeElement)}}))}return _createClass(e,[{key:"open",value:function(e,t,n,r){var i=this,o=r.container instanceof HTMLElement?r.container:Qb(r.container)?this._document.querySelector(r.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),u=function(){i._modalRefs.length||(a.removeClass(i._document.body,"modal-open"),i._revertAriaHidden())};if(!o)throw new Error('The specified modal container "'.concat(r.container||"body",'" was not found in the DOM.'));var l=new rw,c=this._getContentRef(e,r.injector||t,n,l,r),h=!1!==r.backdrop?this._attachBackdrop(e,o):void 0,f=this._attachWindowComponent(e,o,c),d=new iw(f,c,h,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(f),d.result.then(s,s),d.result.then(u,u),l.close=function(e){d.close(e)},l.dismiss=function(e){d.dismiss(e)},this._applyWindowOptions(f.instance,r),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),h&&h.instance&&this._applyBackdropOptions(h.instance,r),d}},{key:"dismissAll",value:function(e){this._modalRefs.forEach((function(t){return t.dismiss(e)}))}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(e,t){var n=e.resolveComponentFactory(nw).create(this._injector);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(e,t,n){var r=e.resolveComponentFactory(aw).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}},{key:"_applyWindowOptions",value:function(e,t){this._windowAttributes.forEach((function(n){Qb(t[n])&&(e[n]=t[n])}))}},{key:"_applyBackdropOptions",value:function(e,t){this._backdropAttributes.forEach((function(n){Qb(t[n])&&(e[n]=t[n])}))}},{key:"_getContentRef",value:function(e,t,n,r,i){return n?n instanceof As?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(e,t,n,r,i):new Kk([])}},{key:"_createFromTemplateRef",value:function(e,t){var n=e.createEmbeddedView({$implicit:t,close:function(e){t.close(e)},dismiss:function(e){t.dismiss(e)}});return this._applicationRef.attachView(n),new Kk([n.rootNodes],n)}},{key:"_createFromString",value:function(e){var t=this._document.createTextNode("".concat(e));return new Kk([[t]])}},{key:"_createFromComponent",value:function(e,t,n,r,i){var o=e.resolveComponentFactory(n),a=To.create({providers:[{provide:rw,useValue:r}],parent:t}),s=o.create(a),u=s.location.nativeElement;return i.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(s.hostView),new Kk([[u]],s.hostView,s)}},{key:"_setAriaHidden",value:function(e){var t=this,n=e.parentElement;n&&e!==this._document.body&&(Array.from(n.children).forEach((function(n){n!==e&&"SCRIPT"!==n.nodeName&&(t._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))})),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach((function(e,t){e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")})),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(e){var t=this,n=function(){var n=t._modalRefs.indexOf(e);n>-1&&t._modalRefs.splice(n,1)};this._modalRefs.push(e),e.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(e){var t=this;this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy((function(){var n=t._windowCmpts.indexOf(e);n>-1&&(t._windowCmpts.splice(n,1),t._activeWindowCmptHasChanged.next())}))}}]),e}()).\u0275fac=function(e){return new(e||wk)(Ke(ml),Ke(To),Ke(Rl),Ke(tw),Ke(hs),Ke(Zu))},wk.\u0275prov=pe({factory:function(){return new wk(Ke(ml),Ke(qe),Ke(Rl),Ke(tw),Ke(hs),Ke(Zu))},token:wk,providedIn:"root"}),wk),uw=((kk=function(){function e(t,n,r,i){_classCallCheck(this,e),this._moduleCFR=t,this._injector=n,this._modalStack=r,this._config=i}return _createClass(e,[{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},this._config,t);return this._modalStack.open(this._moduleCFR,this._injector,e,n)}},{key:"dismissAll",value:function(e){this._modalStack.dismissAll(e)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),e}()).\u0275fac=function(e){return new(e||kk)(Ke(us),Ke(To),Ke(sw),Ke(Zk))},kk.\u0275prov=pe({factory:function(){return new kk(Ke(us),Ke(qe),Ke(sw),Ke(Zk))},token:kk,providedIn:"root"}),kk),lw=((bk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:bk}),bk.\u0275inj=ve({factory:function(e){return new(e||bk)},providers:[uw]}),bk),cw=((_k=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:_k}),_k.\u0275inj=ve({factory:function(e){return new(e||_k)},imports:[[Zc]]}),_k),hw=((yk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:yk}),yk.\u0275inj=ve({factory:function(e){return new(e||yk)},imports:[[Zc]]}),yk),fw=function(){function e(t,n){_classCallCheck(this,e),this.open=t,this.close=n,n||(this.close=t)}return _createClass(e,[{key:"isManual",value:function(){return"manual"===this.open||"manual"===this.close}}]),e}(),dw={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},pw=function(e){return e>0?Db(e):function(e){return e}},vw=((Vk=function e(){_classCallCheck(this,e),this.autoClose=!0,this.placement="auto",this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}).\u0275fac=function(e){return new(e||Vk)},Vk.\u0275prov=pe({factory:function(){return new Vk},token:Vk,providedIn:"root"}),Vk),gw=0,mw=((Lk=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isTitleTemplate",value:function(){return this.title instanceof As}}]),e}()).\u0275fac=function(e){return new(e||Lk)},Lk.\u0275cmp=gt({type:Lk,selectors:[["ngb-popover-window"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(e,t){2&e&&(Ha("id",t.id),xa("popover"+(t.popoverClass?" "+t.popoverClass:"")))},inputs:{title:"title",id:"id",popoverClass:"popoverClass",context:"context"},ngContentSelectors:Vb,decls:4,vars:1,consts:[[1,"arrow"],["class","popover-header",4,"ngIf"],[1,"popover-body"],[1,"popover-header"],["simpleTitle",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(ca(),Jo(0,"div",0),qo(1,Bb,4,2,"h3",1),Zo(2,"div",2),ha(3),Ko()),2&e&&(Nr(1),Qo("ngIf",null!=t.title))},directives:[Nc,Yc],styles:["ngb-popover-window.bs-popover-bottom>.arrow,ngb-popover-window.bs-popover-top>.arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-bottom-left>.arrow,ngb-popover-window.bs-popover-top-left>.arrow{left:2em}ngb-popover-window.bs-popover-bottom-right>.arrow,ngb-popover-window.bs-popover-top-right>.arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left>.arrow,ngb-popover-window.bs-popover-right>.arrow{top:50%;margin-top:-.5rem}ngb-popover-window.bs-popover-left-top>.arrow,ngb-popover-window.bs-popover-right-top>.arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom>.arrow,ngb-popover-window.bs-popover-right-bottom>.arrow{top:auto;bottom:.7em}"],encapsulation:2,changeDetection:0}),Lk),yw=((Fk=function(){function e(t,n,r,i,o,a,s,u,l,c){var h=this;_classCallCheck(this,e),this._elementRef=t,this._renderer=n,this._ngZone=s,this._document=u,this._changeDetector=l,this.shown=new au,this.hidden=new au,this._ngbPopoverWindowId="ngb-popover-".concat(gw++),this._windowRef=null,this.autoClose=a.autoClose,this.placement=a.placement,this.triggers=a.triggers,this.container=a.container,this.disablePopover=a.disablePopover,this.popoverClass=a.popoverClass,this.openDelay=a.openDelay,this.closeDelay=a.closeDelay,this._popupService=new Jk(mw,r,o,n,i,c),this._zoneSubscription=s.onStable.subscribe((function(){h._windowRef&&function(e,t,n,r,i){var o=Array.isArray(n)?n:n.split(Gk),a=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],s=t.classList,u=function(e){var t=_slicedToArray(e.split("-"),2),n=t[0],r=t[1],i=[];return i.push("bs-popover-".concat(n)),r&&i.push("bs-popover-".concat(n,"-").concat(r)),i.forEach((function(e){s.add(e)})),i};a.forEach((function(e){s.remove("bs-popover-".concat(e))}));var l=o.findIndex((function(e){return"auto"===e}));l>=0&&a.forEach((function(e){null==o.find((function(t){return-1!==t.search("^"+e)}))&&o.splice(l++,1,e)}));var c=t.style;c.position="absolute",c.top="0",c.left="0",c["will-change"]="transform";var h,f=null,d=!1,p=_createForOfIteratorHelper(o);try{for(p.s();!(h=p.n()).done;){var v=u(f=h.value);if(Xk.positionElements(e,t,f,r)){d=!0;break}v.forEach((function(e){s.remove(e)}))}}catch(g){p.e(g)}finally{p.f()}d||(u(f=o[0]),Xk.positionElements(e,t,f,r))}(h._elementRef.nativeElement,h._windowRef.location.nativeElement,h.placement,"body"===h.container)}))}return _createClass(e,[{key:"_isDisabled",value:function(){return!!this.disablePopover||!this.ngbPopover&&!this.popoverTitle}},{key:"open",value:function(e){var t=this;this._windowRef||this._isDisabled()||(this._windowRef=this._popupService.open(this.ngbPopover,e),this._windowRef.instance.title=this.popoverTitle,this._windowRef.instance.context=e,this._windowRef.instance.popoverClass=this.popoverClass,this._windowRef.instance.id=this._ngbPopoverWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),function(e,t,n,r,i,o,a,s){var l;n&&e.runOutsideAngular((l=function(){var a=wb(t,"keydown").pipe(Sb(i),fp((function(e){return e.which===ak.Escape})),Wp((function(e){return e.preventDefault()}))),s=wb(t,"mousedown").pipe(z((function(e){var t=e.target;return 2!==e.button&&!sk(t,void 0)&&("inside"===n?sk(t,o)&&uk(t,void 0):"outside"===n?!sk(t,o):uk(t,void 0)||!sk(t,o))})),Sb(i));(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){if(!u(t[0]))return t[0];t=t[0]}return Q(t,void 0).lift(new Cb)})([a,wb(t,"mouseup").pipe(Pb(s),fp((function(e){var t=_slicedToArray(e,2);return t[0],t[1]})),Db(0),Sb(i))]).subscribe((function(){return e.run(r)}))},lk?function(){return setTimeout((function(){return l()}),100)}:l))}(this._ngZone,this._document,this.autoClose,(function(){return t.close()}),this.hidden,[this._windowRef.location.nativeElement]),this.shown.emit())}},{key:"close",value:function(){this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(),this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck())}},{key:"toggle",value:function(){this._windowRef?this.close():this.open()}},{key:"isOpen",value:function(){return null!=this._windowRef}},{key:"ngOnInit",value:function(){this._unregisterListenersFn=function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dw,n=(e||"").trim();if(0===n.length)return[];var r=n.split(/\s+/).map((function(e){return e.split(":")})).map((function(e){var n=t[e[0]]||e;return new fw(n[0],n[1])})),i=r.filter((function(e){return e.isManual()}));if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&r.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return r}(n);if(1===u.length&&u[0].isManual())return function(){};var l=function(e,t,n,r){return new C((function(i){var o=[],a=function(){return i.next(!0)},s=function(){return i.next(!1)},u=function(){return i.next(!r())};return n.forEach((function(n){n.open===n.close?o.push(e.listen(t,n.open,u)):o.push(e.listen(t,n.open,a),e.listen(t,n.close,s))})),function(){o.forEach((function(e){return e()}))}}))}(e,t,u,r).pipe(function(e,t,n){return function(r){var i=null,o=r.pipe(z((function(e){return{open:e}})),fp((function(e){var t=n();return t===e.open||i&&i.open!==t?(i&&i.open!==e.open&&(i=null),!1):(i=e,!0)})),ie());return $(o.pipe(fp((function(e){return e.open})),pw(e)),o.pipe(fp((function(e){return!e.open})),pw(t))).pipe(fp((function(e){return e===i&&(i=null,e.open!==n())})),z((function(e){return e.open})))}}(a,s,r)).subscribe((function(e){return e?i():o()}));return function(){return l.unsubscribe()}}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}},{key:"ngOnChanges",value:function(e){var t=e.ngbPopover,n=e.popoverTitle,r=e.disablePopover,i=e.popoverClass;i&&this.isOpen()&&(this._windowRef.instance.popoverClass=i.currentValue),(t||n||r)&&this._isDisabled()&&this.close()}},{key:"ngOnDestroy",value:function(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Fk)(Go(ls),Go(ds),Go(To),Go(us),Go(js),Go(vw),Go(Zu),Go(Rl),Go(lo),Go(ml))},Fk.\u0275dir=wt({type:Fk,selectors:[["","ngbPopover",""]],inputs:{autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disablePopover:"disablePopover",popoverClass:"popoverClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbPopover:"ngbPopover",popoverTitle:"popoverTitle"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbPopover"],features:[Qa]}),Fk),_w=((Nk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Nk}),Nk.\u0275inj=ve({factory:function(e){return new(e||Nk)},imports:[[Zc]]}),Nk),bw=((Dk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Dk}),Dk.\u0275inj=ve({factory:function(e){return new(e||Dk)},imports:[[Zc]]}),Dk),kw=((jk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:jk}),jk.\u0275inj=ve({factory:function(e){return new(e||jk)},imports:[[Zc]]}),jk),ww=((Ik=function e(){_classCallCheck(this,e),this.justify="start",this.orientation="horizontal",this.type="tabs"}).\u0275fac=function(e){return new(e||Ik)},Ik.\u0275prov=pe({factory:function(){return new Ik},token:Ik,providedIn:"root"}),Ik),Cw=0,xw=((Ak=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||Ak)(Go(As))},Ak.\u0275dir=wt({type:Ak,selectors:[["ng-template","ngbTabTitle",""]]}),Ak),Sw=((Rk=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||Rk)(Go(As))},Rk.\u0275dir=wt({type:Rk,selectors:[["ng-template","ngbTabContent",""]]}),Rk),Tw=((Ok=function(){function e(){_classCallCheck(this,e),this.id="ngb-tab-".concat(Cw++),this.disabled=!1}return _createClass(e,[{key:"ngAfterContentChecked",value:function(){this.titleTpl=this.titleTpls.first,this.contentTpl=this.contentTpls.first}}]),e}()).\u0275fac=function(e){return new(e||Ok)},Ok.\u0275dir=wt({type:Ok,selectors:[["ngb-tab"]],contentQueries:function(e,t,n){var r;1&e&&(ku(n,xw,!1),ku(n,Sw,!1)),2&e&&(mu(r=xu())&&(t.titleTpls=r),mu(r=xu())&&(t.contentTpls=r))},inputs:{id:"id",disabled:"disabled",title:"title"}}),Ok),Mw=((Ek=function(){function e(t){_classCallCheck(this,e),this.destroyOnHide=!0,this.tabChange=new au,this.type=t.type,this.justify=t.justify,this.orientation=t.orientation}return _createClass(e,[{key:"select",value:function(e){var t=this._getTabById(e);if(t&&!t.disabled&&this.activeId!==t.id){var n=!1;this.tabChange.emit({activeId:this.activeId,nextId:t.id,preventDefault:function(){n=!0}}),n||(this.activeId=t.id)}}},{key:"ngAfterContentChecked",value:function(){var e=this._getTabById(this.activeId);this.activeId=e?e.id:this.tabs.length?this.tabs.first.id:null}},{key:"_getTabById",value:function(e){var t=this.tabs.filter((function(t){return t.id===e}));return t.length?t[0]:null}},{key:"justify",set:function(e){this.justifyClass="fill"===e||"justified"===e?"nav-".concat(e):"justify-content-".concat(e)}}]),e}()).\u0275fac=function(e){return new(e||Ek)(Go(ww))},Ek.\u0275cmp=gt({type:Ek,selectors:[["ngb-tabset"]],contentQueries:function(e,t,n){var r;1&e&&ku(n,Tw,!1),2&e&&mu(r=xu())&&(t.tabs=r)},inputs:{destroyOnHide:"destroyOnHide",type:"type",justify:"justify",orientation:"orientation",activeId:"activeId"},outputs:{tabChange:"tabChange"},exportAs:["ngbTabset"],decls:4,vars:4,consts:[["role","tablist"],["class","nav-item",4,"ngFor","ngForOf"],[1,"tab-content"],["ngFor","",3,"ngForOf"],[1,"nav-item"],["href","","role","tab",1,"nav-link",3,"id","click"],[3,"ngTemplateOutlet"],["role","tabpanel",3,"class","id",4,"ngIf"],["role","tabpanel",3,"id"]],template:function(e,t){1&e&&(Zo(0,"ul",0),qo(1,Wb,4,11,"li",1),Ko(),Zo(2,"div",2),qo(3,Yb,1,1,"ng-template",3),Ko()),2&e&&(xa("nav nav-"+t.type+("horizontal"==t.orientation?" "+t.justifyClass:" flex-column")),Nr(1),Qo("ngForOf",t.tabs),Nr(2),Qo("ngForOf",t.tabs))},directives:[jc,Yc,Nc],encapsulation:2}),Ek),Pw=((Pk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Pk}),Pk.\u0275inj=ve({factory:function(e){return new(e||Pk)},imports:[[Zc]]}),Pk),Ew=((Mk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Mk}),Mk.\u0275inj=ve({factory:function(e){return new(e||Mk)},imports:[[Zc]]}),Mk),Ow=((Tk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Tk}),Tk.\u0275inj=ve({factory:function(e){return new(e||Tk)},imports:[[Zc]]}),Tk),Rw=((Sk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Sk}),Sk.\u0275inj=ve({factory:function(e){return new(e||Sk)}}),Sk),Aw=((xk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:xk}),xk.\u0275inj=ve({factory:function(e){return new(e||xk)},imports:[[Zc]]}),xk),Iw=[tk,nk,rk,ik,ok,Yk,$k,lw,cw,hw,_w,bw,kw,Ew,Ow,Rw,Aw,Pw],jw=((Bk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Bk}),Bk.\u0275inj=ve({factory:function(e){return new(e||Bk)},imports:[Iw,tk,nk,rk,ik,ok,Yk,$k,lw,cw,hw,_w,bw,kw,Ew,Ow,Rw,Aw,Pw]}),Bk),Dw=((Uk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Uk}),Uk.\u0275inj=ve({factory:function(e){return new(e||Uk)},imports:[[Zc,yb,jw]]}),Uk),Nw=((Hk=function(){function e(){_classCallCheck(this,e),this.projects=[]}return _createClass(e,[{key:"addProject",value:function(e,t){void 0===this.projects[e]&&(this.projects[e]=[]),this.projects[e].push(t)}},{key:"getProjects",value:function(e){return void 0===this.projects[e]&&(this.projects[e]=[]),this.projects[e]}},{key:"numProjects",value:function(e){return this.getProjects(e).length}},{key:"getProject",value:function(e,t){return this.getProjects(e)[t]}}]),e}()).\u0275fac=function(e){return new(e||Hk)},Hk.\u0275prov=pe({token:Hk,factory:Hk.\u0275fac}),Hk),Fw=((zk=function e(){var t=this;_classCallCheck(this,e),this.onResize=new au,window.addEventListener("resize",(function(e){t.onResize.emit()}))}).\u0275prov=pe({token:zk,factory:zk.\u0275fac=function(e){return new(e||zk)},providedIn:"root"}),zk),Lw=function(e){return e[e.TTestPaired=0]="TTestPaired",e[e.TTestIndependent=1]="TTestIndependent",e[e.ZTest=2]="ZTest",e[e.Dichot=3]="Dichot",e}({}),Vw=((Wk=function e(){_classCallCheck(this,e),this.calculate=new au,this.toggleHelp=new au}).\u0275fac=function(e){return new(e||Wk)},Wk.\u0275cmp=gt({type:Wk,selectors:[["ng-component"]],outputs:{calculate:"calculate",toggleHelp:"toggleHelp"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),Wk),zw=((qk=function e(){_classCallCheck(this,e),this.projectChanged=new au,this.projectSwitched=new au}).\u0275fac=function(e){return new(e||qk)},qk.\u0275cmp=gt({type:qk,selectors:[["ng-component"]],outputs:{projectChanged:"projectChanged",projectSwitched:"projectSwitched"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),qk),Hw=["main"];function Uw(e,t){if(1&e){var n=na();Zo(0,"div",1,2),Zo(2,"div",3),oa("mousedown",(function(e){return Kt(n),ua().mousedown(e)}))("mouseup",(function(e){return Kt(n),ua().mouseup(e)}))("mousemove",(function(e){return Kt(n),ua().mousemove(e)})),Na(3),Zo(4,"button",4),oa("click",(function(){return Kt(n),ua().close()})),Ko(),Ko(),Zo(5,"div",5),ha(6),Ko(),Ko()}if(2&e){var r=ua();wa("top",r.yOffset?r.yOffset+"px":r.startYOffset)("left",r.xOffset?r.xOffset+"px":r.startXOffset),Nr(3),La(" ",r.title," ")}}var Bw,qw=["*"],Ww=((Bw=function(){function e(){_classCallCheck(this,e),this.startEnabled=!1,this.startXOffset="20px",this.startYOffset="20px",this.onDragStart=new au,this.onDragEnd=new au,this.enabled=!1,this.dragging=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.enabled=this.startEnabled}},{key:"open",value:function(){this.enabled=!0}},{key:"toggle",value:function(){this.enabled=!this.enabled}},{key:"close",value:function(){this.enabled=!1}},{key:"isOpen",value:function(){return this.enabled}},{key:"mousedown",value:function(e){this.startDragging();var t=this.mainElement.nativeElement.getBoundingClientRect();this.xOffset=t.left+window.pageXOffset,this.yOffset=t.top+window.pageYOffset,this.lastX=e.pageX,this.lastY=e.pageY}},{key:"mouseup",value:function(e){this.stopDragging()}},{key:"mousemove",value:function(e){if(this.dragging){if(0==(1&e.buttons))return void this.stopDragging();this.xOffset+=e.pageX-this.lastX,this.yOffset+=e.pageY-this.lastY,this.lastX=e.pageX,this.lastY=e.pageY}}},{key:"startDragging",value:function(){this.dragging=!0,this.onDragStart.emit()}},{key:"stopDragging",value:function(){this.dragging=!1,this.onDragEnd.emit()}}]),e}()).\u0275fac=function(e){return new(e||Bw)},Bw.\u0275cmp=gt({type:Bw,selectors:[["app-draggable-dialog"]],viewQuery:function(e,t){var n;1&e&&_u(Hw,!0),2&e&&mu(n=xu())&&(t.mainElement=n.first)},inputs:{title:"title",content:"content",startEnabled:["start-enabled","startEnabled"],startXOffset:["start-x-offset","startXOffset"],startYOffset:["start-y-offset","startYOffset"]},outputs:{onDragStart:"drag-start",onDragEnd:"drag-end"},ngContentSelectors:qw,decls:1,vars:1,consts:[["class","dialog",3,"top","left",4,"ngIf"],[1,"dialog"],["main",""],[1,"header",3,"mousedown","mouseup","mousemove"],["type","button",1,"close","fa","fa-times-circle",3,"click"],[1,"content"]],template:function(e,t){1&e&&(ca(),qo(0,Uw,7,5,"div",0)),2&e&&Qo("ngIf",t.enabled)},directives:[Nc],styles:[".dialog[_ngcontent-%COMP%]{display:block;position:absolute;z-index:100;background-color:#fff;border:1px solid #888;border-radius:10px;box-shadow:5px 5px 25px #888;top:20px;left:20px;width:25vw;min-width:300px}.dialog[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:larger;font-weight:700;background-color:#e5e5e5;border-bottom:1px solid #ccc;padding:10px;border-radius:10px 10px 0 0;cursor:move}.dialog[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{float:right;margin:5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto;height:50vh;padding:5px;margin:0 5px}"]}),Bw),Gw=function(e){return e[e.Fixed=0]="Fixed",e[e.NotFixed=1]="NotFixed",e[e.NA=2]="NA",e}({}),Xw=function(){function e(){_classCallCheck(this,e),this.updatingPlotData=new au,this.customRanges=!1,this.fixedPSpace=Gw.NA}return _createClass(e,[{key:"getPointsPerPlot",value:function(){return this.pointsPerPlot}},{key:"setPointsPerPlot",value:function(e){this.pointsPerPlot=e}},{key:"getCustomRanges",value:function(){return this.customRanges}},{key:"setCustomRanges",value:function(e){this.customRanges=e,e||this.resetRanges()}},{key:"getFixedPSpace",value:function(){return this.fixedPSpace}},{key:"setFixedPSpace",value:function(e){this.fixedPSpace=e,this.calculateRanges()}}]),e}(),Yw=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},Qw=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return Yw(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}},$w=Qw(Yw).right,Zw=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},Kw=Math.sqrt(50),Jw=Math.sqrt(10),eC=Math.sqrt(2);function tC(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Kw?10:o>=Jw?5:o>=eC?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Kw?10:o>=Jw?5:o>=eC?2:1)}var nC=Array.prototype.slice,rC=function(e){return e};function iC(e){return"translate("+(e+.5)+",0)"}function oC(e){return"translate(0,"+(e+.5)+")"}function aC(e){return function(t){return+e(t)}}function sC(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function uC(){return!this.__axis}function lC(e,t){var n=[],r=null,i=null,o=6,a=6,s=3,u=1===e||4===e?-1:1,l=4===e||2===e?"x":"y",c=1===e||3===e?iC:oC;function h(h){var f=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,d=null==i?t.tickFormat?t.tickFormat.apply(t,n):rC:i,p=Math.max(o,0)+s,v=t.range(),g=+v[0]+.5,m=+v[v.length-1]+.5,y=(t.bandwidth?sC:aC)(t.copy()),_=h.selection?h.selection():h,b=_.selectAll(".domain").data([null]),k=_.selectAll(".tick").data(f,t).order(),w=k.exit(),C=k.enter().append("g").attr("class","tick"),x=k.select("line"),S=k.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(C),x=x.merge(C.append("line").attr("stroke","currentColor").attr(l+"2",u*o)),S=S.merge(C.append("text").attr("fill","currentColor").attr(l,u*p).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),h!==_&&(b=b.transition(h),k=k.transition(h),x=x.transition(h),S=S.transition(h),w=w.transition(h).attr("opacity",1e-6).attr("transform",(function(e){return isFinite(e=y(e))?c(e):this.getAttribute("transform")})),C.attr("opacity",1e-6).attr("transform",(function(e){var t=this.parentNode.__axis;return c(t&&isFinite(t=t(e))?t:y(e))}))),w.remove(),b.attr("d",4===e||2==e?a?"M"+u*a+","+g+"H0.5V"+m+"H"+u*a:"M0.5,"+g+"V"+m:a?"M"+g+","+u*a+"V0.5H"+m+"V"+u*a:"M"+g+",0.5H"+m),k.attr("opacity",1).attr("transform",(function(e){return c(y(e))})),x.attr(l+"2",u*o),S.attr(l,u*p).text(d),_.filter(uC).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),_.each((function(){this.__axis=y}))}return h.scale=function(e){return arguments.length?(t=e,h):t},h.ticks=function(){return n=nC.call(arguments),h},h.tickArguments=function(e){return arguments.length?(n=null==e?[]:nC.call(e),h):n.slice()},h.tickValues=function(e){return arguments.length?(r=null==e?null:nC.call(e),h):r&&r.slice()},h.tickFormat=function(e){return arguments.length?(i=e,h):i},h.tickSize=function(e){return arguments.length?(o=a=+e,h):o},h.tickSizeInner=function(e){return arguments.length?(o=+e,h):o},h.tickSizeOuter=function(e){return arguments.length?(a=+e,h):a},h.tickPadding=function(e){return arguments.length?(s=+e,h):s},h}function cC(e){return lC(3,e)}var hC={value:function(){}};function fC(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new dC(r)}function dC(e){this._=e}function pC(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function vC(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function gC(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=hC,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}dC.prototype=fC.prototype={constructor:dC,on:function(e,t){var n,r=this._,i=pC(e+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)r[n]=gC(r[n],e.name,t);else if(null==t)for(n in r)r[n]=gC(r[n],e.name,null);return this}for(;++o<a;)if((n=(e=i[o]).type)&&(n=vC(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new dC(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var mC=fC;function yC(){}var _C=function(e){return null==e?yC:function(){return this.querySelector(e)}};function bC(){return[]}var kC=function(e){return null==e?bC:function(){return this.querySelectorAll(e)}},wC=function(e){return function(){return this.matches(e)}},CC=function(e){return new Array(e.length)};function xC(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function SC(e,t,n,r,i,o){for(var a,s=0,u=t.length,l=o.length;s<l;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new xC(e,o[s]);for(;s<u;++s)(a=t[s])&&(i[s]=a)}function TC(e,t,n,r,i,o,a){var s,u,l,c={},h=t.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(u=t[s])&&(d[s]=l="$"+a.call(u,u.__data__,s,t),l in c?i[s]=u:c[l]=u);for(s=0;s<f;++s)(u=c[l="$"+a.call(e,o[s],s,o)])?(r[s]=u,u.__data__=o[s],c[l]=null):n[s]=new xC(e,o[s]);for(s=0;s<h;++s)(u=t[s])&&c[d[s]]===u&&(i[s]=u)}function MC(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}xC.prototype={constructor:xC,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var PC="http://www.w3.org/1999/xhtml",EC={svg:"http://www.w3.org/2000/svg",xhtml:PC,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},OC=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),EC.hasOwnProperty(t)?{space:EC[t],local:e}:e};function RC(e){return function(){this.removeAttribute(e)}}function AC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function IC(e,t){return function(){this.setAttribute(e,t)}}function jC(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function DC(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function NC(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var FC=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function LC(e){return function(){this.style.removeProperty(e)}}function VC(e,t,n){return function(){this.style.setProperty(e,t,n)}}function zC(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function HC(e,t){return e.style.getPropertyValue(t)||FC(e).getComputedStyle(e,null).getPropertyValue(t)}function UC(e){return function(){delete this[e]}}function BC(e,t){return function(){this[e]=t}}function qC(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function WC(e){return e.trim().split(/^|\s+/)}function GC(e){return e.classList||new XC(e)}function XC(e){this._node=e,this._names=WC(e.getAttribute("class")||"")}function YC(e,t){for(var n=GC(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function QC(e,t){for(var n=GC(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function $C(e){return function(){YC(this,e)}}function ZC(e){return function(){QC(this,e)}}function KC(e,t){return function(){(t.apply(this,arguments)?YC:QC)(this,e)}}function JC(){this.textContent=""}function ex(e){return function(){this.textContent=e}}function tx(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function nx(){this.innerHTML=""}function rx(e){return function(){this.innerHTML=e}}function ix(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ox(){this.nextSibling&&this.parentNode.appendChild(this)}function ax(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sx(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===PC&&t.documentElement.namespaceURI===PC?t.createElement(e):t.createElementNS(n,e)}}function ux(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}XC.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var lx=function(e){var t=OC(e);return(t.local?ux:sx)(t)};function cx(){return null}function hx(){var e=this.parentNode;e&&e.removeChild(this)}function fx(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function dx(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}var px={},vx=null;function gx(e,t,n){return e=mx(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function mx(e,t,n){return function(r){var i=vx;vx=r;try{e.call(this,this.__data__,t,n)}finally{vx=i}}}function yx(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function _x(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function bx(e,t,n){var r=px.hasOwnProperty(e.type)?gx:mx;return function(i,o,a){var s,u=this.__on,l=r(t,o,a);if(u)for(var c=0,h=u.length;c<h;++c)if((s=u[c]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=t);this.addEventListener(e.type,l,n),s={type:e.type,name:e.name,value:t,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function kx(e,t,n,r){var i=vx;e.sourceEvent=vx,vx=e;try{return t.apply(n,r)}finally{vx=i}}function wx(e,t,n){var r=FC(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Cx(e,t){return function(){return wx(this,e,t)}}function xx(e,t){return function(){return wx(this,e,t.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(px={mouseenter:"mouseover",mouseleave:"mouseout"}));var Sx=[null];function Tx(e,t){this._groups=e,this._parents=t}function Mx(){return new Tx([[document.documentElement]],Sx)}Tx.prototype=Mx.prototype={constructor:Tx,select:function(e){"function"!=typeof e&&(e=_C(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=e.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new Tx(r,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=kC(e));for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(e.call(a,a.__data__,l,s)),i.push(a));return new Tx(r,i)},filter:function(e){"function"!=typeof e&&(e=wC(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&e.call(o,o.__data__,l,a)&&u.push(o);return new Tx(r,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),c=-1,this.each((function(e){p[++c]=e})),p;var n,r=t?TC:SC,i=this._parents,o=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),l=new Array(a),c=0;c<a;++c){var h=i[c],f=o[c],d=f.length,p=e.call(h,h&&h.__data__,c,i),v=p.length,g=u[c]=new Array(v),m=s[c]=new Array(v);r(h,f,g,m,l[c]=new Array(d),p,t);for(var y,_,b=0,k=0;b<v;++b)if(y=g[b]){for(b>=k&&(k=b+1);!(_=m[k])&&++k<v;);y._next=_||null}}return(s=new Tx(s,i))._enter=u,s._exit=l,s},enter:function(){return new Tx(this._enter||this._groups.map(CC),this._parents)},exit:function(){return new Tx(this._exit||this._groups.map(CC),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,i=Math.min(r,n.length),o=new Array(r),a=0;a<i;++a)for(var s,u=t[a],l=n[a],c=u.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=u[f]||l[f])&&(h[f]=s);for(;a<r;++a)o[a]=t[a];return new Tx(o,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=MC);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(t)}return new Tx(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=OC(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?AC:RC:"function"==typeof t?n.local?NC:DC:n.local?jC:IC)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?LC:"function"==typeof t?zC:VC)(e,t,null==n?"":n)):HC(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?UC:"function"==typeof t?qC:BC)(e,t)):this.node()[e]},classed:function(e,t){var n=WC(e+"");if(arguments.length<2){for(var r=GC(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?KC:t?$C:ZC)(n,t))},text:function(e){return arguments.length?this.each(null==e?JC:("function"==typeof e?tx:ex)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?nx:("function"==typeof e?ix:rx)(e)):this.node().innerHTML},raise:function(){return this.each(ox)},lower:function(){return this.each(ax)},append:function(e){var t="function"==typeof e?e:lx(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:lx(e),r=null==t?cx:"function"==typeof t?t:_C(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(hx)},clone:function(e){return this.select(e?dx:fx)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=yx(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?bx:_x,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(e,t){return this.each(("function"==typeof t?xx:Cx)(e,t))}};var Px=Mx,Ex=function(e){return"string"==typeof e?new Tx([[document.querySelector(e)]],[document.documentElement]):new Tx([[e]],Sx)};function Ox(){vx.stopImmediatePropagation()}var Rx=function(){vx.preventDefault(),vx.stopImmediatePropagation()},Ax=function(e){var t=e.document.documentElement,n=Ex(e).on("dragstart.drag",Rx,!0);"onselectstart"in t?n.on("selectstart.drag",Rx,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")},Ix=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function jx(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Dx(){}var Nx="\\s*([+-]?\\d+)\\s*",Fx="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lx="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vx=/^#([0-9a-f]{3,8})$/,zx=new RegExp("^rgb\\("+[Nx,Nx,Nx]+"\\)$"),Hx=new RegExp("^rgb\\("+[Lx,Lx,Lx]+"\\)$"),Ux=new RegExp("^rgba\\("+[Nx,Nx,Nx,Fx]+"\\)$"),Bx=new RegExp("^rgba\\("+[Lx,Lx,Lx,Fx]+"\\)$"),qx=new RegExp("^hsl\\("+[Fx,Lx,Lx]+"\\)$"),Wx=new RegExp("^hsla\\("+[Fx,Lx,Lx,Fx]+"\\)$"),Gx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Xx(){return this.rgb().formatHex()}function Yx(){return this.rgb().formatRgb()}function Qx(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Vx.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?$x(t):3===n?new eS(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?new eS(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?new eS(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=zx.exec(e))?new eS(t[1],t[2],t[3],1):(t=Hx.exec(e))?new eS(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Ux.exec(e))?Zx(t[1],t[2],t[3],t[4]):(t=Bx.exec(e))?Zx(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=qx.exec(e))?iS(t[1],t[2]/100,t[3]/100,1):(t=Wx.exec(e))?iS(t[1],t[2]/100,t[3]/100,t[4]):Gx.hasOwnProperty(e)?$x(Gx[e]):"transparent"===e?new eS(NaN,NaN,NaN,0):null}function $x(e){return new eS(e>>16&255,e>>8&255,255&e,1)}function Zx(e,t,n,r){return r<=0&&(e=t=n=NaN),new eS(e,t,n,r)}function Kx(e){return e instanceof Dx||(e=Qx(e)),e?new eS((e=e.rgb()).r,e.g,e.b,e.opacity):new eS}function Jx(e,t,n,r){return 1===arguments.length?Kx(e):new eS(e,t,n,null==r?1:r)}function eS(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function tS(){return"#"+rS(this.r)+rS(this.g)+rS(this.b)}function nS(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function rS(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function iS(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new aS(e,t,n,r)}function oS(e){if(e instanceof aS)return new aS(e.h,e.s,e.l,e.opacity);if(e instanceof Dx||(e=Qx(e)),!e)return new aS;if(e instanceof aS)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new aS(a,s,u,e.opacity)}function aS(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function sS(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function uS(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}Ix(Dx,Qx,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Xx,formatHex:Xx,formatHsl:function(){return oS(this).formatHsl()},formatRgb:Yx,toString:Yx}),Ix(eS,Jx,jx(Dx,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new eS(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new eS(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tS,formatHex:tS,formatRgb:nS,toString:nS})),Ix(aS,(function(e,t,n,r){return 1===arguments.length?oS(e):new aS(e,t,n,null==r?1:r)}),jx(Dx,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new aS(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new aS(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new eS(sS(e>=240?e-240:e+120,i,r),sS(e,i,r),sS(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var lS=function(e){return function(){return e}};function cS(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):lS(isNaN(e)?t:e)}var hS=function e(t){var n=function(e){return 1==(e=+e)?cS:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):lS(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=Jx(e)).r,(t=Jx(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=cS(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function fS(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Jx(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}fS((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1];return uS((n-r/t)*t,r>0?e[r-1]:2*i-o,i,o,r<t-1?e[r+2]:2*o-i)}})),fS((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t);return uS((n-r/t)*t,e[(r+t-1)%t],e[r%t],e[(r+1)%t],e[(r+2)%t])}}));var dS=function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}};function pS(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=CS(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}var vS,gS,mS=function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}},yS=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},_S=function(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=CS(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},bS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kS=new RegExp(bS.source,"g"),wS=function(e,t){var n,r,i,o=bS.lastIndex=kS.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=bS.exec(e))&&(r=kS.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:yS(n,r)})),o=kS.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})},CS=function(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?lS(t):("number"===i?yS:"string"===i?(n=Qx(t))?(t=n,hS):wS:t instanceof Qx?hS:t instanceof Date?mS:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?pS:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?_S:yS:dS))(e,t)},xS=function(){for(var e,t=vx;e=t.sourceEvent;)t=e;return t},SS=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},TS=function(e,t,n){arguments.length<3&&(n=t,t=xS().changedTouches);for(var r,i=0,o=t?t.length:0;i<o;++i)if((r=t[i]).identifier===n)return SS(e,r);return null},MS=function(e){var t=xS();return t.changedTouches&&(t=t.changedTouches[0]),SS(e,t)},PS=0,ES=0,OS=0,RS=0,AS=0,IS=0,jS="object"==typeof performance&&performance.now?performance:Date,DS="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function NS(){return AS||(DS(FS),AS=jS.now()+IS)}function FS(){AS=0}function LS(){this._call=this._time=this._next=null}function VS(e,t,n){var r=new LS;return r.restart(e,t,n),r}function zS(){AS=(RS=jS.now())+IS,PS=ES=0;try{!function(){NS(),++PS;for(var e,t=vS;t;)(e=AS-t._time)>=0&&t._call.call(null,e),t=t._next;--PS}()}finally{PS=0,function(){for(var e,t,n=vS,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:vS=t);gS=e,US(r)}(),AS=0}}function HS(){var e=jS.now(),t=e-RS;t>1e3&&(IS-=t,RS=e)}function US(e){PS||(ES&&(ES=clearTimeout(ES)),e-AS>24?(e<1/0&&(ES=setTimeout(zS,e-jS.now()-IS)),OS&&(OS=clearInterval(OS))):(OS||(RS=jS.now(),OS=setInterval(HS,1e3)),PS=1,DS(zS)))}LS.prototype=VS.prototype={constructor:LS,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?NS():+n)+(null==t?0:+t),this._next||gS===this||(gS?gS._next=this:vS=this,gS=this),this._call=e,this._time=n,US()},stop:function(){this._call&&(this._call=null,this._time=1/0,US())}};var BS=function(e,t,n){var r=new LS;return r.restart((function(n){r.stop(),e(n+t)}),t=null==t?0:+t,n),r},qS=mC("start","end","cancel","interrupt"),WS=[],GS=function(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(u){var l,c,h,f;if(1!==n.state)return s();for(l in i)if((f=i[l]).name===n.name){if(3===f.state)return BS(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete i[l]):+l<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete i[l])}if(BS((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(u))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=VS((function(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:i,on:qS,tween:WS,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function XS(e,t){var n=QS(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function YS(e,t){var n=QS(e,t);if(n.state>3)throw new Error("too late; already running");return n}function QS(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}var $S,ZS,KS,JS,eT=180/Math.PI,tT={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},nT=function(e,t,n,r,i,o){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*eT,skewX:Math.atan(u)*eT,scaleX:a,scaleY:s}};function rT(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],u=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var u=a.push("translate(",null,t,null,n);s.push({i:u-4,x:yS(e,i)},{i:u-2,x:yS(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:yS(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,s,u),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:yS(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,s,u),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:yS(e,n)},{i:s-2,x:yS(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(e){for(var t,n=-1,r=u.length;++n<r;)s[(t=u[n]).i]=t.x(e);return s.join("")}}}var iT=rT((function(e){return"none"===e?tT:($S||($S=document.createElement("DIV"),ZS=document.documentElement,KS=document.defaultView),$S.style.transform=e,e=KS.getComputedStyle(ZS.appendChild($S),null).getPropertyValue("transform"),ZS.removeChild($S),e=e.slice(7,-1).split(","),nT(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),oT=rT((function(e){return null==e?tT:(JS||(JS=document.createElementNS("http://www.w3.org/2000/svg","g")),JS.setAttribute("transform",e),(e=JS.transform.baseVal.consolidate())?nT((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):tT)}),", ",")",")");function aT(e,t){var n,r;return function(){var i=YS(this,e),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}function sT(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=YS(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function uT(e,t,n){var r=e._id;return e.each((function(){var e=YS(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return QS(e,r).value[t]}}var lT=function(e,t){var n;return("number"==typeof t?yS:t instanceof Qx?hS:(n=Qx(t))?(t=n,hS):wS)(e,t)};function cT(e){return function(){this.removeAttribute(e)}}function hT(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fT(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function dT(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function pT(e,t,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(e))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,u));this.removeAttribute(e)}}function vT(e,t,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(e.space,e.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,u));this.removeAttributeNS(e.space,e.local)}}function gT(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function mT(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function yT(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&mT(e,i)),n}return i._value=t,i}function _T(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&gT(e,i)),n}return i._value=t,i}function bT(e,t){return function(){XS(this,e).delay=+t.apply(this,arguments)}}function kT(e,t){return t=+t,function(){XS(this,e).delay=t}}function wT(e,t){return function(){YS(this,e).duration=+t.apply(this,arguments)}}function CT(e,t){return t=+t,function(){YS(this,e).duration=t}}function xT(e,t){if("function"!=typeof t)throw new Error;return function(){YS(this,e).ease=t}}function ST(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?XS:YS;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}var TT=Px.prototype.constructor;function MT(e){return function(){this.style.removeProperty(e)}}function PT(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function ET(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&PT(e,o,n)),r}return o._value=t,o}function OT(e){return function(t){this.textContent=e.call(this,t)}}function RT(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&OT(r)),t}return r._value=e,r}var AT=0;function IT(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function jT(e){return Px().transition(e)}function DT(){return++AT}var NT=Px.prototype;IT.prototype=jT.prototype={constructor:IT,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=_C(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],c=l.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=e.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,GS(h[f],t,n,f,h,QS(s,n)));return new IT(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=kC(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,d=e.call(u,u.__data__,h,l),p=QS(u,n),v=0,g=d.length;v<g;++v)(f=d[v])&&GS(f,t,n,v,d,p);o.push(d),a.push(u)}return new IT(o,a,t,n)},filter:function(e){"function"!=typeof e&&(e=wC(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&e.call(o,o.__data__,l,a)&&u.push(o);return new IT(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=Math.min(r,n.length),o=new Array(r),a=0;a<i;++a)for(var s,u=t[a],l=n[a],c=u.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=u[f]||l[f])&&(h[f]=s);for(;a<r;++a)o[a]=t[a];return new IT(o,this._parents,this._name,this._id)},selection:function(){return new TT(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=DT(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=QS(a,t);GS(a,e,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new IT(r,this._parents,e,n)},call:NT.call,nodes:NT.nodes,node:NT.node,size:NT.size,empty:NT.empty,each:NT.each,on:function(e,t){var n=this._id;return arguments.length<2?QS(this.node(),n).on.on(e):this.each(ST(n,e,t))},attr:function(e,t){var n=OC(e),r="transform"===n?oT:lT;return this.attrTween(e,"function"==typeof t?(n.local?vT:pT)(n,r,uT(this,"attr."+e,t)):null==t?(n.local?hT:cT)(n):(n.local?dT:fT)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=OC(e);return this.tween(n,(r.local?yT:_T)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?iT:lT;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=HC(this,e),a=(this.style.removeProperty(e),HC(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}(e,r)).on("end.style."+e,MT(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var a=HC(this,e),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(e),u=s=HC(this,e)),a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s))}}(e,r,uT(this,"style."+e,t))).each(function(e,t){var n,r,i,o,a="style."+t,s="end."+a;return function(){var u=YS(this,e),l=u.on,c=null==u.value[a]?o||(o=MT(t)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,o=n+"";return function(){var a=HC(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,ET(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(uT(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,RT(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=QS(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?aT:sT)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?bT:kT)(t,e)):QS(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?wT:CT)(t,e)):QS(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(xT(t,e)):QS(this.node(),t).ease},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0==--i&&o()}};n.each((function(){var n=YS(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),n.on=t}))}))}};var FT={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function LT(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return FT.time=NS(),FT;return n}function VT(e){return{type:e}}Px.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}}(this,e)}))},Px.prototype.transition=function(e){var t,n;e instanceof IT?(t=e._id,e=e._name):(t=DT(),(n=FT).time=NS(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&GS(a,e,t,l,s,n||LT(a,t));return new IT(r,this._parents,e,t)},["w","e"].map(VT),["n","s"].map(VT),["n","w","e","s","nw","ne","sw","se"].map(VT),Math,Math,Math,Math;var zT=Math.PI,HT=2*zT,UT=HT-1e-6;function BT(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function qT(){return new BT}BT.prototype=qT.prototype={constructor:BT,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){var o=this._x1,a=this._y1,s=(n=+n)-(e=+e),u=(r=+r)-(t=+t),l=o-e,c=a-t,h=l*l+c*c;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>1e-6)if(Math.abs(c*s-u*l)>1e-6&&i){var f=n-o,d=r-a,p=s*s+u*u,v=f*f+d*d,g=Math.sqrt(p),m=Math.sqrt(h),y=i*Math.tan((zT-Math.acos((p+h-v)/(2*g*m)))/2),_=y/m,b=y/g;Math.abs(_-1)>1e-6&&(this._+="L"+(e+_*l)+","+(t+_*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>l*d)+","+(this._x1=e+b*s)+","+(this._y1=t+b*u)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=e+a,l=t+s,c=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+u+","+l),n&&(h<0&&(h=h%HT+HT),h>UT?this._+="A"+n+","+n+",0,1,"+c+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=zT)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var WT=qT;function GT(){}function XT(e,t){var n=new GT;if(e instanceof GT)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,i=-1,o=e.length;if(null==t)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t(r=e[i],i,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}function YT(){}GT.prototype=XT.prototype={constructor:GT,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var QT=XT.prototype;YT.prototype=(function(e,t){var n=new YT;if(e instanceof YT)e.each((function(e){n.add(e)}));else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}).prototype={constructor:YT,has:QT.has,add:function(e){return this["$"+(e+="")]=e,this},remove:QT.remove,clear:QT.clear,values:QT.keys,size:QT.size,empty:QT.empty,each:QT.each};var $T=function(e){return function(){return e}};function ZT(e,t,n,r,i,o,a,s,u,l){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=l}function KT(){return!vx.ctrlKey&&!vx.button}function JT(){return this.parentNode}function eM(e){return null==e?{x:vx.x,y:vx.y}:e}function tM(){return navigator.maxTouchPoints||"ontouchstart"in this}ZT.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var nM=function(){var e,t,n,r,i=KT,o=JT,a=eM,s=tM,u={},l=mC("start","drag","end"),c=0,h=0;function f(e){e.on("mousedown.drag",d).filter(s).on("touchstart.drag",g).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var a=_("mouse",o.apply(this,arguments),MS,this,arguments);a&&(Ex(vx.view).on("mousemove.drag",p,!0).on("mouseup.drag",v,!0),Ax(vx.view),Ox(),n=!1,e=vx.clientX,t=vx.clientY,a("start"))}}function p(){if(Rx(),!n){var r=vx.clientX-e,i=vx.clientY-t;n=r*r+i*i>h}u.mouse("drag")}function v(){var e,t,r,i;Ex(vx.view).on("mousemove.drag mouseup.drag",null),t=n,r=(e=vx.view).document.documentElement,i=Ex(e).on("dragstart.drag",null),t&&(i.on("click.drag",Rx,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect),Rx(),u.mouse("end")}function g(){if(i.apply(this,arguments)){var e,t,n=vx.changedTouches,r=o.apply(this,arguments),a=n.length;for(e=0;e<a;++e)(t=_(n[e].identifier,r,TS,this,arguments))&&(Ox(),t("start"))}}function m(){var e,t,n=vx.changedTouches,r=n.length;for(e=0;e<r;++e)(t=u[n[e].identifier])&&(Rx(),t("drag"))}function y(){var e,t,n=vx.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<i;++e)(t=u[n[e].identifier])&&(Ox(),t("end"))}function _(e,t,n,r,i){var o,s,h,d=n(t,e),p=l.copy();if(kx(new ZT(f,"beforestart",o,e,c,d[0],d[1],0,0,p),(function(){return null!=(vx.subject=o=a.apply(r,i))&&(s=o.x-d[0]||0,h=o.y-d[1]||0,!0)})))return function a(l){var v,g=d;switch(l){case"start":u[e]=a,v=c++;break;case"end":delete u[e],--c;case"drag":d=n(t,e),v=c}kx(new ZT(f,l,o,e,v,d[0]+s,d[1]+h,d[0]-g[0],d[1]-g[1],p),p.apply,p,[l,r,i])}}return f.filter=function(e){return arguments.length?(i="function"==typeof e?e:$T(!!e),f):i},f.container=function(e){return arguments.length?(o="function"==typeof e?e:$T(e),f):o},f.subject=function(e){return arguments.length?(a="function"==typeof e?e:$T(e),f):a},f.touchable=function(e){return arguments.length?(s="function"==typeof e?e:$T(!!e),f):s},f.on=function(){var e=l.on.apply(l,arguments);return e===l?f:e},f.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,f):Math.sqrt(h)},f},rM={},iM={};function oM(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function aM(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function sM(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}var uM=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,a=0,s=0,u=o<=0,l=!1;function c(){if(u)return iM;if(l)return l=!1,rM;var t,r,i=a;if(34===e.charCodeAt(i)){for(;a++<o&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=o?u=!0:10===(r=e.charCodeAt(a++))?l=!0:13===r&&(l=!0,10===e.charCodeAt(a)&&++a),e.slice(i+1,t-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=e.charCodeAt(t=a++)))l=!0;else if(13===r)l=!0,10===e.charCodeAt(a)&&++a;else if(r!==n)continue;return e.slice(i,t)}return u=!0,e.slice(i,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(r=c())!==iM;){for(var h=[];r!==rM&&r!==iM;)h.push(r),r=c();t&&null==(h=t(h,s++))||i.push(h)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return a(t[e])})).join(e)}))}function o(t){return t.map(a).join(e)}function a(e){return null==e?"":e instanceof Date?(i=(n=e).getUTCHours(),o=n.getUTCMinutes(),a=n.getUTCSeconds(),s=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((r=n.getUTCFullYear())<0?"-"+sM(-r,6):r>9999?"+"+sM(r,6):sM(r,4))+"-"+sM(n.getUTCMonth()+1,2)+"-"+sM(n.getUTCDate(),2)+(s?"T"+sM(i,2)+":"+sM(o,2)+":"+sM(a,2)+"."+sM(s,3)+"Z":a?"T"+sM(i,2)+":"+sM(o,2)+":"+sM(a,2)+"Z":o||i?"T"+sM(i,2)+":"+sM(o,2)+"Z":"")):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e;var n,r,i,o,a,s}return{parse:function(e,t){var n,i,o=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=oM(e);return function(r,i){return t(n(r),i,e)}}(e,t):oM(e)}));return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=aM(t)),[n.map(a).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=aM(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:a}},lM=uM(",").parse,cM=uM("\t").parse;function hM(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}var fM=function(e,t){return fetch(e,t).then(hM)};function dM(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),fM(t,n).then((function(t){return e(t,r)}))}}function pM(e){return function(t,n){return fM(t,n).then((function(t){return(new DOMParser).parseFromString(t,e)}))}}function vM(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,u,l,c,h,f,d=e._root,p={data:r},v=e._x0,g=e._y0,m=e._x1,y=e._y1;if(!d)return e._root=p,e;for(;d.length;)if((l=t>=(o=(v+m)/2))?v=o:m=o,(c=n>=(a=(g+y)/2))?g=a:y=a,i=d,!(d=d[h=c<<1|l]))return i[h]=p,e;if(s=+e._x.call(null,d.data),u=+e._y.call(null,d.data),t===s&&n===u)return p.next=d,i?i[h]=p:e._root=p,e;do{i=i?i[h]=new Array(4):e._root=new Array(4),(l=t>=(o=(v+m)/2))?v=o:m=o,(c=n>=(a=(g+y)/2))?g=a:y=a}while((h=c<<1|l)==(f=(u>=a)<<1|s>=o));return i[f]=d,i[h]=p,e}dM(lM),dM(cM),pM("application/xml"),pM("text/html"),pM("image/svg+xml");var gM=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i};function mM(e){return e[0]}function yM(e){return e[1]}function _M(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function bM(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var kM=(function(e,t,n){var r=new _M(null==t?mM:t,null==n?yM:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}).prototype=_M.prototype;kM.copy=function(){var e,t,n=new _M(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=bM(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=bM(t));return n},kM.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return vM(this.cover(t,n),t,n,e)},kM.addAll=function(e){var t,n,r,i,o=e.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,s[n]=i,r<u&&(u=r),r>c&&(c=r),i<l&&(l=i),i>h&&(h=i));if(u>c||l>h)return this;for(this.cover(u,l).cover(c,h),n=0;n<o;++n)vM(this,a[n],s[n],e[n]);return this},kM.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,s,u=i-n,l=this._root;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=l,l=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},kM.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},kM.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},kM.find=function(e,t,n){var r,i,o,a,s,u,l,c=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new gM(v,c,h,f,d)),null==n?n=1/0:(c=e-n,h=t-n,f=e+n,d=t+n,n*=n);u=p.pop();)if(!(!(v=u.node)||(i=u.x0)>f||(o=u.y0)>d||(a=u.x1)<c||(s=u.y1)<h))if(v.length){var g=(i+a)/2,m=(o+s)/2;p.push(new gM(v[3],g,m,a,s),new gM(v[2],i,m,g,s),new gM(v[1],g,o,a,m),new gM(v[0],i,o,g,m)),(l=(t>=m)<<1|e>=g)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var y=e-+this._x.call(null,v.data),_=t-+this._y.call(null,v.data),b=y*y+_*_;if(b<n){var k=Math.sqrt(n=b);c=e-k,h=t-k,f=e+k,d=t+k,r=v.data}}return r},kM.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,u,l,c,h,f,d=this._root,p=this._x0,v=this._y0,g=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(s=(p+g)/2))?p=s:g=s,(c=a>=(u=(v+m)/2))?v=u:m=u,t=d,!(d=d[h=c<<1|l]))return this;if(!d.length)break;(t[h+1&3]||t[h+2&3]||t[h+3&3])&&(n=t,f=h)}for(;d.data!==e;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):t?(i?t[h]=i:delete t[h],(d=t[0]||t[1]||t[2]||t[3])&&d===(t[3]||t[2]||t[1]||t[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)},kM.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},kM.root=function(){return this._root},kM.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},kM.visit=function(e){var t,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new gM(u,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(u=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&u.length){var l=(r+o)/2,c=(i+a)/2;(n=u[3])&&s.push(new gM(n,l,c,o,a)),(n=u[2])&&s.push(new gM(n,r,c,l,a)),(n=u[1])&&s.push(new gM(n,l,i,o,c)),(n=u[0])&&s.push(new gM(n,r,i,l,c))}return this},kM.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new gM(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,u=t.x1,l=t.y1,c=(a+u)/2,h=(s+l)/2;(o=i[0])&&n.push(new gM(o,a,s,c,h)),(o=i[1])&&n.push(new gM(o,c,s,u,h)),(o=i[2])&&n.push(new gM(o,a,h,c,l)),(o=i[3])&&n.push(new gM(o,c,h,u,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},kM.x=function(e){return arguments.length?(this._x=e,this):this._x},kM.y=function(e){return arguments.length?(this._y=e,this):this._y},Math,Math.sqrt(5);var wM=function(){return Math.random()},CM=(function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(wM),function e(t){function n(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*t()-1,o=2*t()-1,i=r*r+o*o}while(!i||i>1);return e+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}(wM)),xM=(function e(t){function n(){var e=CM.source(t).apply(this,arguments);return function(){return Math.exp(e())}}return n.source=e,n}(wM),function e(t){function n(e){return function(){for(var n=0,r=0;r<e;++r)n+=t();return n}}return n.source=e,n}(wM));function SM(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}(function e(t){function n(e){var n=xM.source(t)(e);return function(){return n()/e}}return n.source=e,n})(wM),function e(t){function n(e){return function(){return-Math.log(1-t())/e}}return n.source=e,n}(wM);var TM=Array.prototype,MM=TM.map,PM=TM.slice,EM=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}},OM=function(e){return+e},RM=[0,1];function AM(e){return e}function IM(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function jM(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function DM(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=IM(i,r),o=n(a,o)):(r=IM(r,i),o=n(o,a)),function(e){return o(r(e))}}function NM(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=IM(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=$w(e,t,1,r)-1;return o[n](i[n](t))}}function FM(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function LM(e,t){return function(){var e,t,n,r,i,o,a=RM,s=RM,u=CS,l=AM;function c(){return r=Math.min(a.length,s.length)>2?NM:DM,i=o=null,h}function h(t){return isNaN(t=+t)?n:(i||(i=r(a.map(e),s,u)))(e(l(t)))}return h.invert=function(n){return l(t((o||(o=r(s,a.map(e),yS)))(n)))},h.domain=function(e){return arguments.length?(a=MM.call(e,OM),l===AM||(l=jM(a)),c()):a.slice()},h.range=function(e){return arguments.length?(s=PM.call(e),c()):s.slice()},h.rangeRound=function(e){return s=PM.call(e),u=EM,c()},h.clamp=function(e){return arguments.length?(l=e?jM(a):AM,h):l!==AM},h.interpolate=function(e){return arguments.length?(u=e,c()):u},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,c()}}()(e,t)}var VM=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zM(e){if(!(t=VM.exec(e)))throw new Error("invalid format: "+e);var t;return new HM({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function HM(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}zM.prototype=HM.prototype,HM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var UM,BM,qM,WM,GM=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},XM=function(e){return(e=GM(Math.abs(e)))?e[1]:NaN},YM=function(e,t){var n=GM(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},QM={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return YM(100*e,t)},r:YM,s:function(e,t){var n=GM(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(UM=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+GM(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},$M=function(e){return e},ZM=Array.prototype.map,KM=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function JM(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=tC(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;return r&&o.reverse(),o}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return function(e,t,n,r){var i,o=function(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Kw?i*=10:o>=Jw?i*=5:o>=eC&&(i*=2),t<e?-i:i}(e,t,n);switch((r=zM(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(XM(t)/3)))-XM(Math.abs(e)))}(o,a))||(r.precision=i),WM(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,XM(t)-XM(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-XM(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return qM(r)}(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),o=0,a=i.length-1,s=i[o],u=i[a];return u<s&&(r=s,s=u,u=r,r=o,o=a,a=r),(r=tC(s,u,n))>0?r=tC(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=tC(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,t(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,t(i)),e},e}function eP(){var e=LM(AM,AM);return e.copy=function(){return FM(e,eP())},SM.apply(e,arguments),JM(e)}BM=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?$M:(t=ZM.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?$M:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(ZM.call(e.numerals,String)),u=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"-":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=zM(e)).fill,n=e.align,h=e.sign,f=e.symbol,d=e.zero,p=e.width,v=e.comma,g=e.precision,m=e.trim,y=e.type;"n"===y?(v=!0,y="g"):QM[y]||(void 0===g&&(g=12),m=!0,y="g"),(d||"0"===t&&"="===n)&&(d=!0,t="0",n="=");var _="$"===f?i:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===f?o:/[%p]/.test(y)?u:"",k=QM[y],w=/[defgprs%]/.test(y);function C(e){var i,o,u,f=_,C=b;if("c"===y)C=k(e)+C,e="";else{var x=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:k(Math.abs(e),g),m&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),x&&0==+e&&"+"!==h&&(x=!1),f=(x?"("===h?h:l:"-"===h||"("===h?"":h)+f,C=("s"===y?KM[8+UM/3]:"")+C+(x&&"("===h?")":""),w)for(i=-1,o=e.length;++i<o;)if(48>(u=e.charCodeAt(i))||u>57){C=(46===u?a+e.slice(i+1):e.slice(i))+C,e=e.slice(0,i);break}}v&&!d&&(e=r(e,1/0));var S=f.length+e.length+C.length,T=S<p?new Array(p-S+1).join(t):"";switch(v&&d&&(e=r(T+e,T.length?p-C.length:1/0),T=""),n){case"<":e=f+e+C+T;break;case"=":e=f+T+e+C;break;case"^":e=T.slice(0,S=T.length>>1)+f+e+C+T.slice(S);break;default:e=T+f+e+C}return s(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),C.toString=function(){return e+""},C}return{format:h,formatPrefix:function(e,t){var n=h(((e=zM(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(XM(t)/3))),i=Math.pow(10,-r),o=KM[8+r/3];return function(e){return n(i*e)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),qM=BM.format,WM=BM.formatPrefix;var tP=new Date,nP=new Date;function rP(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return rP((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return tP.setTime(+t),nP.setTime(+r),e(tP),e(nP),Math.floor(n(tP,nP))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e==0}:function(t){return i.count(0,t)%e==0}):i:null}),i}var iP=rP((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));iP.every=function(e){return isFinite(e=Math.floor(e))&&e>0?rP((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var oP=iP;function aP(e){return rP((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5}))}rP((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}));var sP=aP(0),uP=aP(1),lP=(aP(2),aP(3),aP(4)),cP=(aP(5),aP(6),rP((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),(function(e){return e.getDate()-1}))),hP=(rP((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()})),rP((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getMinutes()})),rP((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()})),rP((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));function fP(e){return rP((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/6048e5}))}hP.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?rP((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):hP:null};var dP=fP(0),pP=fP(1),vP=(fP(2),fP(3),fP(4)),gP=(fP(5),fP(6),rP((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1}))),mP=rP((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));mP.every=function(e){return isFinite(e=Math.floor(e))&&e>0?rP((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var yP=mP,_P={"-":"",_:" ",0:"0"},bP=/[\\^$*+?|[\]().{}]/g;function kP(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function wP(e){return e.replace(bP,"\\$&")}function CP(e){return new RegExp("^(?:"+e.map(wP).join("|")+")","i")}function xP(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function SP(e,t){return kP(e.getDate(),t,2)}function TP(e,t){return kP(e.getHours(),t,2)}function MP(e,t){return kP(e.getHours()%12||12,t,2)}function PP(e,t){return kP(1+cP.count(oP(e),e),t,3)}function EP(e,t){return kP(e.getMilliseconds(),t,3)}function OP(e,t){return EP(e,t)+"000"}function RP(e,t){return kP(e.getMonth()+1,t,2)}function AP(e,t){return kP(e.getMinutes(),t,2)}function IP(e,t){return kP(e.getSeconds(),t,2)}function jP(e){var t=e.getDay();return 0===t?7:t}function DP(e,t){return kP(sP.count(oP(e)-1,e),t,2)}function NP(e,t){var n=e.getDay();return e=n>=4||0===n?lP(e):lP.ceil(e),kP(lP.count(oP(e),e)+(4===oP(e).getDay()),t,2)}function FP(e){return e.getDay()}function LP(e,t){return kP(uP.count(oP(e)-1,e),t,2)}function VP(e,t){return kP(e.getFullYear()%100,t,2)}function zP(e,t){return kP(e.getFullYear()%1e4,t,4)}function HP(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kP(t/60|0,"0",2)+kP(t%60,"0",2)}function UP(e,t){return kP(e.getUTCDate(),t,2)}function BP(e,t){return kP(e.getUTCHours(),t,2)}function qP(e,t){return kP(e.getUTCHours()%12||12,t,2)}function WP(e,t){return kP(1+gP.count(yP(e),e),t,3)}function GP(e,t){return kP(e.getUTCMilliseconds(),t,3)}function XP(e,t){return GP(e,t)+"000"}function YP(e,t){return kP(e.getUTCMonth()+1,t,2)}function QP(e,t){return kP(e.getUTCMinutes(),t,2)}function $P(e,t){return kP(e.getUTCSeconds(),t,2)}function ZP(e){var t=e.getUTCDay();return 0===t?7:t}function KP(e,t){return kP(dP.count(yP(e)-1,e),t,2)}function JP(e,t){var n=e.getUTCDay();return e=n>=4||0===n?vP(e):vP.ceil(e),kP(vP.count(yP(e),e)+(4===yP(e).getUTCDay()),t,2)}function eE(e){return e.getUTCDay()}function tE(e,t){return kP(pP.count(yP(e)-1,e),t,2)}function nE(e,t){return kP(e.getUTCFullYear()%100,t,2)}function rE(e,t){return kP(e.getUTCFullYear()%1e4,t,4)}function iE(){return"+0000"}function oE(){return"%"}function aE(e){return+e}function sE(e){return Math.floor(+e/1e3)}(function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,u=e.shortMonths,l=(CP(i),xP(i),CP(o),xP(o),CP(a),xP(a),CP(s),xP(s),CP(u),xP(u),{a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:SP,e:SP,f:OP,H:TP,I:MP,j:PP,L:EP,m:RP,M:AP,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:aE,s:sE,S:IP,u:jP,U:DP,V:NP,w:FP,W:LP,x:null,X:null,y:VP,Y:zP,Z:HP,"%":oE}),c={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:UP,e:UP,f:XP,H:BP,I:qP,j:WP,L:GP,m:YP,M:QP,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:aE,s:sE,S:$P,u:ZP,U:KP,V:JP,w:eE,W:tE,x:null,X:null,y:nE,Y:rE,Z:iE,"%":oE};function h(e,t){return function(n){var r,i,o,a=[],s=-1,u=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=_P[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(e.slice(u,s)),a.join("")}}l.x=h(n,l),l.X=h(r,l),l.c=h(t,l),c.x=h(n,c),c.X=h(r,c),c.c=h(t,c)})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),rP((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),rP((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()})),rP((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getUTCMinutes()}));var uE=function(e){return function(){return e}};function lE(e){this._context=e}lE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var cE=function(e){return new lE(e)};function hE(e){return e[0]}function fE(e){return e[1]}var dE=function(){var e=hE,t=fE,n=uE(!0),r=null,i=cE,o=null;function a(a){var s,u,l,c=a.length,h=!1;for(null==r&&(o=i(l=WT())),s=0;s<=c;++s)!(s<c&&n(u=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(u,s,a),+t(u,s,a));if(l)return o=null,l+""||null}return a.x=function(t){return arguments.length?(e="function"==typeof t?t:uE(+t),a):e},a.y=function(e){return arguments.length?(t="function"==typeof e?e:uE(+e),a):t},a.defined=function(e){return arguments.length?(n="function"==typeof e?e:uE(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a};function pE(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function vE(e){this._context=e}vE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pE(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var gE=function(e){return new vE(e)};function mE(){this._=null}function yE(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function _E(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function bE(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function kE(e){for(;e.L;)e=e.L;return e}mE.prototype={constructor:mE,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=kE(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(_E(this,n),n=(e=n).U),n.C=!1,r.C=!0,bE(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(bE(this,n),n=(e=n).U),n.C=!1,r.C=!0,_E(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?kE(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,i.L=e=n.R,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,_E(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,bE(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,_E(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,bE(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,_E(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,bE(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}};var wE=mE;function CE(e,t,n,r){var i=[null,null],o=XE.push(i)-1;return i.left=e,i.right=t,n&&SE(i,e,t,n),r&&SE(i,t,e,r),WE[e.index].halfedges.push(o),WE[t.index].halfedges.push(o),i}function xE(e,t,n){var r=[t,n];return r.left=e,r}function SE(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function TE(e,t,n,r,i){var o,a=e[0],s=e[1],u=a[0],l=a[1],c=0,h=1,f=s[0]-u,d=s[1]-l;if(o=t-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-l,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(e[0]=[u+c*f,l+c*d]),h<1&&(e[1]=[u+h*f,l+h*d]),!0)}}}}}function ME(e,t,n,r,i){var o=e[1];if(o)return!0;var a,s,u=e[0],l=e.left,c=e.right,h=l[0],f=l[1],d=c[0],p=c[1],v=(h+d)/2;if(p===f){if(v<t||v>=r)return;if(h>d){if(u){if(u[1]>=i)return}else u=[v,n];o=[v,i]}else{if(u){if(u[1]<n)return}else u=[v,i];o=[v,n]}}else if(s=(f+p)/2-(a=(h-d)/(p-f))*v,a<-1||a>1)if(h>d){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(f<p){if(u){if(u[0]>=r)return}else u=[t,a*t+s];o=[r,a*r+s]}else{if(u){if(u[0]<t)return}else u=[r,a*r+s];o=[t,a*t+s]}return e[0]=u,e[1]=o,!0}function PE(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function EE(e,t){return t[+(t.left!==e.site)]}function OE(e,t){return t[+(t.left===e.site)]}var RE,AE=[];function IE(){yE(this),this.x=this.y=this.arc=this.site=this.cy=null}function jE(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,l=r[1]-s,c=o[0]-a,h=o[1]-s,f=2*(u*h-l*c);if(!(f>=-QE)){var d=u*u+l*l,p=c*c+h*h,v=(h*d-l*p)/f,g=(u*p-c*d)/f,m=AE.pop()||new IE;m.arc=e,m.site=i,m.x=v+a,m.y=(m.cy=g+s)+Math.sqrt(v*v+g*g),e.circle=m;for(var y=null,_=GE._;_;)if(m.y<_.y||m.y===_.y&&m.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}GE.insert(y,m),y||(RE=m)}}}}function DE(e){var t=e.circle;t&&(t.P||(RE=t.N),GE.remove(t),AE.push(t),yE(t),e.circle=null)}var NE=[];function FE(){yE(this),this.edge=this.site=this.circle=null}function LE(e){var t=NE.pop()||new FE;return t.site=e,t}function VE(e){DE(e),qE.remove(e),NE.push(e),yE(e)}function zE(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],o=e.P,a=e.N,s=[e];VE(e);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<YE&&Math.abs(r-u.circle.cy)<YE;)o=u.P,s.unshift(u),VE(u),u=o;s.unshift(u),DE(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<YE&&Math.abs(r-l.circle.cy)<YE;)a=l.N,s.push(l),VE(l),l=a;s.push(l),DE(l);var c,h=s.length;for(c=1;c<h;++c)SE((l=s[c]).edge,(u=s[c-1]).site,l.site,i);(l=s[h-1]).edge=CE((u=s[0]).site,l.site,null,i),jE(u),jE(l)}function HE(e){for(var t,n,r,i,o=e[0],a=e[1],s=qE._;s;)if((r=UE(s,a)-o)>YE)s=s.L;else{if(!((i=o-BE(s,a))>YE)){r>-YE?(t=s.P,n=s):i>-YE?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}!function(e){WE[e.index]={site:e,halfedges:[]}}(e);var u=LE(e);if(qE.insert(t,u),t||n){if(t===n)return DE(t),n=LE(t.site),qE.insert(u,n),u.edge=n.edge=CE(t.site,u.site),jE(t),void jE(n);if(n){DE(t),DE(n);var l=t.site,c=l[0],h=l[1],f=e[0]-c,d=e[1]-h,p=n.site,v=p[0]-c,g=p[1]-h,m=2*(f*g-d*v),y=f*f+d*d,_=v*v+g*g,b=[(g*y-d*_)/m+c,(f*_-v*y)/m+h];SE(n.edge,l,p,b),u.edge=CE(l,e,null,b),n.edge=CE(e,p,null,b),jE(t),jE(n)}else u.edge=CE(t.site,u.site)}}function UE(e,t){var n=e.site,r=n[0],i=n[1],o=i-t;if(!o)return r;var a=e.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-t;if(!l)return s;var c=s-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+s)/2}function BE(e,t){var n=e.N;if(n)return UE(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var qE,WE,GE,XE,YE=1e-6,QE=1e-12;function $E(e,t){return t[1]-e[1]||t[0]-e[0]}function ZE(e,t){var n,r,i,o=e.sort($E).pop();for(XE=[],WE=new Array(e.length),qE=new wE,GE=new wE;;)if(i=RE,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(HE(o),n=o[0],r=o[1]),o=e.pop();else{if(!i)break;zE(i.arc)}if(function(){for(var e,t,n,r,i=0,o=WE.length;i<o;++i)if((e=WE[i])&&(r=(t=e.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=PE(e,XE[t[n]]);for(a.sort((function(e,t){return s[t]-s[e]})),n=0;n<r;++n)s[n]=t[a[n]];for(n=0;n<r;++n)t[n]=s[n]}}(),t){var a=+t[0][0],s=+t[0][1],u=+t[1][0],l=+t[1][1];!function(e,t,n,r){for(var i,o=XE.length;o--;)ME(i=XE[o],e,t,n,r)&&TE(i,e,t,n,r)&&(Math.abs(i[0][0]-i[1][0])>YE||Math.abs(i[0][1]-i[1][1])>YE)||delete XE[o]}(a,s,u,l),function(e,t,n,r){var i,o,a,s,u,l,c,h,f,d,p,v,g=WE.length,m=!0;for(i=0;i<g;++i)if(o=WE[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)XE[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)p=(d=OE(o,XE[u[s]]))[0],v=d[1],h=(c=EE(o,XE[u[++s%l]]))[0],f=c[1],(Math.abs(p-h)>YE||Math.abs(v-f)>YE)&&(u.splice(s,0,XE.push(xE(a,d,Math.abs(p-e)<YE&&r-v>YE?[e,Math.abs(h-e)<YE?f:r]:Math.abs(v-r)<YE&&n-p>YE?[Math.abs(f-r)<YE?h:n,r]:Math.abs(p-n)<YE&&v-t>YE?[n,Math.abs(h-n)<YE?f:t]:Math.abs(v-t)<YE&&p-e>YE?[Math.abs(f-t)<YE?h:e,t]:null))-1),++l);l&&(m=!1)}if(m){var y,_,b,k=1/0;for(i=0,m=null;i<g;++i)(o=WE[i])&&(b=(y=(a=o.site)[0]-e)*y+(_=a[1]-t)*_)<k&&(k=b,m=o);if(m){var w=[e,t],C=[e,r],x=[n,r],S=[n,t];m.halfedges.push(XE.push(xE(a=m.site,w,C))-1,XE.push(xE(a,C,x))-1,XE.push(xE(a,x,S))-1,XE.push(xE(a,S,w))-1)}}for(i=0;i<g;++i)(o=WE[i])&&(o.halfedges.length||delete WE[i])}(a,s,u,l)}this.edges=XE,this.cells=WE,qE=GE=XE=WE=null}function KE(e,t,n){this.k=e,this.x=t,this.y=n}ZE.prototype={constructor:ZE,polygons:function(){var e=this.edges;return this.cells.map((function(t){var n=t.halfedges.map((function(n){return EE(t,e[n])}));return n.data=t.site.data,n}))},triangles:function(){var e=[],t=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,u,l,c=n.site,h=-1,f=t[i[o-1]],d=f.left===c?f.right:f.left;++h<o;)a=d,d=(f=t[i[h]]).left===c?f.right:f.left,a&&d&&r<a.index&&r<d.index&&((s=c)[0]-(l=d)[0])*((u=a)[1]-s[1])-(s[0]-u[0])*(l[1]-s[1])<0&&e.push([c.data,a.data,d.data])})),e},links:function(){return this.edges.filter((function(e){return e.right})).map((function(e){return{source:e.left.data,target:e.right.data}}))},find:function(e,t,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=e-i.site[0],l=t-i.site[1],c=u*u+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=e-s[0],l=t-s[1],h=u*u+l*l;h<c&&(c=h,a=s.index)}}))}while(null!==a);return o._found=r,null==n||c<=n*n?i.site:null}},Math,KE.prototype={constructor:KE,scale:function(e){return 1===e?this:new KE(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new KE(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new KE(1,0,0);var JE,eO,tO,nO,rO=n("fgPD"),iO=((eO=function(){function e(){_classCallCheck(this,e),this.fontFamily="",this.fontSize=1,this.axisFontSize=1,this.lineWidth=1,this.axisLineWidth=1,this.paletteTheme="typical",this.lineStyle="solid",this.showLegendBox=!1}return _createClass(e,[{key:"reset",value:function(){Object.assign(this,new e)}},{key:"getFontFamily",value:function(){return""==this.fontFamily?'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif':this.fontFamily}},{key:"getFontSize",value:function(){return 18*this.fontSize}},{key:"getAxisFontSize",value:function(){return 15*this.axisFontSize}},{key:"getAxisLineWidth",value:function(){return 1.5*this.axisLineWidth}},{key:"getLineWidth",value:function(){return 3*this.lineWidth}},{key:"dashArray",value:function(e){switch(e&&"any"!=e||(e=this.lineStyle),e){case"solid":return"";case"short-dash":return"5,5";case"medium-dash":return"10,10";case"long-dash":return"15,15";case"dot":return"1,5"}}},{key:"lineCap",value:function(e){return e&&"any"!=e||(e=this.lineStyle),"dot"==e?"round":""}}]),e}()).\u0275fac=function(e){return new(e||eO)},eO.\u0275prov=pe({token:eO,factory:eO.\u0275fac}),eO),oO=((JE=function(){function e(){_classCallCheck(this,e),this.colors={typical:["#0000DD","#DD0000","#000000","#006600","#008888"],plasma:["#0D0887","#7E03A8","#CC4678","#F89441","#F0F921"],viridis:["#440154","#3B528B","#21908C","#5DC863","#FDE725"],magma:["#000004","#51127C","#B63679","#FB8861","#FCFDBF"],pattern:["#000000","#000000","#000000","#000000","#000000"]},this.patterns={typical:["any"],plasma:["any"],viridis:["any"],magma:["any"],pattern:["solid","short-dash","medium-dash","long-dash","dot"]}}return _createClass(e,[{key:"getColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"typical";if(!(t in this.colors))throw new Error("invalid palette: ".concat(t));if(-1==e)return"";var n=this.colors[t];return n[e%n.length]}},{key:"getPattern",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"typical";if(!(t in this.patterns))throw new Error("invalid palette: ".concat(t));if(-1==e)return"";var n=this.patterns[t];return n[e%n.length]}}]),e}()).\u0275fac=function(e){return new(e||JE)},JE.\u0275prov=pe({token:JE,factory:JE.\u0275fac}),JE),aO=["plot"],sO=function(e){return e[e.No=0]="No",e[e.Yes=1]="Yes",e[e.Hover=2]="Hover",e}({}),uO=((tO=function(){function e(t,n){_classCallCheck(this,e),this.plotOptions=t,this.palette=n}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this;setTimeout((function(){e.setup()}),1)}},{key:"getDimension",value:function(e){return this.plotElement.nativeElement.getBoundingClientRect()[e]}},{key:"getHeight",value:function(){return this.getDimension("height")}},{key:"getWidth",value:function(){return this.getDimension("width")}},{key:"getFontFamily",value:function(){return this.plotOptions.getFontFamily()}},{key:"getFontSize",value:function(){return this.plotOptions.getFontSize()}},{key:"getFontSizePx",value:function(){return"".concat(this.getFontSize(),"px")}},{key:"getAxisLineWidth",value:function(){return this.plotOptions.getAxisLineWidth()}},{key:"getAxisFontSize",value:function(){return this.plotOptions.getAxisFontSize()}},{key:"getPathColor",value:function(e){return this.palette.getColor(e,this.plotOptions.paletteTheme)}},{key:"getDashArray",value:function(e){var t=this.palette.getPattern(e,this.plotOptions.paletteTheme);return this.plotOptions.dashArray(t)}},{key:"getLineCap",value:function(e){var t=this.palette.getPattern(e,this.plotOptions.paletteTheme);return this.plotOptions.lineCap(t)}},{key:"getLineWidth",value:function(){return this.plotOptions.getLineWidth()}},{key:"isLegendBoxVisible",value:function(){return this.plotOptions.showLegendBox}},{key:"trackByIndex",value:function(e,t){return e}},{key:"translate",value:function(e,t){return isNaN(e)||isNaN(t)?null:"translate(".concat(e,", ").concat(t,")")}},{key:"getPath",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"y",i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=rO(this.xScale.domain(),Yw),a=rO(this.yScale.domain(),Yw),s=dE().x((function(e,r){return t.xScale(e[n])})).y((function(e,n){return t.yScale(e[r])})).defined((function(e,t){var i=e[n],s=e[r];return"number"==typeof i&&"number"==typeof s&&i>=o[0]&&i<=o[1]&&s>=a[0]&&s<=a[1]}));return i&&(s=s.curve(gE)),s(e)}},{key:"setup",value:function(){return!0}}]),e}()).\u0275fac=function(e){return new(e||tO)(Go(iO),Go(oO))},tO.\u0275dir=wt({type:tO,viewQuery:function(e,t){var n;1&e&&yu(aO,!0),2&e&&mu(n=xu())&&(t.plotElement=n.first)},inputs:{name:"name",fixedWidth:["fixed-width","fixedWidth"],fixedHeight:["fixed-height","fixedHeight"]}}),tO),lO=function e(){_classCallCheck(this,e)},cO=((nO=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){if(void 0===e)return"";for(var n=t.concat(e).map((function(e){return Math.ceil(Math.log10(Math.abs(e)))+4})),r=Math.max.apply(void 0,n),i=e.toFixed(2);i.length<r;)i=" "+i;return i}}]),e}()).\u0275fac=function(e){return new(e||nO)},nO.\u0275pipe=Ct({name:"formatFixed",type:nO,pure:!0}),nO);function hO(e,t){if(1&e&&(Cn(),Zo(0,"g"),Jo(1,"path",10),Ko()),2&e){var n=t.$implicit,r=ua(2);Ho("transform",r.translate(r.leftMargin,r.topMargin)),Nr(1),Ho("id",n.id)("stroke",n.color)("stroke-width",r.getLineWidth())("stroke-dasharray",n.dashArray)("stroke-linecap",n.lineCap)("stroke-opacity",n.opacity)}}function fO(e,t){if(1&e&&(Cn(),Zo(0,"g"),Jo(1,"path",12),Ko()),2&e){var n=t.index,r=ua(4);Ho("transform",r.translate(r.leftMargin,r.topMargin)),Nr(1),pa("id","",r.name,"-target-drop-",n,""),Ho("stroke-width",r.getLineWidth()/2)}}function dO(e,t){if(1&e&&(Cn(),ea(0),qo(1,fO,2,4,"g",5),ta()),2&e){var n=ua(3);Nr(1),Qo("ngForOf",n.dropPaths)("ngForTrackBy",n.trackByIndex)}}function pO(e,t){if(1&e){var n=na();Cn(),Zo(0,"g"),qo(1,dO,2,2,"ng-container",1),Zo(2,"circle",11),oa("mousemove",(function(e){Kt(n);var t=ua(2);return t.hover(e,t.target)})),Ko(),Ko()}if(2&e){var r=ua(2);Nr(1),Qo("ngIf",!r.hideDropLines),Nr(1),da("id","",r.name,"-target"),Ho("transform",r.translate(r.leftMargin,r.topMargin))}}function vO(e,t){1&e&&(Cn(),Jo(0,"path",15)),2&e&&da("id","",ua(3).name,"-legend-box")}function gO(e,t){if(1&e&&(Cn(),Zo(0,"g"),Jo(1,"path",16),Zo(2,"text",17),Na(3),Ko(),Ko()),2&e){var n=t.$implicit,r=t.index,i=ua(3);Ho("transform",i.translate(5,i.getFontSize()*r)),Nr(1),Ho("stroke",i.getPathColor(r))("stroke-width",i.getLineWidth())("stroke-dasharray",i.getDashArray(r))("stroke-linecap",i.getLineCap(r)),Nr(2),Fa(n)}}function mO(e,t){if(1&e){var n=na();Cn(),Zo(0,"g",13),oa("dblclick",(function(){return Kt(n),ua(2).resetLegend()})),qo(1,vO,1,1,"path",14),Zo(2,"g",6),qo(3,gO,4,6,"g",5),Ko(),Ko()}if(2&e){var r=ua(2);da("id","",r.name,"-legend"),Ho("transform",r.translate(r.leftMargin+15+r.legendXOffset,r.topMargin+15+r.legendYOffset)),Nr(1),Qo("ngIf",r.isLegendBoxVisible()),Nr(1),da("id","",r.name,"-legend-labels"),Nr(1),Qo("ngForOf",r.handler.getModelNames())("ngForTrackBy",r.trackByIndex)}}function yO(e,t){1&e&&(Cn(),Jo(0,"circle",24))}var _O=function(e){return[e]};function bO(e,t){if(1&e&&(Cn(),Zo(0,"g",18),qo(1,yO,1,0,"circle",19),Jo(2,"path",20),Zo(3,"text",21),Zo(4,"tspan",22),Na(5),tu(6,"formatFixed"),Ko(),Zo(7,"tspan",23),Na(8),tu(9,"formatFixed"),Ko(),Ko(),Ko()),2&e){var n=ua(2);da("id","",n.name,"-hover-info"),Nr(1),Qo("ngIf",!n.isHoverInfoTarget()),Nr(1),da("id","",n.name,"-hover-box"),Nr(1),da("id","",n.name,"-hover-coords"),Nr(2),Va("",n.x.sym,": ",ru(6,8,n.hoverPoint.x,Ks(14,_O,n.hoverPoint.y)),""),Nr(3),Va("",n.y.sym,": ",ru(9,11,n.hoverPoint.y,Ks(16,_O,n.hoverPoint.x)),"")}}function kO(e,t){if(1&e){var n=na();Cn(),ea(0),Zo(1,"text",2),Na(2),Ko(),Zo(3,"text",3),Na(4),Ko(),Zo(5,"text",4),Na(6),Ko(),qo(7,hO,2,7,"g",5),Jo(8,"g",6),Jo(9,"g",6),Zo(10,"rect",7),oa("mouseout",(function(e){return Kt(n),ua().hideHoverInfo(e)}))("mousemove",(function(e){return Kt(n),ua().hover(e)})),Ko(),qo(11,pO,3,3,"g",1),qo(12,mO,4,6,"g",8),qo(13,bO,10,18,"g",9),ta()}if(2&e){var r=ua();Nr(1),Ho("x",r.innerWidth/2+r.leftMargin)("y",r.height-r.getFontSize()/2),Nr(1),La(" ",r.x.title," "),Nr(1),Ho("x",0-(r.innerHeight/2+r.topMargin))("y",r.getFontSize()),Nr(1),La(" ",r.y.title," "),Nr(1),Ho("x",r.innerWidth/2+r.leftMargin)("y",r.getFontSize()),Nr(1),La(" ",r.title," "),Nr(1),Qo("ngForOf",r.paths)("ngForTrackBy",r.trackById),Nr(1),da("id","",r.name,"-x-axis"),Ho("transform",r.translate(r.leftMargin,r.innerHeight+r.topMargin)),Nr(1),da("id","",r.name,"-y-axis"),Ho("transform",r.translate(r.leftMargin,r.topMargin)),Nr(1),Ho("transform",r.translate(r.leftMargin,r.topMargin))("width",r.innerWidth)("height",r.innerHeight),Nr(1),Qo("ngIf",!r.hideTarget),Nr(1),Qo("ngIf",r.handler.getNumModels()>1),Nr(1),Qo("ngIf",r.isHoverInfoActive())}}var wO,CO=function(e){return e[e.Disabled=0]="Disabled",e[e.NonTarget=1]="NonTarget",e[e.Target=2]="Target",e}({}),xO=((wO=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).plotOptions=e,i.palette=r,i.hoverDisabled=!1,i.hideDropLines=!1,i.hideTarget=!1,i.disableDrag=!1,i.legendXOffset=0,i.legendYOffset=0,i.modelChanged=new au,i.hoverInfo=CO.Disabled,i.targetDragging=!1,i.needDraw=sO.No,i.setupCompleted=!1,i.attemptDraw=!0,i}return _createClass(n,[{key:"ngOnChanges",value:function(e){var t=this;void 0===this.setupTimeoutId&&(console.log("".concat(this.name," setting timeout for setup")),this.setupTimeoutId=setTimeout((function(){t.setupCompleted=t.setup(),console.log("".concat(t.name," setup result (from ngOnChanges): ").concat(t.setupCompleted)),t.setupTimeoutId=void 0}),1))}},{key:"ngAfterViewChecked",value:function(){if(this.attemptDraw)try{this.draw()}catch(e){console.log("".concat(this.name," draw failed!")),console.log(e),this.attemptDraw=!1}}},{key:"redraw",value:function(){this.setupCompleted=this.setup(),console.log("".concat(this.name," setup result (from redraw): ").concat(this.setupCompleted))}},{key:"hover",value:function(e,t){if(this.hoverPoint=void 0,this.hoverInfo=CO.Disabled,t)this.hoverPoint=t,this.hoverInfo=CO.Target;else if(!this.hoverDisabled){var n=e.target.getBoundingClientRect(),r=this.xBisector(this.mainData,this.xScale.invert(e.clientX-n.left)),i=this.mainData[r];i&&(this.hoverPoint=i,this.hoverInfo=CO.NonTarget)}this.hoverPoint&&this.hoverPoint.x&&this.hoverPoint.y&&(this.hoverX=this.xScale(this.hoverPoint.x),this.hoverY=this.yScale(this.hoverPoint.y),this.needDraw=sO.Hover)}},{key:"trackByIndex",value:function(e,t){return e}},{key:"trackById",value:function(e,t){return t.id}},{key:"isHoverInfoActive",value:function(){return this.hoverInfo!=CO.Disabled}},{key:"isHoverInfoTarget",value:function(){return this.hoverInfo==CO.Target}},{key:"hideHoverInfo",value:function(e){var t=e.target.getBoundingClientRect(),n=e.clientX,r=e.clientY;(n<t.left||n>t.right||r<t.top||r>t.bottom)&&(this.hoverInfo=CO.Disabled)}},{key:"resetLegend",value:function(){this.legendXOffset=0,this.legendYOffset=0}},{key:"setupDimensions",value:function(){if(this.fixedWidth)this.width=this.fixedWidth;else if(this.width=this.getWidth(),0==this.width)return!1;if(this.fixedHeight)this.height=this.fixedHeight;else if(this.height=this.getHeight(),0==this.height)return!1;return this.yAxisWidth=10+this.getAxisLineWidth()+this.getAxisFontSize()+9,this.xAxisHeight=10+this.getAxisLineWidth()+this.getAxisFontSize()/2+9,this.leftMargin=this.getFontSize()+this.yAxisWidth+10,this.rightMargin=this.getAxisFontSize()+9,this.topMargin=this.getFontSize()+10,this.bottomMargin=this.getFontSize()+this.xAxisHeight+10,this.viewBox="0 0 ".concat(this.width," ").concat(this.height),this.innerWidth=this.width-this.leftMargin-this.rightMargin,this.innerHeight=this.height-this.topMargin-this.bottomMargin,!0}},{key:"setupParams",value:function(){if(this.x=this.handler.getXParam(this.name),!this.x)return!1;if(this.y=this.handler.getYParam(this.name),!this.y)return!1;for(;this.x.sym.length<this.y.sym.length;)this.x.sym=" "+this.x.sym;for(;this.y.sym.length<this.x.sym.length;)this.y.sym=" "+this.y.sym;return this.title="".concat(this.y.title," vs. ").concat(this.x.title),!0}},{key:"setupPlotData",value:function(){return this.plotData=this.handler.getPlotData(this.name),!!this.plotData&&(this.mainData=rO(this.plotData[0].filter((function(e){return Number.isFinite(e.x)&&Number.isFinite(e.y)})),(function(e,t){return Yw(e.x,t.x)})),this.xBisector=Qw((function(e){return e.x})).left,!0)}},{key:"setupScales",value:function(){this.xScale=eP().domain(this.x.range.toArray()).range([0,this.innerWidth]),this.yScale=eP().domain(this.y.range.toArray().reverse()).range([0,this.innerHeight])}},{key:"setupTarget",value:function(){this.target={x:this.x.target,y:this.y.target}}},{key:"setupPaths",value:function(){var e=this;this.paths=this.plotData.map((function(t,n){var r="".concat(e.name,"-path-").concat(n),i=e.getPath(t,"x","y"),o=e.getPathColor(n),a=e.getDashArray(n),s=e.getLineCap(n),u=e.handler.getSelectedIndex()==n;return{index:n,id:r,path:i,color:o,dashArray:a,lineCap:s,opacity:u?1:.7,primary:u,points:t}})),this.paths.sort((function(e,t){return e.primary?1:t.primary?-1:t.index-e.index}))}},{key:"setupDropPaths",value:function(){var e=this;this.dropPaths=[];var t=dE().x((function(t,n){return e.xScale(t.x)})).y((function(t,n){return e.yScale(t.y)})),n=[{x:this.target.x,y:this.yScale.domain()[1]},{x:this.target.x,y:this.target.y}];this.dropPaths.push(t(n));var r=[{x:this.xScale.domain()[0],y:this.target.y},{x:this.target.x,y:this.target.y}];this.dropPaths.push(t(r))}},{key:"setup",value:function(){return!(!this.handler||!this.setupDimensions()||!this.setupParams()||!this.setupPlotData()||(this.setupScales(),this.setupTarget(),this.setupPaths(),this.setupDropPaths(),this.lastDragEvent&&(this.hover(this.lastDragEvent),this.lastDragEvent=void 0),this.needDraw=sO.Yes,0))}},{key:"getHoverBoxPath",value:function(e,t){var n;try{n=t.getBBox()}catch(f){return""}var r,i,o,a=n.x-5,s=n.x+n.width+5,u=n.width/16,l=a+7*u+5,c=a+9*u+5,h=a+8*u+5;return e?(r=n.y-5,o=(i=n.y+n.height+5)+5):(r=n.y+n.height+5,o=(i=n.y-5)-5),dE()([[a,r],[s,r],[s,i],[c,i],[h,o],[l,i],[a,i],[a,r]])}},{key:"draw",value:function(){var e=this;if(this.setupCompleted&&this.needDraw!=sO.No){var t=Ex(this.plotElement.nativeElement);if(this.hoverInfo!=CO.Disabled&&this.hoverX>=0&&this.hoverY>=0){var n=jT().duration(50);t.select("#".concat(this.name,"-hover-info")).attr("transform",this.translate(this.leftMargin+this.hoverX,this.topMargin+this.hoverY));var r=this.hoverY>=50,i=t.select("#".concat(this.name,"-hover-box")),o=t.select("#".concat(this.name,"-hover-coords"));o.transition(n).attr("y",r?"-2.5em":"2.5em"),i.transition(n).attrTween("d",(function(){return function(t){return e.getHoverBoxPath(r,o.node())}}))}if(this.needDraw!=sO.Hover){var a=jT(),s=cC(this.xScale).ticks(Math.floor(this.innerWidth/75));t.select("#".concat(this.name,"-x-axis")).transition(a).call(s).attr("font-size","".concat(this.plotOptions.getAxisFontSize(),"px")).attr("stroke-width",this.plotOptions.getAxisLineWidth());var u,l=(u=this.yScale,lC(4,u)).ticks(Math.floor(this.innerHeight/75));t.select("#".concat(this.name,"-y-axis")).transition(a).call(l).attr("font-size","".concat(this.plotOptions.getAxisFontSize(),"px")).attr("stroke-width",this.plotOptions.getAxisLineWidth());for(var c=0,h=this.paths.length;c<h;c++){var f=t.select("#".concat(this.paths[c].id));f.node().d?f.transition(a).attrTween("d",this.pathTween(this.paths[c].path,4)):f.transition(a).attr("d",this.paths[c].path)}var d="#".concat(this.name,"-target");t.select(d).transition(a).attr("cx",this.xScale(this.target.x)).attr("cy",this.yScale(this.target.y));for(var p=0,v=this.dropPaths.length;p<v;p++)t.select("".concat(d,"-drop-").concat(p)).transition(a).attr("d",this.dropPaths[p]);if(!this.disableDrag){var g=t.select(d),m=nM().on("start",this.dragTargetStart.bind(this)).on("drag",this.dragTarget.bind(this)).on("end",this.dragTargetEnd.bind(this));g.call(m)}if(this.paths.length>1){var y=t.select("#".concat(this.name,"-legend-box")),_=t.select("#".concat(this.name,"-legend-labels"));if(y.size()>0&&_.size()>0){var b=_.node().getBBox(),k=b.x-5,w=b.x+b.width+5,C=b.y-5,x=b.y+b.height+5;y.attr("d",dE()([[k,C],[w,C],[w,x],[k,x],[k,C]]))}var S=t.select("#".concat(this.name,"-legend")),T=nM().on("drag",this.dragLegend.bind(this));S.call(T)}this.needDraw=sO.No}else this.needDraw=sO.No}}},{key:"dragTargetStart",value:function(){this.targetDragging=!0}},{key:"dragTarget",value:function(e){var t=this.xScale.invert(vx.x-this.leftMargin);t<this.x.range.min?t=this.x.range.min:t>this.x.range.max&&(t=this.x.range.max);var n=this.xBisector(this.mainData,t),r=this.mainData[n];if(r){var i=Ex(this.plotElement.nativeElement),o="#".concat(this.name,"-target");this.target=r,this.setupDropPaths(),i.select(o).attr("cx",this.xScale(this.target.x)).attr("cy",this.yScale(this.target.y));for(var a=0,s=this.dropPaths.length;a<s;a++)i.select("".concat(o,"-drop-").concat(a)).attr("d",this.dropPaths[a]);this.hover(e,this.target)}}},{key:"dragTargetEnd",value:function(e){var t=this;this.targetDragging=!1,this.handler&&this.x.name&&(this.lastDragEvent=e,this.handler.updateModel(this.handler.getSelectedIndex(),this.x.name,this.target.x).subscribe((function(){t.modelChanged.emit()})))}},{key:"dragLegend",value:function(){this.legendXOffset+=vx.dx,this.legendYOffset+=vx.dy}},{key:"pathTween",value:function(e,t){return function(){for(var n=this,r=n.cloneNode(),i=n.getTotalLength(),o=(r.setAttribute("d",e),r).getTotalLength(),a=[0],s=0,u=t/Math.max(i,o);(s+=u)<1;)a.push(s);a.push(1);var l=a.map((function(e){var t=n.getPointAtLength(e*i),a=r.getPointAtLength(e*o);return CS([t.x,t.y],[a.x,a.y])}));return function(t){return t<1?"M"+l.map((function(e){return e(t)})).join("L"):e}}}}]),n}(uO)).\u0275fac=function(e){return new(e||wO)(Go(iO),Go(oO))},wO.\u0275cmp=gt({type:wO,selectors:[["app-line-plot"]],inputs:{handler:"handler",hoverDisabled:["hover-disabled","hoverDisabled"],hideDropLines:["hide-drop-lines","hideDropLines"],hideTarget:["hide-target","hideTarget"],disableDrag:["disable-drag","disableDrag"],legendXOffset:["legend-x-offset","legendXOffset"],legendYOffset:["legend-y-offset","legendYOffset"]},outputs:{modelChanged:"modelChanged"},features:[Ba,Qa],decls:3,vars:9,consts:[["plot",""],[4,"ngIf"],["text-anchor","middle"],["text-anchor","middle","transform","rotate(-90)"],["text-anchor","middle","font-weight","bold"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"id"],["fill","none","pointer-events","all",3,"mouseout","mousemove"],["class","legend","font-size","smaller",3,"id","dblclick",4,"ngIf"],["pointer-events","none",3,"id",4,"ngIf"],["fill","none"],["r","5","fill","red",1,"target",3,"id","mousemove"],["stroke","red","stroke-dasharray","5, 5","fill","none",3,"id"],["font-size","smaller",1,"legend",3,"id","dblclick"],["fill","white","fill-opacity","0.8","stroke","black","stroke-opacity","1",3,"id",4,"ngIf"],["fill","white","fill-opacity","0.8","stroke","black","stroke-opacity","1",3,"id"],["d","m0,0 l45,0","fill","none"],["x","50","y","5"],["pointer-events","none",3,"id"],["r","4","fill","none","stroke","blue",4,"ngIf"],["stroke","black","stroke-width","1","fill","white","fill-opacity","0.8",3,"id"],["font-family","monospace","text-anchor","middle",3,"id"],[2,"white-space","pre"],["x","0","dy","1em",2,"white-space","pre"],["r","4","fill","none","stroke","blue"]],template:function(e,t){1&e&&(Cn(),Zo(0,"svg",null,0),qo(2,kO,14,21,"ng-container",1),Ko()),2&e&&(wa("font-family",t.getFontFamily())("font-size",t.getFontSizePx()),Ho("class",t.name)("width",t.fixedWidth)("height",t.fixedHeight)("viewBox",t.viewBox),Nr(2),Qo("ngIf",t.x&&t.y&&t.handler))},directives:[Nc,jc],pipes:[cO],styles:[".legend[_ngcontent-%COMP%], .target[_ngcontent-%COMP%]{cursor:-webkit-grab;cursor:grab}"]}),wO),SO=function e(){_classCallCheck(this,e)};function TO(e,t){if(1&e&&(Cn(),Jo(0,"circle",7)),2&e){var n=ua(2);Ho("cx",n.xScale(n.nullValue))("cy",n.yScale(.5))("transform",n.translate(n.leftMargin,n.topMargin))}}function MO(e,t){if(1&e){var n=na();Cn(),Zo(0,"g",6),Jo(1,"path",8),Jo(2,"path",9),Zo(3,"path",10),oa("mouseover",(function(){Kt(n);var e=t.$implicit,r=ua(2);return r.isPrimaryGroup(e)?r.toggleLeftBarInfo(!0):null}))("mouseout",(function(){Kt(n);var e=t.$implicit,r=ua(2);return r.isPrimaryGroup(e)?r.toggleLeftBarInfo(!1):null})),Ko(),Zo(4,"path",11),oa("mouseover",(function(){Kt(n);var e=t.$implicit,r=ua(2);return r.isPrimaryGroup(e)?r.toggleRightBarInfo(!0):null}))("mouseout",(function(){Kt(n);var e=t.$implicit,r=ua(2);return r.isPrimaryGroup(e)?r.toggleRightBarInfo(!1):null})),Ko(),Zo(5,"circle",12),oa("mouseover",(function(){Kt(n);var e=t.$implicit,r=ua(2);return r.isPrimaryGroup(e)?r.toggleTargetInfo(!0):null}))("mouseout",(function(){Kt(n);var e=t.$implicit,r=ua(2);return r.isPrimaryGroup(e)?r.toggleTargetInfo(!1):null})),Ko(),Ko()}if(2&e){var r=t.$implicit,i=ua(2);Ca("primary-group",i.isPrimaryGroup(r)),pa("id","",i.name,"-group-",r,""),Ho("transform",i.isPrimaryGroup(r)?i.translate(i.leftMargin+i.primaryGroupOffset,i.topMargin):null),Nr(1),pa("id","",i.name,"-group-",r,"-dist"),Ho("fill",i.getPathColor(r))("fill-opacity",i.getGroupFillOpacity(r)),Nr(1),pa("id","",i.name,"-group-",r,"-center"),Ho("stroke",i.getPathColor(r))("stroke-width",i.getLineWidth()),Nr(1),Ca("draggable",i.isPrimaryGroup(r)&&!i.disableDragCI),pa("id","",i.name,"-group-",r,"-left"),Ho("stroke",i.getPathColor(r))("stroke-width",i.getLineWidth()),Nr(1),Ca("draggable",i.isPrimaryGroup(r)&&!i.disableDragCI),pa("id","",i.name,"-group-",r,"-right"),Ho("stroke",i.getPathColor(r))("stroke-width",i.getLineWidth()),Nr(1),Ca("draggable",i.isPrimaryGroup(r)&&!i.disableDragTarget),pa("id","",i.name,"-group-",r,"-target"),Ho("fill",i.getPathColor(r))}}var PO=function(e){return[e]};function EO(e,t){if(1&e&&(Cn(),Zo(0,"g"),Jo(1,"path",13),Zo(2,"text",14),Zo(3,"tspan",15),Na(4),tu(5,"formatFixed"),Ko(),Zo(6,"tspan",16),Na(7),tu(8,"formatFixed"),Ko(),Ko(),Ko()),2&e){var n=ua(2);Ho("transform",n.translate(n.leftMargin+n.xScale(n.primaryGroup.ci.lower),n.topMargin+n.yScale(.5))),Nr(1),da("id","",n.name,"-left-box"),Nr(1),da("id","",n.name,"-left-coords"),Nr(2),La("95% CI: ",ru(5,5,n.ciWidth(),Ks(11,PO,n.primaryGroup.ci.lower)),""),Nr(3),La(" Bound: ",ru(8,8,n.primaryGroup.ci.lower,Ks(13,PO,n.ciWidth())),"")}}function OO(e,t){if(1&e&&(Cn(),Zo(0,"g"),Jo(1,"path",13),Zo(2,"text",14),Zo(3,"tspan",15),Na(4),tu(5,"formatFixed"),Ko(),Zo(6,"tspan",16),Na(7),tu(8,"formatFixed"),Ko(),Ko(),Ko()),2&e){var n=ua(2);Ho("transform",n.translate(n.leftMargin+n.xScale(n.primaryGroup.ci.upper),n.topMargin+n.yScale(.5))),Nr(1),da("id","",n.name,"-right-box"),Nr(1),da("id","",n.name,"-right-coords"),Nr(2),La("95% CI: ",ru(5,5,n.ciWidth(),Ks(11,PO,n.primaryGroup.ci.upper)),""),Nr(3),La(" Bound: ",ru(8,8,n.primaryGroup.ci.upper,Ks(13,PO,n.ciWidth())),"")}}var RO=function(){return[]};function AO(e,t){if(1&e&&(Cn(),Zo(0,"g"),Jo(1,"path",13),Zo(2,"text",17),Zo(3,"tspan",15),Na(4),tu(5,"formatFixed"),Ko(),Ko(),Ko()),2&e){var n=ua(2);Ho("transform",n.translate(n.leftMargin+n.xScale(n.primaryGroup.target),n.topMargin+n.yScale(.5))),Nr(1),da("id","",n.name,"-target-box"),Nr(1),da("id","",n.name,"-target-coords"),Nr(2),Va("",n.xParam.sym,": ",ru(5,5,n.primaryGroup.target,Zs(8,RO)),"")}}function IO(e,t){if(1&e&&(Cn(),ea(0),Zo(1,"text",2),Na(2),Ko(),Zo(3,"text",3),Na(4),Ko(),qo(5,TO,1,3,"circle",4),qo(6,MO,6,30,"g",5),qo(7,EO,9,15,"g",1),qo(8,OO,9,15,"g",1),qo(9,AO,6,9,"g",1),Jo(10,"g",6),ta()),2&e){var n=ua();Nr(1),Ho("x",n.innerWidth/2+n.leftMargin)("y",n.height-5),Nr(1),La(" ",n.xParam.title," "),Nr(1),Ho("x",n.innerWidth/2+n.leftMargin)("y",n.getFontSize()/2+8),Nr(1),La(" ",n.title," "),Nr(1),Qo("ngIf",n.nullValue),Nr(1),Qo("ngForOf",n.groupOrder)("ngForTrackBy",n.trackByIndex),Nr(1),Qo("ngIf",n.showLeftBarInfo),Nr(1),Qo("ngIf",n.showRightBarInfo),Nr(1),Qo("ngIf",n.showTargetInfo),Nr(1),da("id","",n.name,"-bottom-axis"),Ho("transform",n.translate(n.leftMargin,n.innerHeight+n.topMargin))}}var jO,DO,NO=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e}({}),FO=((DO=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).plotOptions=e,i.palette=r,i.disableDragTarget=!1,i.disableDragCI=!1,i.modelChanged=new au,i.leftMargin=10,i.rightMargin=10,i.topMargin=50,i.bottomMargin=50,i.needDraw=sO.No,i.targetDragging=!1,i.targetWasDragging=!1,i.showTargetInfo=!1,i.primaryGroupOffset=0,i.barDragging=!1,i.showLeftBarInfo=!1,i.showRightBarInfo=!1,i.setupCompleted=!1,i.attemptDraw=!0,i}return _createClass(n,[{key:"ngOnChanges",value:function(e){var t=this;void 0===this.setupTimeoutId&&(console.log("".concat(this.name," setting timeout for setup")),this.setupTimeoutId=setTimeout((function(){t.setupCompleted=t.setup(),console.log("".concat(t.name," setup result (from ngOnChanges): ").concat(t.setupCompleted)),t.setupTimeoutId=void 0}),1))}},{key:"ngAfterViewChecked",value:function(){if(this.attemptDraw)try{this.draw()}catch(e){console.log("".concat(this.name," draw failed!")),console.log(e),this.attemptDraw=!1}}},{key:"redraw",value:function(){this.setupCompleted=this.setup(),console.log("".concat(this.name," setup result (from redraw): ").concat(this.setupCompleted))}},{key:"toggleTargetInfo",value:function(e){this.targetDragging||this.barDragging||(this.showTargetInfo=e,e&&(this.needDraw=sO.Hover))}},{key:"toggleLeftBarInfo",value:function(e){this.targetDragging||this.barDragging||(this.showLeftBarInfo=e,e&&(this.needDraw=sO.Hover))}},{key:"toggleRightBarInfo",value:function(e){this.targetDragging||this.barDragging||(this.showRightBarInfo=e,e&&(this.needDraw=sO.Hover))}},{key:"setupDimensions",value:function(){if(this.fixedWidth)this.width=this.fixedWidth;else if(this.width=this.getDimension("width"),0==this.width)return!1;if(this.fixedHeight)this.height=this.fixedHeight;else if(this.height=this.getDimension("height"),0==this.height)return!1;return this.topMargin=this.getFontSize()+20,this.bottomMargin=10+this.getFontSize()+this.getAxisLineWidth()+this.getAxisFontSize()/2+9,this.leftMargin=this.getAxisFontSize()+9,this.rightMargin=this.leftMargin,this.viewBox="0 0 ".concat(this.width," ").concat(this.height),this.innerWidth=this.width-this.leftMargin-this.rightMargin,this.innerHeight=this.height-this.topMargin-this.bottomMargin,!0}},{key:"setup",value:function(){return!!this.handler&&!!this.setupDimensions()&&(this.setupParams(),this.setupGroups(),this.setupScales(),this.resetDragging(),this.needDraw=sO.Yes,!0)}},{key:"setupParams",value:function(){this.xParam=this.handler.getXParam(),this.title="Precision (95% Confidence Interval) vs. Effect Size"}},{key:"setupGroups",value:function(){var e=this;this.groups=this.handler.getGroups();var t=this.handler.getSelectedIndex();this.primaryGroup=this.groups[t],this.primaryGroup.ciValues&&(this.ciValuesLower=rO(this.primaryGroup.ciValues,(function(e,t){return Yw(e.lower,t.lower)})),this.ciValuesUpper=rO(this.primaryGroup.ciValues,(function(e,t){return Yw(e.upper,t.upper)}))),this.groupOrder=[],this.groups.forEach((function(n,r){r!==t&&e.groupOrder.push(r)})),this.groupOrder.push(t)}},{key:"setupScales",value:function(){this.xScale=eP().domain(this.xParam.range.toArray()).range([0,this.innerWidth]),this.originalTargetPosition=this.xScale(this.primaryGroup.target),this.yScale=eP().domain([0,.7]).range([0,this.innerHeight]);var e=this.groups.reduce((function(e,t){var n=Zw(t.sampDist,(function(e){return e.y}));return Zw(e.concat(n))}),[]);this.yScaleSD=eP().domain(e.reverse()).range([0,this.yScale(.5)]).clamp(!0)}},{key:"resetDragging",value:function(){this.targetWasDragging=this.targetDragging,this.targetDragging=!1,this.barDragging=!1}},{key:"draw",value:function(){var e=this;if(this.setupCompleted&&this.needDraw!=sO.No)if(this.drawInfoBox("left"),this.drawInfoBox("right"),this.drawInfoBox("target"),this.needDraw!=sO.Hover){var t=Ex(this.plotElement.nativeElement),n=t.transition(),r=cC(this.xScale).ticks(Math.floor(this.innerWidth/75));n.select("#".concat(this.name,"-bottom-axis")).call(r).attr("font-size","".concat(this.plotOptions.getAxisFontSize(),"px")).attr("stroke-width",this.plotOptions.getAxisLineWidth()),this.groups.forEach((function(r,i){var o=n;e.targetWasDragging&&e.isPrimaryGroup(i)&&(o=t);var a="#".concat(e.name,"-group-").concat(i);o.select(a).attr("transform",e.translate(e.leftMargin,e.topMargin));var s=e.getPath([{x:r.ci.lower,y:.4},{x:r.ci.lower,y:.6}],"x","y",!1);o.select("".concat(a,"-left")).attr("d",s);var u=e.getPath([{x:r.ci.upper,y:.4},{x:r.ci.upper,y:.6}],"x","y",!1);o.select("".concat(a,"-right")).attr("d",u);var l=e.getPath([{x:r.ci.lower,y:.5},{x:r.ci.upper,y:.5}],"x","y",!1);o.select("".concat(a,"-center")).attr("d",l);var c=e.getArea(r.sampDist,"x","y");if(o.select("".concat(a,"-dist")).attr("d",c),o.select("".concat(a,"-target")).attr("cx",e.xScale(r.target)).attr("cy",e.yScale(.5)),e.isPrimaryGroup(i)){var h=t.select("".concat(a,"-target")),f=nM().container(h.node().parentNode.parentNode).on("start",e.dragTargetStart.bind(e)).on("drag",e.dragTarget.bind(e)).on("end",e.dragTargetEnd.bind(e));h.call(f);var d=t.select("".concat(a,"-left")),p=nM().container(d.node().parentNode.parentNode).on("start",e.dragBarStart.bind(e,NO.Left)).on("drag",e.dragBar.bind(e,NO.Left)).on("end",e.dragBarEnd.bind(e,NO.Left));d.call(p);var v=t.select("".concat(a,"-right")),g=nM().container(v.node().parentNode.parentNode).on("start",e.dragBarStart.bind(e,NO.Right)).on("drag",e.dragBar.bind(e,NO.Right)).on("end",e.dragBarEnd.bind(e,NO.Right));v.call(g)}})),this.needDraw=sO.No}else this.needDraw=sO.No}},{key:"drawInfoBox",value:function(e){var t=Ex(this.plotElement.nativeElement),n=t.select("#".concat(this.name,"-").concat(e,"-box")),r=t.select("#".concat(this.name,"-").concat(e,"-coords"));if(n.size()>0&&r.size()>0){var i=r.node().getBBox(),o=i.x-5,a=i.x+i.width+5,s=i.width/16,u=o+7*s+5,l=o+9*s+5,c=o+8*s+5,h=i.y-5,f=i.y+i.height+5;n.attr("d",dE()([[o,h],[a,h],[a,f],[l,f],[c,f+5],[u,f],[o,f],[o,h]]))}}},{key:"ciWidth",value:function(){return Math.abs(this.primaryGroup.ci.upper-this.primaryGroup.ci.lower)}},{key:"getGroupFillOpacity",value:function(e){return this.targetDragging&&e===this.handler.getSelectedIndex()?.1:.5}},{key:"isPrimaryGroup",value:function(e){return this.handler.getSelectedIndex()===e}},{key:"getArea",value:function(e,t,n){var r=this;return function(){var e=hE,t=null,n=uE(0),r=fE,i=uE(!0),o=null,a=cE,s=null;function u(u){var l,c,h,f,d,p=u.length,v=!1,g=new Array(p),m=new Array(p);for(null==o&&(s=a(d=WT())),l=0;l<=p;++l){if(!(l<p&&i(f=u[l],l,u))===v)if(v=!v)c=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=l-1;h>=c;--h)s.point(g[h],m[h]);s.lineEnd(),s.areaEnd()}v&&(g[l]=+e(f,l,u),m[l]=+n(f,l,u),s.point(t?+t(f,l,u):g[l],r?+r(f,l,u):m[l]))}if(d)return s=null,d+""||null}function l(){return dE().defined(i).curve(a).context(o)}return u.x=function(n){return arguments.length?(e="function"==typeof n?n:uE(+n),t=null,u):e},u.x0=function(t){return arguments.length?(e="function"==typeof t?t:uE(+t),u):e},u.x1=function(e){return arguments.length?(t=null==e?null:"function"==typeof e?e:uE(+e),u):t},u.y=function(e){return arguments.length?(n="function"==typeof e?e:uE(+e),r=null,u):n},u.y0=function(e){return arguments.length?(n="function"==typeof e?e:uE(+e),u):n},u.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:uE(+e),u):r},u.lineX0=u.lineY0=function(){return l().x(e).y(n)},u.lineY1=function(){return l().x(e).y(r)},u.lineX1=function(){return l().x(t).y(n)},u.defined=function(e){return arguments.length?(i="function"==typeof e?e:uE(!!e),u):i},u.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),u):a},u.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),u):o},u}().curve(gE).x((function(e,n){return r.xScale(e[t])})).y0(this.yScaleSD(0)).y1((function(e,t){return r.yScaleSD(e[n])}))(e)}},{key:"dragTargetStart",value:function(){this.disableDragTarget||(this.targetDragging=!0)}},{key:"dragTarget",value:function(e){if(!this.disableDragTarget){var t=vx.x-this.leftMargin,n=this.xScale.invert(t);n>=0&&n<.1?(n=.1,t=this.xScale(n)):n<0&&n>-.1&&(n=-.1,t=this.xScale(n)),this.primaryGroupOffset=t-this.originalTargetPosition,this.primaryGroup.target=n,this.needDraw=sO.Hover}}},{key:"dragTargetEnd",value:function(){var e=this;this.disableDragTarget||(this.handler&&this.handler.updateTargetValue(this.primaryGroup.target).subscribe((function(){e.modelChanged.emit()})),this.showTargetInfo=!1)}},{key:"dragBarStart",value:function(e){this.disableDragCI||(this.barDragging=!0)}},{key:"dragBar",value:function(e,t){if(!this.disableDragCI){var n=this.xScale.invert(vx.x-this.leftMargin);if(this.primaryGroup.ciValues){var r,i;switch(e){case NO.Left:i=this.ciValuesLower,r=Qw((function(e){return e.lower})).left;break;case NO.Right:i=this.ciValuesUpper,r=Qw((function(e){return e.upper})).left}var o=r(i,n);if(!o)return;o>=i.length&&(o=i.length-1),this.primaryGroup.ci=i[o]}else{var a=0;switch(e){case NO.Left:a=n-this.primaryGroup.ci.lower;break;case NO.Right:a=this.primaryGroup.ci.upper-n}this.primaryGroup.ci.lower+=a,this.primaryGroup.ci.upper-=a}this.handler.setIntermediateCIValue(this.primaryGroup.ci);var s=this.getPath([{x:this.primaryGroup.ci.lower,y:.4},{x:this.primaryGroup.ci.lower,y:.6}],"x","y",!1),u=this.getPath([{x:this.primaryGroup.ci.upper,y:.4},{x:this.primaryGroup.ci.upper,y:.6}],"x","y",!1),l=this.getPath([{x:this.primaryGroup.ci.lower,y:.5},{x:this.primaryGroup.ci.upper,y:.5}],"x","y",!1),c=Ex(this.plotElement.nativeElement).select("g.primary-group");c.select("path.left").attr("d",s),c.select("path.right").attr("d",u),c.select("path.center").attr("d",l),this.needDraw=sO.Hover}}},{key:"dragBarEnd",value:function(e){var t=this;this.disableDragCI||(this.handler&&this.handler.updateCIValue(this.primaryGroup.ci).subscribe((function(){t.modelChanged.emit()})),this.showLeftBarInfo=!1,this.showRightBarInfo=!1)}}]),n}(uO)).\u0275fac=function(e){return new(e||DO)(Go(iO),Go(oO))},DO.\u0275cmp=gt({type:DO,selectors:[["app-ci-plot"]],inputs:{handler:"handler",disableDragTarget:["disable-drag-target","disableDragTarget"],disableDragCI:["disable-drag-ci","disableDragCI"]},outputs:{modelChanged:"modelChanged"},features:[Ba,Qa],decls:3,vars:9,consts:[["plot",""],[4,"ngIf"],["text-anchor","middle"],["text-anchor","middle","font-weight","bold"],["r","5","fill","darkseagreen",4,"ngIf"],[3,"id","primary-group",4,"ngFor","ngForOf","ngForTrackBy"],[3,"id"],["r","5","fill","darkseagreen"],["stroke","none",1,"dist",3,"id"],["fill","none",1,"center",3,"id"],["fill","none",1,"left",3,"id","mouseover","mouseout"],["fill","none",1,"right",3,"id","mouseover","mouseout"],["r","5",1,"target",3,"id","mouseover","mouseout"],["stroke","black","stroke-width","1","fill","white","fill-opacity","0.9",3,"id"],["x","0","y","-3em","font-family","monospace","text-anchor","middle",3,"id"],[2,"white-space","pre"],["x","0","dy","1em",2,"white-space","pre"],["x","0","y","-1.5em","font-family","mono","text-anchor","middle",3,"id"]],template:function(e,t){1&e&&(Cn(),Zo(0,"svg",null,0),qo(2,IO,11,14,"ng-container",1),Ko()),2&e&&(wa("font-family",t.getFontFamily())("font-size",t.getFontSizePx()),Ho("class",t.name)("width",t.fixedWidth)("height",t.fixedHeight)("viewBox",t.viewBox),Nr(2),Qo("ngIf",t.handler&&t.groups))},directives:[Nc,jc],pipes:[cO],styles:[".draggable{cursor:-webkit-grab;cursor:grab}"],encapsulation:2}),DO),LO=((jO=function(){function e(t){_classCallCheck(this,e),this.http=t,this.apiUrl="".concat(Ml.apiUrl,"/export")}return _createClass(e,[{key:"formats",value:function(){var e="".concat(this.apiUrl,"/formats"),t={headers:new Ym({"Content-Type":"application/json"})};return this.http.get(e,t).pipe(Mp(this.handleError))}},{key:"plots",value:function(e,t){var n="".concat(this.apiUrl,"/plots"),r={format:e,plots:t},i={headers:new Ym({"Content-Type":"application/json"})};return this.http.post(n,r,i).pipe(Mp(this.handleError))}},{key:"handleError",value:function(e,t){return e.error instanceof ErrorEvent?console.error("An error occurred:",e.error.message):console.error("Backend returned code ".concat(e.status,", ")+"body was:",e.error),Rb("Something bad happened; please try again later.")}}]),e}()).\u0275fac=function(e){return new(e||jO)(Ke(my))},jO.\u0275prov=pe({token:jO,factory:jO.\u0275fac}),jO),VO=["topLeftPlot"],zO=["topRightPlot"],HO=["bottomPlot"],UO=["downloadLink"];function BO(e,t){if(1&e){var n=na();Zo(0,"div",36),Zo(1,"label"),Na(2," Width "),Zo(3,"input",37),oa("ngModelChange",(function(e){return Kt(n),ua(3).topLeftWidth=e})),Ko(),Ko(),Ko()}if(2&e){var r=ua(3);Nr(3),Qo("ngModel",r.topLeftWidth)}}function qO(e,t){if(1&e){var n=na();Zo(0,"div",36),Zo(1,"label"),Na(2," Height "),Zo(3,"input",37),oa("ngModelChange",(function(e){return Kt(n),ua(3).topLeftHeight=e})),Ko(),Ko(),Ko()}if(2&e){var r=ua(3);Nr(3),Qo("ngModel",r.topLeftHeight)}}function WO(e,t){if(1&e){var n=na();Zo(0,"div",23),Zo(1,"label",24),Zo(2,"input",25),oa("ngModelChange",(function(e){return Kt(n),ua(2).topLeftTarget=e})),Ko(),Na(3," Show target and drop lines "),Ko(),Ko(),Zo(4,"label"),Na(5," Dimensions "),Zo(6,"select",30),oa("ngModelChange",(function(e){return Kt(n),ua(2).topLeftDim=e}))("ngModelChange",(function(e){return Kt(n),ua(2).setDim("topLeft",e)})),Zo(7,"option",31),Na(8,"640 by 480"),Ko(),Zo(9,"option",32),Na(10,"800 by 600"),Ko(),Zo(11,"option",33),Na(12,"1024 by 768"),Ko(),Zo(13,"option",34),Na(14,"Custom"),Ko(),Ko(),Ko(),qo(15,BO,4,1,"div",35),qo(16,qO,4,1,"div",35)}if(2&e){var r=ua(2);Nr(2),Qo("ngModel",r.topLeftTarget),Nr(4),Qo("ngModel",r.topLeftDim),Nr(9),Qo("ngIf","other"==r.topLeftDim),Nr(1),Qo("ngIf","other"==r.topLeftDim)}}function GO(e,t){if(1&e){var n=na();Zo(0,"div",22),Zo(1,"div",23),Zo(2,"label",24),Zo(3,"input",25),oa("ngModelChange",(function(e){return Kt(n),ua().includeTopLeft=e})),Ko(),Na(4," Export this graph "),Ko(),Ko(),qo(5,WO,17,4,"ng-template",26),Ko(),Zo(6,"div",27),Jo(7,"app-line-plot",28,29),Ko()}if(2&e){var r=ua();Nr(3),Qo("ngModel",r.includeTopLeft),Nr(2),Qo("ngIf",r.includeTopLeft),Nr(2),Qo("handler",r.linePlotHandler)("hover-disabled",!0)("disable-drag",!0)("hide-drop-lines",!r.topLeftTarget)("hide-target",!r.topLeftTarget)("fixed-width",r.topLeftWidth)("fixed-height",r.topLeftHeight)("legend-x-offset",r.topLeftLegendXOffset)("legend-y-offset",r.topLeftLegendYOffset)}}function XO(e,t){if(1&e){var n=na();Zo(0,"div",36),Zo(1,"label"),Na(2," Width "),Zo(3,"input",37),oa("ngModelChange",(function(e){return Kt(n),ua(3).topRightWidth=e})),Ko(),Ko(),Ko()}if(2&e){var r=ua(3);Nr(3),Qo("ngModel",r.topRightWidth)}}function YO(e,t){if(1&e){var n=na();Zo(0,"div",36),Zo(1,"label"),Na(2," Height "),Zo(3,"input",37),oa("ngModelChange",(function(e){return Kt(n),ua(3).topRightHeight=e})),Ko(),Ko(),Ko()}if(2&e){var r=ua(3);Nr(3),Qo("ngModel",r.topRightHeight)}}function QO(e,t){if(1&e){var n=na();Zo(0,"div",23),Zo(1,"label",24),Zo(2,"input",25),oa("ngModelChange",(function(e){return Kt(n),ua(2).topRightTarget=e})),Ko(),Na(3," Show target and drop lines "),Ko(),Ko(),Zo(4,"label"),Na(5," Dimensions "),Zo(6,"select",40),oa("ngModelChange",(function(e){return Kt(n),ua(2).topRightDim=e}))("ngModelChange",(function(e){return Kt(n),ua(2).setDim("topRight",e)})),Zo(7,"option",31),Na(8,"640 by 480"),Ko(),Zo(9,"option",32),Na(10,"800 by 600"),Ko(),Zo(11,"option",33),Na(12,"1024 by 768"),Ko(),Zo(13,"option",34),Na(14,"Custom"),Ko(),Ko(),Ko(),qo(15,XO,4,1,"div",35),qo(16,YO,4,1,"div",35)}if(2&e){var r=ua(2);Nr(2),Qo("ngModel",r.topRightTarget),Nr(4),Qo("ngModel",r.topRightDim),Nr(9),Qo("ngIf","other"==r.topRightDim),Nr(1),Qo("ngIf","other"==r.topRightDim)}}function $O(e,t){if(1&e){var n=na();Zo(0,"div",22),Zo(1,"div",23),Zo(2,"label",24),Zo(3,"input",25),oa("ngModelChange",(function(e){return Kt(n),ua().includeTopRight=e})),Ko(),Na(4," Export this graph "),Ko(),Ko(),qo(5,QO,17,4,"ng-template",26),Ko(),Zo(6,"div",27),Jo(7,"app-line-plot",38,39),Ko()}if(2&e){var r=ua();Nr(3),Qo("ngModel",r.includeTopRight),Nr(2),Qo("ngIf",r.includeTopRight),Nr(2),Qo("handler",r.linePlotHandler)("hover-disabled",!0)("disable-drag",!0)("hide-drop-lines",!r.topRightTarget)("hide-target",!r.topRightTarget)("fixed-width",r.topRightWidth)("fixed-height",r.topRightHeight)("legend-x-offset",r.topRightLegendXOffset)("legend-y-offset",r.topRightLegendYOffset)}}function ZO(e,t){if(1&e){var n=na();Zo(0,"div",36),Zo(1,"label"),Na(2," Width "),Zo(3,"input",37),oa("ngModelChange",(function(e){return Kt(n),ua(3).bottomWidth=e})),Ko(),Ko(),Ko()}if(2&e){var r=ua(3);Nr(3),Qo("ngModel",r.bottomWidth)}}function KO(e,t){if(1&e){var n=na();Zo(0,"div",36),Zo(1,"label"),Na(2," Height "),Zo(3,"input",37),oa("ngModelChange",(function(e){return Kt(n),ua(3).bottomHeight=e})),Ko(),Ko(),Ko()}if(2&e){var r=ua(3);Nr(3),Qo("ngModel",r.bottomHeight)}}function JO(e,t){if(1&e){var n=na();Zo(0,"label"),Na(1," Dimensions "),Zo(2,"select",43),oa("ngModelChange",(function(e){return Kt(n),ua(2).bottomDim=e}))("ngModelChange",(function(e){return Kt(n),ua(2).setDim("bottom",e)})),Zo(3,"option",44),Na(4,"640 by 160"),Ko(),Zo(5,"option",45),Na(6,"800 by 200"),Ko(),Zo(7,"option",46),Na(8,"1024 by 256"),Ko(),Zo(9,"option",34),Na(10,"Custom"),Ko(),Ko(),Ko(),qo(11,ZO,4,1,"div",35),qo(12,KO,4,1,"div",35)}if(2&e){var r=ua(2);Nr(2),Qo("ngModel",r.bottomDim),Nr(9),Qo("ngIf","other"==r.bottomDim),Nr(1),Qo("ngIf","other"==r.bottomDim)}}function eR(e,t){if(1&e){var n=na();Zo(0,"div",22),Zo(1,"div",23),Zo(2,"label",24),Zo(3,"input",25),oa("ngModelChange",(function(e){return Kt(n),ua().includeBottom=e})),Ko(),Na(4," Export this graph "),Ko(),Ko(),qo(5,JO,13,3,"ng-template",26),Ko(),Zo(6,"div",27),Jo(7,"app-ci-plot",41,42),Ko()}if(2&e){var r=ua();Nr(3),Qo("ngModel",r.includeBottom),Nr(2),Qo("ngIf",r.includeBottom),Nr(2),Qo("handler",r.ciPlotHandler)("disable-drag-target",!0)("disable-drag-ci",!0)("fixed-width",r.bottomWidth)("fixed-height",r.bottomHeight)}}function tR(e,t){if(1&e&&(Zo(0,"option",47),Na(1),Ko()),2&e){var n=t.$implicit;Qo("selected",ua().imageFormat==n),Nr(1),Fa(n)}}var nR,rR,iR=function(e){return e[e.iOS=0]="iOS",e[e.WP=1]="WP",e[e.Android=2]="Android",e[e.Linux=3]="Linux",e[e.Mac=4]="Mac",e[e.Windows=5]="Windows",e[e.BB=6]="BB",e[e.Other=7]="Other",e}({}),oR=[[iR.iOS,/([0-9_]+) like Mac OS X/],[iR.iOS,/CPU like Mac OS X/],[iR.WP,/Windows Phone ([0-9\.]+)/],[iR.Android,/Android ([0-9\.]+)/],[iR.Linux,/Linux/],[iR.Mac,/Macintosh.+Mac OS X ([0-9_]+)/],[iR.Windows,/Windows NT ([0-9\.]+)/],[iR.BB,/BlackBerry.+Version\/([0-9\.]+)/],[iR.BB,/BB[0-9]+.+Version\/([0-9\.]+)/]],aR=((rR=function(){function e(t,n){_classCallCheck(this,e),this.activeModal=t,this.exportService=n,this.includeTopLeft=!0,this.topLeftDim="640x480",this.topLeftWidth=640,this.topLeftHeight=480,this.topLeftTarget=!0,this.includeTopRight=!0,this.topRightDim="640x480",this.topRightWidth=640,this.topRightHeight=480,this.topRightTarget=!0,this.includeBottom=!0,this.bottomTitle="Precision vs. Effect Size",this.bottomDim="640x160",this.bottomWidth=640,this.bottomHeight=160,this.imageFormats=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;switch(this.detectPlatform()){case iR.Windows:this.imageFormat="WMF";break;case iR.Mac:this.imageFormat="EPS";break;case iR.Linux:this.imageFormat="SVG";break;default:this.imageFormat="PNG"}this.exportService.formats().subscribe((function(t){e.imageFormats=t.formats,e.imageFormats.some((function(t){return e.imageFormat==t}))||(e.imageFormat="PNG")})),this.linePlotHandler=this.project.getLinePlotHandler(),this.ciPlotHandler=this.project.getCIPlotHandler()}},{key:"ngAfterViewChecked",value:function(){var e=this;this.topLeftTitle&&this.topRightTitle&&this.bottomTitle||setTimeout((function(){e.topLeftPlot&&(e.topLeftTitle=e.topLeftPlot.title),e.topRightPlot&&(e.topRightTitle=e.topRightPlot.title),e.bottomPlot&&(e.bottomTitle=e.bottomPlot.title)}),1)}},{key:"detectPlatform",value:function(){if(navigator)for(var e=navigator.userAgent,t=0,n=oR.length;t<n;t++){var r=oR[t];if(e.match(r[1]))return r[0]}return iR.Other}},{key:"setDim",value:function(e,t){if("other"!=t){var n=t.split("x");this["".concat(e,"Width")]=parseInt(n[0]),this["".concat(e,"Height")]=parseInt(n[1])}}},{key:"serializePlot",value:function(e){return(new XMLSerializer).serializeToString(e.plotElement.nativeElement)}},{key:"save",value:function(){var e=this,t=[];this.includeTopLeft&&t.push({name:this.topLeftTitle,width:this.topLeftWidth,height:this.topLeftHeight,svg:this.serializePlot(this.topLeftPlot)}),this.includeTopRight&&t.push({name:this.topRightTitle,width:this.topRightWidth,height:this.topRightHeight,svg:this.serializePlot(this.topRightPlot)}),this.includeBottom&&t.push({name:this.bottomTitle,width:this.bottomWidth,height:this.bottomHeight,svg:this.serializePlot(this.bottomPlot)}),this.exportService.plots(this.imageFormat,t).subscribe((function(t){for(var n=atob(t.data),r=new ArrayBuffer(n.length),i=new Uint8Array(r),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);var a=new Blob([r],{type:"application/zip"}),s=URL.createObjectURL(a),u=e.downloadLink.nativeElement;u.href=s,u.download=t.filename,u.click(),URL.revokeObjectURL(s),e.activeModal.close()}))}},{key:"cancel",value:function(){this.activeModal.close()}}]),e}()).\u0275fac=function(e){return new(e||rR)(Go(rw),Go(LO))},rR.\u0275cmp=gt({type:rR,selectors:[["app-export-plots"]],viewQuery:function(e,t){var n;1&e&&(_u(VO,!0),_u(zO,!0),_u(HO,!0),yu(UO,!0)),2&e&&(mu(n=xu())&&(t.topLeftPlot=n.first),mu(n=xu())&&(t.topRightPlot=n.first),mu(n=xu())&&(t.bottomPlot=n.first),mu(n=xu())&&(t.downloadLink=n.first))},inputs:{project:"project",topLeftLegendXOffset:["top-left-legend-x-offset","topLeftLegendXOffset"],topLeftLegendYOffset:["top-left-legend-y-offset","topLeftLegendYOffset"],topRightLegendXOffset:["top-right-legend-x-offset","topRightLegendXOffset"],topRightLegendYOffset:["top-right-legend-y-offset","topRightLegendYOffset"]},decls:33,vars:7,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["id","export-plots-modal-body",1,"modal-body","grow-vert","h-100"],[1,"d-flex","flex-column","h-100"],[3,"destroyOnHide"],[3,"title"],["ngbTabContent",""],[1,"modal-footer"],[1,"d-flex-inline","flex-row"],[1,"form-inline"],["for","export-image-format",1,"mr-sm-2"],["id","export-image-format","name","imageFormat",1,"form-control",3,"ngModel","ngModelChange"],[3,"selected",4,"ngFor","ngForOf"],[2,"display","none"],["downloadLink",""],[1,"d-flex","flex-row","align-items-center"],["type","button",1,"btn","btn-secondary","m-1",3,"disabled","click"],[1,"fa","fa-floppy-o"],["type","button",1,"btn","btn-secondary","m-1",3,"click"],[1,"fa","fa-circle-x"],[1,"left"],[1,"form-check"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],[3,"ngIf"],[1,"right"],["name","top-left-export",3,"handler","hover-disabled","disable-drag","hide-drop-lines","hide-target","fixed-width","fixed-height","legend-x-offset","legend-y-offset"],["topLeftPlot",""],["name","topLeftDim",1,"form-control",3,"ngModel","ngModelChange"],["value","640x480"],["value","800x600"],["value","1024x768"],["value","other"],["class","form-group",4,"ngIf"],[1,"form-group"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],["name","top-right-export",3,"handler","hover-disabled","disable-drag","hide-drop-lines","hide-target","fixed-width","fixed-height","legend-x-offset","legend-y-offset"],["topRightPlot",""],["name","topRightDim",1,"form-control",3,"ngModel","ngModelChange"],["name","bottom-export",3,"handler","disable-drag-target","disable-drag-ci","fixed-width","fixed-height"],["bottomPlot",""],["name","bottomDim",1,"form-control",3,"ngModel","ngModelChange"],["value","640x160"],["value","800x200"],["value","1024x256"],[3,"selected"]],template:function(e,t){1&e&&(Zo(0,"div",0),Zo(1,"h4",1),Na(2,"Export graphs"),Ko(),Zo(3,"button",2),oa("click",(function(){return t.cancel()})),Zo(4,"span",3),Na(5,"\xd7"),Ko(),Ko(),Ko(),Zo(6,"div",4),Zo(7,"div",5),Zo(8,"ngb-tabset",6),Zo(9,"ngb-tab",7),qo(10,GO,9,11,"ng-template",8),Ko(),Zo(11,"ngb-tab",7),qo(12,$O,9,11,"ng-template",8),Ko(),Zo(13,"ngb-tab",7),qo(14,eR,9,7,"ng-template",8),Ko(),Ko(),Ko(),Ko(),Zo(15,"div",9),Zo(16,"div",10),Zo(17,"div",11),Zo(18,"label",12),Na(19,"Image format:"),Ko(),Zo(20,"select",13),oa("ngModelChange",(function(e){return t.imageFormat=e})),qo(21,tR,2,2,"option",14),Ko(),Ko(),Ko(),Zo(22,"p"),Na(23," The graphs you have chosen will be packaged in a ZIP file. "),Jo(24,"a",15,16),Ko(),Zo(26,"div",17),Zo(27,"button",18),oa("click",(function(){return t.save()})),Jo(28,"i",19),Na(29," Save "),Ko(),Zo(30,"button",20),oa("click",(function(){return t.cancel()})),Jo(31,"i",21),Na(32," Close "),Ko(),Ko(),Ko()),2&e&&(Nr(8),Qo("destroyOnHide",!1),Nr(1),Qo("title",t.topLeftTitle||"Top Left Plot"),Nr(2),Qo("title",t.topRightTitle||"Top Right Plot"),Nr(2),Qo("title",t.bottomTitle||"Bottom Plot"),Nr(7),Qo("ngModel",t.imageFormat),Nr(1),Qo("ngForOf",t.imageFormats),Nr(6),Qo("disabled",!t.includeTopLeft&&!t.includeTopRight&&!t.includeBottom))},directives:[Mw,Tw,Sw,M_,Ky,db,jc,zy,Nc,xO,P_,j_,v_,By,FO],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}.modal-body[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:20%;border-right:1px solid #888;padding:10px}.modal-body[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;margin-left:10px;overflow:auto;padding:10px}.modal-footer[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}"]}),rR),sR=((nR=function e(){var t=this;_classCallCheck(this,e),this.onCopy=new au,document.addEventListener("copy",(function(e){t.onCopy.emit(e)}))}).\u0275prov=pe({token:nR,factory:nR.\u0275fac=function(e){return new(e||nR)},providedIn:"root"}),nR),uR=["topLeft"],lR=["topRight"],cR=["bottom"],hR=["footerTabset"],fR=["log"];function dR(e,t){1&e&&(Zo(0,"div",10),Jo(1,"div",11),Jo(2,"div",12),Jo(3,"div",13),Ko()),2&e&&Qo("@overlay",void 0)}function pR(e,t){if(1&e){var n=na();Zo(0,"div",14),Zo(1,"button",15),oa("click",(function(){return Kt(n),ua().toggleFooter(!0)})),Jo(2,"i",16),Na(3," Interpretation / Log "),Ko(),Ko()}}function vR(e,t){1&e&&Jo(0,"i",30),2&e&&wa("color",ua(3).getIndicatorColor())}function gR(e,t){1&e&&(qo(0,vR,1,2,"i",29),Na(1," Interpretation ")),2&e&&Qo("ngIf",ua(2).project.getModelCount()>1)}function mR(e,t){1&e&&Na(0),2&e&&La(" ",ua(2).project.getModelInterpretation()," ")}function yR(e,t){1&e&&Na(0," There have not been any changes yet. ")}function _R(e,t){if(1&e&&(Na(0),Zo(1,"span",37),Na(2),tu(3,"json"),Ko()),2&e){var n=ua().$implicit;La(" Added model ",n.index+1,": "),Nr(2),Fa(nu(3,2,n.params))}}function bR(e,t){1&e&&Na(0),2&e&&La(" Removed model ",ua().$implicit.index+1," ")}function kR(e,t){if(1&e&&(Na(0," Changed "),Zo(1,"span",37),Na(2),Ko(),Na(3),Zo(4,"span",37),Na(5),tu(6,"json"),Ko()),2&e){var n=ua().$implicit;Nr(2),Fa(n.key),Nr(1),La(" in model ",n.index+1,": "),Nr(2),Fa(nu(6,3,n.params))}}function wR(e,t){if(1&e&&(Zo(0,"li"),qo(1,_R,4,4,"ng-template",36),qo(2,bR,1,1,"ng-template",36),qo(3,kR,7,5,"ng-template",36),Ko()),2&e){var n=t.$implicit;Nr(1),Qo("ngIf","add"==n.type),Nr(1),Qo("ngIf","remove"==n.type),Nr(1),Qo("ngIf","change"==n.type)}}function CR(e,t){if(1&e&&(Zo(0,"ul",33,34),qo(2,wR,4,3,"li",35),Ko()),2&e){var n=ua(3);Nr(2),Qo("ngForOf",n.project.getChangeHistory())}}function xR(e,t){if(1&e&&(qo(0,yR,1,0,"ng-template",31),qo(1,CR,3,1,"ng-template",null,32,Pu)),2&e){var n=Wo(2);Qo("ngIf",!ua(2).project)("ngIfElse",n)}}function SR(e,t){if(1&e){var n=na();Zo(0,"div",17),Zo(1,"div",18),Zo(2,"button",19),oa("click",(function(){return Kt(n),ua().copyFooter()})),Jo(3,"i",20),Ko(),Zo(4,"button",21),oa("click",(function(){return Kt(n),ua().toggleFooter(!1)})),Jo(5,"i",22),Ko(),Ko(),Zo(6,"ngb-tabset",23,24),Zo(8,"ngb-tab",25),qo(9,gR,2,1,"ng-template",26),qo(10,mR,1,1,"ng-template",27),Ko(),Zo(11,"ngb-tab",28),qo(12,xR,3,2,"ng-template",27),Ko(),Ko(),Ko()}}var TR,MR=((TR=function(){function e(t,n,r,i){_classCallCheck(this,e),this.modalService=t,this.plotOptions=n,this.palette=r,this.copyService=i,this.hoverDisabled=!1,this.disableDragCITarget=!1,this.disableDragCIBounds=!1,this.modelChanged=new au,this.showFooter=!0,this.updatingPlots=!1}return _createClass(e,[{key:"ngOnChanges",value:function(e){var t=this;"project"in e&&(this.updatingSub&&(this.updatingSub.unsubscribe(),this.updatingSub=void 0),this.project?(this.linePlotHandler=this.project.getLinePlotHandler(),this.ciPlotHandler=this.project.getCIPlotHandler(),this.updatingSub=this.project.updatingPlotData.subscribe((function(e){t.updatingPlots=!0}))):(this.linePlotHandler=void 0,this.ciPlotHandler=void 0))}},{key:"toggleFooter",value:function(e){this.showFooter=e,setTimeout(this.resize.bind(this),1)}},{key:"openSaveDialog",value:function(){var e=this.modalService.open(aR,{windowClass:"export-plots"}).componentInstance;e.project=this.project,e.topLeftLegendXOffset=this.topLeftPlot.legendXOffset,e.topLeftLegendYOffset=this.topLeftPlot.legendYOffset,e.topRightLegendXOffset=this.topRightPlot.legendXOffset,e.topRightLegendYOffset=this.topRightPlot.legendYOffset}},{key:"resize",value:function(){this.redrawPlots()}},{key:"redrawPlots",value:function(){var e=this;this.updatingPlots=!1,setTimeout((function(){e.topLeftPlot.redraw(),e.topRightPlot.redraw(),e.bottomPlot.redraw()}),1)}},{key:"getIndicatorColor",value:function(){return this.palette.getColor(this.project.getSelectedIndex(),this.plotOptions.paletteTheme)}},{key:"copyFooter",value:function(){var e=this;this.copySub=this.copyService.onCopy.subscribe((function(t){e.onCopy(t)})),document.execCommand("copy")}},{key:"onCopy",value:function(e){switch(this.footerTabset.activeId){case"output-pane-interpretation":e.clipboardData.setData("text/plain",this.project.getModelInterpretation()),e.preventDefault();break;case"output-pane-log":e.clipboardData.setData("text/plain",this.logElt.nativeElement.innerText),e.preventDefault()}this.copySub.unsubscribe()}},{key:"onModelChanged",value:function(){this.modelChanged.emit()}}]),e}()).\u0275fac=function(e){return new(e||TR)(Go(uw),Go(iO),Go(oO),Go(sR))},TR.\u0275cmp=gt({type:TR,selectors:[["app-output-pane"]],viewQuery:function(e,t){var n;1&e&&(yu(uR,!0),yu(lR,!0),yu(cR,!0),_u(hR,!0),_u(fR,!0)),2&e&&(mu(n=xu())&&(t.topLeftPlot=n.first),mu(n=xu())&&(t.topRightPlot=n.first),mu(n=xu())&&(t.bottomPlot=n.first),mu(n=xu())&&(t.footerTabset=n.first),mu(n=xu())&&(t.logElt=n.first))},inputs:{project:"project",hoverDisabled:["hover-disabled","hoverDisabled"],disableDragCITarget:["disable-drag-ci-target","disableDragCITarget"],disableDragCIBounds:["disable-drag-ci-bounds","disableDragCIBounds"]},outputs:{modelChanged:"modelChanged"},features:[Qa],decls:10,vars:12,consts:[["id","output-pane-plots",1,"plot"],["id","output-pane-overlay",4,"ngIf"],["name","top-left",3,"handler","hover-disabled","modelChanged"],["topLeft",""],["name","top-right",3,"handler","hover-disabled","modelChanged"],["topRight",""],["name","bottom",3,"handler","disable-drag-target","disable-drag-ci","modelChanged"],["bottom",""],["class","show-footer",4,"ngIf"],["id","output-pane-footer","class","output-footer",4,"ngIf"],["id","output-pane-overlay"],[1,"aligner-top"],[1,"loader"],[1,"aligner-bottom"],[1,"show-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true","title","Show footer",1,"fa","fa-envelope-open-o"],["id","output-pane-footer",1,"output-footer"],[1,"footer-buttons"],["type","button","title","Copy to clipboard",3,"click"],[1,"fa","fa-clipboard"],["type","button","title","Hide footer",3,"click"],[1,"fa","fa-window-minimize"],["type","pills"],["footerTabset",""],["id","output-pane-interpretation"],["ngbTabTitle",""],["ngbTabContent",""],["id","output-pane-log","title","Log"],["class","fa fa-square",3,"color",4,"ngIf"],[1,"fa","fa-square"],[3,"ngIf","ngIfElse"],["changeHistory",""],[1,"log"],["log",""],[4,"ngFor","ngForOf"],[3,"ngIf"],[1,"code"]],template:function(e,t){1&e&&(Zo(0,"div",0),qo(1,dR,4,1,"div",1),Zo(2,"app-line-plot",2,3),oa("modelChanged",(function(){return t.onModelChanged()})),Ko(),Zo(4,"app-line-plot",4,5),oa("modelChanged",(function(){return t.onModelChanged()})),Ko(),Zo(6,"app-ci-plot",6,7),oa("modelChanged",(function(){return t.onModelChanged()})),Ko(),qo(8,pR,4,0,"div",8),Ko(),qo(9,SR,13,0,"div",9)),2&e&&(Ca("without-footer",!t.showFooter),Nr(1),Qo("ngIf",t.updatingPlots),Nr(1),Qo("handler",t.linePlotHandler)("hover-disabled",t.hoverDisabled),Nr(2),Qo("handler",t.linePlotHandler)("hover-disabled",t.hoverDisabled),Nr(2),Qo("handler",t.ciPlotHandler)("disable-drag-target",t.disableDragCITarget)("disable-drag-ci",t.disableDragCIBounds),Nr(2),Qo("ngIf",t.project&&!t.showFooter),Nr(1),Qo("ngIf",t.project&&t.showFooter))},directives:[Nc,xO,FO,Mw,Tw,xw,Sw,jc],pipes:[$c],styles:["[_nghost-%COMP%]{position:relative}#output-pane-overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:-15px;right:0;background-color:#fff;z-index:99;opacity:.7;display:flex;align-items:center;justify-content:center}#output-pane-overlay[_ngcontent-%COMP%]   .alinger-top[_ngcontent-%COMP%]{max-width:50%;align-self:flex-start}#output-pane-overlay[_ngcontent-%COMP%]   .alinger-bottom[_ngcontent-%COMP%]{max-width:50%;align-self:flex-end}#output-pane-overlay[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{border:16px solid #f3f3f3;border-top-color:#00d;border-radius:50%;width:120px;height:120px;-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite}@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.plot[_ngcontent-%COMP%]{height:80%;position:relative}.without-footer[_ngcontent-%COMP%]{height:100%}div.show-footer[_ngcontent-%COMP%]{position:absolute;right:5px;bottom:5px}.output-footer[_ngcontent-%COMP%]{position:relative;background-color:#e5e5e5;border:1px solid #aaa;border-radius:5px;margin-top:5px;margin-bottom:5px}.footer-buttons[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px}.footer-buttons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0 3px}.dot[_ngcontent-%COMP%]{color:red}"],data:{animation:[Ah("overlay",[Fh(":enter",[Dh({opacity:0}),Ih("1s 0.8s",Dh({opacity:.7}))]),Fh(":leave",[Ih("0.5s",Dh({opacity:0}))])])]}}),TR),PR="bfce8cdd03ef9614ff580cda49d7f1199c45d24f";function ER(e,t){1&e&&(Zo(0,"h5"),Na(1,"Introduction"),Ko(),Zo(2,"p"),Na(3," PS is a program for performing power and sample size calculations. You are using a web-enabled beta-test version of the program, where we are actively working on the interactive user interface. Currently, it can only be used for t-tests, z-tests and tests with dichotomous outcomes. It will be expanded for use in studies with survival response and other data. "),Ko(),Zo(4,"h5"),Na(5,"Program Output"),Ko(),Zo(6,"p"),Na(7," The program can determine the sample size needed to detect a specified alternative hypothesis with the required power, the power with which a specific alternative hypothesis can be detected with a given sample size, or the specific alternative hypotheses that can be detected with a given power and sample size. It also gives the 95% confidence interval for the test statistic under the specified alternative hypothesis as a measure of the precision of the test statistic. "),Ko(),Zo(8,"h5"),Na(9,"Interactive Help"),Ko(),Zo(10,"p"),Na(11," Click on any question-mark icon or white i in a black circle for help to determine the needed information. In the "),Zo(12,"em"),Na(13,"Start"),Ko(),Na(14," tab, choose one of sample size, power, or detectable difference and then complete the other fields that appear. Hover over the i icon for information on what is needed in each field. Then click the "),Zo(15,"em"),Na(16,"Calculate"),Ko(),Na(17," button. A new tab will appear with sliders for altering the input variables, the desired output variable and various graphs. Alternately, choose an example from the upper-right pull-down menu for a pre-populated example and click on "),Zo(18,"em"),Na(19,"Calculate"),Ko(),Na(20,". "),Ko(),Zo(21,"h5"),Na(22,"Graphical Output"),Ko(),Zo(23,"p"),Na(24," The graphs that can be generated are sample size vs. power, sample size vs. the detectable alternative hypothesis, power vs. sample size, and power vs. the detectable alternative hypothesis. The y-axes of these graphs are always show the output variable. In addition, a graph of precision vs effect size is always given. The red dot on the top two graphs can be dragged to enhance the user\u2019s intuition on how the input and output variables interact. The dot giving the effect size in the lower panel many also be dragged, as can the vertical bars indicating the limits of the 95% confidence interval when the output is not sample size. "),Ko(),Zo(25,"h5"),Na(26,"Add Line"),Ko(),Zo(27,"p"),Na(28,"Clicking on "),Zo(29,"em"),Na(30,"Add line"),Ko(),Na(31," overlays a new set of graphs on top of the old ones. This new graph can then be modified to permit multiple graphs on each plot. A legend is automatically generated. The names of the curves can be modified by changing the Name field near the top of the dialog box. Clicking on the left-most tab (blue by default) gives access to the initial plot whose legend name may also be modified. The legend itself can be dragged to a suitable position on each graph. "),Ko(),Zo(32,"h5"),Na(33,"Options gear wheel"),Ko(),Zo(34,"p"),Na(35," Click on this icon to change the point size, line width and other graph options. "),Ko(),Zo(36,"h5"),Na(37,"Save icon"),Ko(),Zo(38,"p"),Na(39,"Click on this icon to save graphs in one of several formats. Graphs in WMF format can be readily imported into Microsoft PowerPoint for further editing."),Ko(),Zo(40,"h5"),Na(41,"Cube icon"),Ko(),Zo(42,"p"),Na(43,"By default, hovering over a line on a graph will give you the values of the x- and y-axes at the point where you are hovering. Clicking on the "),Zo(44,"em"),Na(45,"Cube"),Ko(),Na(46," icon toggles this feature on or off."),Ko(),Zo(47,"h5"),Na(48,"Interpretation"),Ko(),Zo(49,"p"),Na(50,"The output also includes text that describes the power or sample size calculation in English, which may be a useful starting point for a description in a grant application."),Ko(),Zo(51,"h5"),Na(52,"Log"),Ko(),Zo(53,"p"),Na(54,"A terse description of the calculations performed is abailable by clicking on "),Zo(55,"em"),Na(56,"Log"),Ko(),Na(57," in the gray box. The log file may then be cut and pasted into other editors."),Ko(),Zo(58,"p"),Jo(59,"img",1),Na(60," \xa9 William D. Dupont, Jeffrey D. Blume, W. Dale Plummer, Jeremy Stephens 2017-2018 "),Ko(),Zo(61,"p"),Na(62," Use of this program is restricted by a Creative Commons Attribution Non-Commercial Share Alike license. See "),Zo(63,"a",2),Na(64,"https://creativecommons.org/licenses"),Ko(),Na(65," for details. We are grateful for support from Dr. Gordon R. Bernard and the Vanderbilt Institute for Clinical and Translational Research. "),Ko())}function OR(e,t){1&e&&(Zo(0,"p"),Na(1,"Select one of the following:"),Ko(),Zo(2,"h5"),Na(3,"Sample size"),Ko(),Zo(4,"p"),Na(5," For independent t-tests this is the number of experimental patients that must be studied to detect a true difference in population means \u03b4 with Type I error probability \u03b1 given a standard deviation \u03c3 and "),Zo(6,"em"),Na(7,"m"),Ko(),Na(8," controls per experimental patient. For paired t-tests it is the number of pairs of patients needed to detect a true difference in population means \u03b4 with Type I error probability \u03b1 given a standard deviation \u03c3. "),Ko(),Zo(9,"h5"),Na(10,"Power"),Ko(),Zo(11,"p"),Na(12," For independent studies it is the probability of rejecting the null hypothesis with Type I error probability \u03b1 given the specified sample size, a standard deviation \u03c3 and a control/experimental patient ratio "),Zo(13,"em"),Na(14,"m"),Ko(),Na(15," when the true difference in population means is \u03b4. For paired studies it is the probability of rejecting the null hypothesis with Type I error probability \u03b1 given the specified sample size, a standard deviation \u03c3 when the true difference in population means is \u03b4. "),Ko(),Zo(16,"h5"),Na(17,"Detectable alternative"),Ko(),Zo(18,"p"),Na(19," A difference in population means that can be detected with the specified power and Type I error probability \u03b1 given a standard deviation \u03c3, and the specified sample size. "),Ko())}function RR(e,t){1&e&&(Zo(0,"p"),Na(1,"Select one of the following:"),Ko(),Zo(2,"h5"),Na(3,"Sample size"),Ko(),Zo(4,"p"),Na(5," The sample size needed to detect a specific alternative hypothesis with a specified power and Type I error probability \u03b1. "),Ko(),Zo(6,"h5"),Na(7,"Power"),Ko(),Zo(8,"p"),Na(9," The power with which a given sample size can detect a specific alternative hypothesis with a specific Type I error probability \u03b1. "),Ko(),Zo(10,"h5"),Na(11,"Detectable alternative"),Ko(),Zo(12,"p"),Na(13," The alternative hypothesis that can be detected with a specified level of power given a specified sample size and Type I error probability \u03b1. "),Ko())}var AR,IR=((AR=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||AR)},AR.\u0275cmp=gt({type:AR,selectors:[["app-help"]],inputs:{topic:"topic"},decls:3,vars:3,consts:[[3,"ngIf"],["src","assets/cc.png"],["href","https://creativecommons.org/licenses"]],template:function(e,t){1&e&&(qo(0,ER,66,0,"ng-template",0),qo(1,OR,20,0,"ng-template",0),qo(2,RR,14,0,"ng-template",0)),2&e&&(Qo("ngIf","overview"==t.topic),Nr(1),Qo("ngIf","t-test-start"==t.topic||"z-test-start"==t.topic),Nr(1),Qo("ngIf","dichot-start"==t.topic))},directives:[Nc],styles:["h5[_ngcontent-%COMP%]{font-weight:700}"]}),AR);function jR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kb;return function(n){return n.lift(new DR(e,t))}}var DR=function(){function e(t,n){_classCallCheck(this,e),this.dueTime=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new NR(e,this.dueTime,this.scheduler))}}]),e}(),NR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(FR,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(g);function FR(e){e.debouncedNext()}var LR=["errorPopover"],VR=["number"],zR=["range"];function HR(e,t){}function UR(e,t){1&e&&qo(0,HR,0,0,"ng-template",15),2&e&&Qo("ngTemplateOutlet",ua().labelTpl)}function BR(e,t){1&e&&(Zo(0,"span"),Na(1,"(Computed value) "),Ko())}function qR(e,t){}function WR(e,t){1&e&&qo(0,qR,0,0,"ng-template",15),2&e&&Qo("ngTemplateOutlet",ua(4).helpTpl)}function GR(e,t){if(1&e&&(Jo(0,"i",21),qo(1,WR,1,1,"ng-template",null,22,Pu)),2&e){var n=Wo(2);fa("popoverTitle",ua(3).label),Qo("ngbPopover",n)}}function XR(e,t){1&e&&Jo(0,"i",23)}function YR(e,t){if(1&e&&(Zo(0,"div",17),Na(1),qo(2,BR,2,0,"span",18),qo(3,GR,3,2,"ng-template",19),qo(4,XR,1,0,"i",20),Ko()),2&e){var n=ua(2);Nr(1),La(" ",n.label," "),Nr(1),Qo("ngIf",n.isOutput),Nr(1),Qo("ngIf",n.helpTpl),Nr(1),Qo("ngIf",n.showDot)}}function QR(e,t){1&e&&qo(0,YR,5,4,"div",16),2&e&&Qo("ngIf",ua().label)}function $R(e,t){if(1&e&&(Zo(0,"span",24),Na(1),Ko(),Jo(2,"br"),Na(3)),2&e){var n=ua();Nr(1),Va("Value is out of range (",n.hardMin,", ",n.hardMax,")."),Nr(2),La(" Current value: ",n.value," ")}}var ZR,KR,JR,eA,tA=((eA=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||eA)(Go(As))},eA.\u0275dir=wt({type:eA,selectors:[["ng-template","rsLabel",""]]}),eA),nA=((JR=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||JR)(Go(As))},JR.\u0275dir=wt({type:JR,selectors:[["ng-template","rsHelp",""]]}),JR),rA=((KR=function(){function e(){_classCallCheck(this,e),this.step=.01,this.isOutput=!1,this.showDot=!1,this.hasError=!1,this.inputSubject=new E,this.dirty=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.inputSubject.pipe(jR(800),fp((function(t){return e.dirty}))).subscribe((function(t){e.trySetValue(t)}))}},{key:"ngAfterContentInit",value:function(){!this.helpTpl&&this.rsHelpTpl&&(this.helpTpl=this.rsHelpTpl.templateRef),!this.labelTpl&&this.rsLabelTpl&&(this.labelTpl=this.rsLabelTpl.templateRef)}},{key:"ngOnChanges",value:function(e){if("isOutput"in e){var t=e.isOutput;!0===t.previousValue&&!1===t.currentValue?(this.value<this.hardMin||this.value>this.hardMax)&&(this.hasError=!0,this.errorPopover.open()):!1===t.previousValue&&!0===t.currentValue&&(this.hasError=!1,this.errorPopover.close())}}},{key:"floor",value:function(e){return Math.floor(e)}},{key:"ceil",value:function(e){return Math.ceil(e)}},{key:"round",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Math.pow(10,t);return e*=n,(e=Math.round(e))/n}},{key:"writeValue",value:function(e){this.value=e}},{key:"registerOnChange",value:function(e){this.changeCallback=e}},{key:"registerOnTouched",value:function(e){}},{key:"setDisabledState",value:function(e){}},{key:"rangeChanged",value:function(e){this.trySetValue(e)}},{key:"rangeInput",value:function(e){this.dirty=!0,this.numberElement.nativeElement.value=e,this.inputSubject.next(e)}},{key:"numberChanged",value:function(e){this.dirty&&this.trySetValue(e)}},{key:"numberInput",value:function(e){this.dirty=!0,this.rangeElement.nativeElement.value=e,this.inputSubject.next(e)}},{key:"blurred",value:function(){this.hasError&&(this.numberElement.nativeElement.value=this.value,this.hasError=!1,this.errorPopover.close())}},{key:"trySetValue",value:function(e){var t=parseFloat(e);t<this.hardMin||t>this.hardMax?(this.hasError=!0,this.errorPopover.open()):(this.hasError=!1,this.errorPopover.close(),this.value=t,this.propagateChange()),this.dirty=!1}},{key:"propagateChange",value:function(){this.changeCallback&&this.changeCallback(this.value)}}]),e}()).\u0275fac=function(e){return new(e||KR)},KR.\u0275cmp=gt({type:KR,selectors:[["app-range-slider"]],contentQueries:function(e,t,n){var r;1&e&&(wu(n,tA,!0),wu(n,nA,!0)),2&e&&(mu(r=xu())&&(t.rsLabelTpl=r.first),mu(r=xu())&&(t.rsHelpTpl=r.first))},viewQuery:function(e,t){var n;1&e&&(yu(LR,!0),yu(VR,!0),yu(zR,!0)),2&e&&(mu(n=xu())&&(t.errorPopover=n.first),mu(n=xu())&&(t.numberElement=n.first),mu(n=xu())&&(t.rangeElement=n.first))},inputs:{label:"label",name:"name",min:"min",max:"max",step:"step",hardMin:["hard-min","hardMin"],hardMax:["hard-max","hardMax"],isOutput:["is-output","isOutput"],helpTpl:["help-tpl","helpTpl"],labelTpl:["label-tpl","labelTpl"],showDot:["show-dot","showDot"]},features:[os([{provide:Ly,useExisting:Me((function(){return KR})),multi:!0}]),Qa],decls:20,vars:19,consts:[[1,"slider-group"],[3,"ngIf","ngIfElse"],["standardLabel",""],[1,"inputs","row"],[1,"col-sm-9"],[1,"slider"],[1,"min"],["type","range",3,"name","step","min","max","value","disabled","change","input"],["range",""],[1,"max"],[1,"col-sm-3"],[1,"number"],["type","number","triggers","manual","container","body",3,"name","step","min","max","value","disabled","ngbPopover","change","input","blur"],["number","","errorPopover","ngbPopover"],["errorMsg",""],[3,"ngTemplateOutlet"],["class","label",4,"ngIf"],[1,"label"],[4,"ngIf"],[3,"ngIf"],["class","fa fa-circle dot",4,"ngIf"],["aria-hidden","true","placement","right","triggers","hover","container","body",1,"fa","fa-info-circle",3,"ngbPopover","popoverTitle"],["rsHelp",""],[1,"fa","fa-circle","dot"],[1,"error"]],template:function(e,t){if(1&e){var n=na();Zo(0,"div",0),qo(1,UR,1,1,"ng-template",1),qo(2,QR,1,1,"ng-template",null,2,Pu),Zo(4,"div",3),Zo(5,"div",4),Zo(6,"div",5),Zo(7,"div",6),Na(8),Ko(),Zo(9,"input",7,8),oa("change",(function(){Kt(n);var e=Wo(10);return t.rangeChanged(e.value)}))("input",(function(){Kt(n);var e=Wo(10);return t.rangeInput(e.value)})),Ko(),Zo(11,"div",9),Na(12),Ko(),Ko(),Ko(),Zo(13,"div",10),Zo(14,"div",11),Zo(15,"input",12,13),oa("change",(function(){Kt(n);var e=Wo(16);return t.numberChanged(e.value)}))("input",(function(){Kt(n);var e=Wo(16);return t.numberInput(e.value)}))("blur",(function(){return t.blurred()})),Ko(),qo(18,$R,4,3,"ng-template",null,14,Pu),Ko(),Ko(),Ko(),Ko()}if(2&e){var r=Wo(3),i=Wo(19);Nr(1),Qo("ngIf",t.labelTpl)("ngIfElse",r),Nr(7),Fa(t.round(t.min)),Nr(1),fa("name",t.name),fa("step",t.step),fa("min",t.min),fa("max",t.max),Qo("value",t.value)("disabled",t.isOutput),Nr(3),Fa(t.round(t.max)),Nr(3),Ca("error",t.hasError),fa("name",t.name),fa("step",t.step),Qo("min",t.hardMin)("max",t.hardMax)("value",t.value)("disabled",t.isOutput)("ngbPopover",i)}},directives:[Nc,yw,Yc],styles:["[_nghost-%COMP%]{display:flex;flex:1;flex-direction:row}div.slider-group[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column;padding:5px;border-radius:5px}div.slider-group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}div.slider-group[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%], div.slider-group[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{padding-top:2ex}div.slider-group[_ngcontent-%COMP%]   .add-remove[_ngcontent-%COMP%]{padding-top:2.3ex}div.slider-group[_ngcontent-%COMP%]   div.inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]{position:relative;padding-left:0;padding-right:0}div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block}div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.max[_ngcontent-%COMP%], div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.min[_ngcontent-%COMP%]{position:absolute;font-size:x-small;top:0;background-color:#ddd;border-radius:1ex;padding:.5ex}div.slider-group.output[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.max[_ngcontent-%COMP%], div.slider-group.output[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.min[_ngcontent-%COMP%]{background-color:#ccc}div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.min[_ngcontent-%COMP%]{left:0}div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.max[_ngcontent-%COMP%]{right:0}.fa[_ngcontent-%COMP%]{opacity:.7}.dot[_ngcontent-%COMP%], .fa[_ngcontent-%COMP%]:hover{opacity:1}.dot[_ngcontent-%COMP%]{color:red}.palette-color[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{opacity:1}span.error[_ngcontent-%COMP%]{color:red}input.error[_ngcontent-%COMP%]{border:2px solid red;color:red}"]}),KR),iA=((ZR=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Math.pow(10,t);return Math.round(e*n)/n}}]),e}()).\u0275fac=function(e){return new(e||ZR)},ZR.\u0275pipe=Ct({name:"round",type:ZR,pure:!0}),ZR);function oA(e,t){1&e&&Na(0," The number of points to use when drawing plots. More is slower. The number of points to use by default is calculated based on host speed. ")}function aA(e,t){if(1&e){var n=na();Zo(0,"div",41),Zo(1,"label",42),Zo(2,"input",48,70),oa("change",(function(){Kt(n);var e=Wo(3);return ua(2).setProjectAttribute("fixedPSpace",e.checked)})),Ko(),Na(4," Fixed parameter space "),Ko(),Ko()}if(2&e){var r=ua(2);Nr(2),Qo("checked",r.fixedPSpace===r.FixedPSpace.Fixed)}}function sA(e,t){if(1&e){var n=na();Zo(0,"input",60,71),oa("change",(function(){Kt(n);var e=Wo(1);return ua(2).setProjectRange("topYRange","min",e.value)}))("input",(function(){Kt(n);var e=Wo(1);return ua(2).setProjectRange("topYRange","min",e.value,!0)})),tu(2,"round"),tu(3,"round"),Ko()}if(2&e){var r=ua(2);Qo("disabled",!r.customRanges)("max",nu(2,3,r.topYRange.max-.01))("value",nu(3,5,r.topYRange.min))}}function uA(e,t){if(1&e){var n=na();Zo(0,"input",63,72),oa("change",(function(){Kt(n);var e=Wo(1);return ua(2).setProjectRange("topYRange","max",e.value)}))("input",(function(){Kt(n);var e=Wo(1);return ua(2).setProjectRange("topYRange","max",e.value,!0)})),tu(2,"round"),tu(3,"round"),Ko()}if(2&e){var r=ua(2);Qo("disabled",!r.customRanges)("min",nu(2,3,r.topYRange.min+.01))("value",nu(3,5,r.topYRange.max))}}function lA(e,t){if(1&e){var n=na();Zo(0,"input",60,73),oa("change",(function(){Kt(n);var e=Wo(1);return ua(2).setProjectRange("topLeftXRange","min",e.value)}))("input",(function(){Kt(n);var e=Wo(1);return ua(2).setProjectRange("topLeftXRange","min",e.value,!0)})),tu(2,"round"),tu(3,"round"),Ko()}if(2&e){var r=ua(2);Qo("disabled",!r.customRanges)("max",nu(2,3,r.topLeftXRange.max-.01))("value",nu(3,5,r.topLeftXRange.min))}}function cA(e,t){if(1&e){var n=na();Zo(0,"input",63,74),oa("change",(function(){Kt(n);var e=Wo(1);return ua(2).setProjectRange("topLeftXRange","max",e.value)}))("input",(function(){Kt(n);var e=Wo(1);return ua(2).setProjectRange("topLeftXRange","max",e.value,!0)})),tu(2,"round"),tu(3,"round"),Ko()}if(2&e){var r=ua(2);Qo("disabled",!r.customRanges)("min",nu(2,3,r.topLeftXRange.min+.01))("value",nu(3,5,r.topLeftXRange.max))}}function hA(e,t){if(1&e){var n=na();Zo(0,"div",1),Zo(1,"fieldset"),Zo(2,"legend"),Na(3,"Global"),Ko(),Zo(4,"div",2),Zo(5,"label",3),Na(6,"Font family"),Ko(),Zo(7,"select",4,5),oa("change",(function(){Kt(n);var e=Wo(8);return ua().changeAttribute("fontFamily",e.value)})),Zo(9,"option",6),Na(10,"Default"),Ko(),Zo(11,"option",7),Na(12,"Serif"),Ko(),Zo(13,"option",8),Na(14,"Sans-serif"),Ko(),Zo(15,"option",9),Na(16,"Monospace"),Ko(),Zo(17,"option"),Na(18,"Bungee Shade"),Ko(),Zo(19,"option"),Na(20,"Sancreek"),Ko(),Ko(),Ko(),Zo(21,"div",2),Zo(22,"label",10),Na(23,"Color palette"),Ko(),Zo(24,"select",11,12),oa("change",(function(){Kt(n);var e=Wo(25);return ua().changeAttribute("paletteTheme",e.value)})),Zo(26,"option",13),Na(27,"Default"),Ko(),Zo(28,"option",14),Na(29,"Plasma"),Ko(),Zo(30,"option",15),Na(31,"Viridis"),Ko(),Zo(32,"option",16),Na(33,"Magma"),Ko(),Zo(34,"option",17),Na(35,"Pattern"),Ko(),Ko(),Ko(),Zo(36,"div",18),Zo(37,"div",19),Zo(38,"label",20),Na(39),Ko(),Zo(40,"div",21),Zo(41,"input",22,23),oa("change",(function(){Kt(n);var e=Wo(42);return ua().changeNumberAttribute("fontSize",e.value)}))("input",(function(){Kt(n);var e=Wo(42);return ua().changeNumberAttribute("fontSize",e.value)})),Ko(),Ko(),Ko(),Zo(43,"div",19),Zo(44,"label",24),Na(45),Ko(),Zo(46,"div",21),Zo(47,"input",25,26),oa("change",(function(){Kt(n);var e=Wo(48);return ua().changeNumberAttribute("axisFontSize",e.value)}))("input",(function(){Kt(n);var e=Wo(48);return ua().changeNumberAttribute("axisFontSize",e.value)})),Ko(),Ko(),Ko(),Ko(),Zo(49,"div",18),Zo(50,"div",19),Zo(51,"label",27),Na(52),Ko(),Zo(53,"div",21),Zo(54,"input",28,29),oa("change",(function(){Kt(n);var e=Wo(55);return ua().changeNumberAttribute("lineWidth",e.value)}))("input",(function(){Kt(n);var e=Wo(55);return ua().changeNumberAttribute("lineWidth",e.value)})),Ko(),Ko(),Ko(),Zo(56,"div",19),Zo(57,"label",30),Na(58),Ko(),Zo(59,"div",21),Zo(60,"input",31,32),oa("change",(function(){Kt(n);var e=Wo(61);return ua().changeNumberAttribute("axisLineWidth",e.value)}))("input",(function(){Kt(n);var e=Wo(61);return ua().changeNumberAttribute("axisLineWidth",e.value)})),Ko(),Ko(),Ko(),Ko(),Zo(62,"div",2),Zo(63,"label",33),Na(64,"Line style"),Ko(),Zo(65,"select",34,35),oa("change",(function(){Kt(n);var e=Wo(66);return ua().changeAttribute("lineStyle",e.value)})),Zo(67,"option",36),Na(68,"Solid"),Ko(),Zo(69,"option",37),Na(70,"Short Dash"),Ko(),Zo(71,"option",38),Na(72,"Medium Dash"),Ko(),Zo(73,"option",39),Na(74,"Long Dash"),Ko(),Zo(75,"option",40),Na(76,"Dotted"),Ko(),Ko(),Ko(),Zo(77,"div",41),Zo(78,"label",42),Zo(79,"input",43,44),oa("change",(function(){Kt(n);var e=Wo(80);return ua().changeAttribute("showLegendBox",e.checked)}))("input",(function(){Kt(n);var e=Wo(80);return ua().changeAttribute("showLegendBox",e.checked)})),Ko(),Na(81," Display legend background "),Ko(),Ko(),Ko(),Zo(82,"fieldset"),Zo(83,"legend"),Na(84,"Project"),Ko(),Zo(85,"app-range-slider",45),oa("ngModelChange",(function(e){return Kt(n),ua().setProjectAttribute("pointsPerPlot",e)})),qo(86,oA,1,0,"ng-template",46),Ko(),qo(87,aA,5,1,"div",47),Zo(88,"div",41),Zo(89,"label",42),Zo(90,"input",48,49),oa("change",(function(){Kt(n);var e=Wo(91);return ua().setProjectAttribute("customRanges",e.checked)})),Ko(),Na(92," Custom plot ranges "),Ko(),Ko(),Zo(93,"div",50),Zo(94,"h4"),Na(95),Ko(),Zo(96,"div",51),Zo(97,"div",52),Zo(98,"label",53),Na(99,"Minimum"),Ko(),Zo(100,"div",21),qo(101,sA,4,7,"input",54),Ko(),Ko(),Zo(102,"div",52),Zo(103,"label",55),Na(104,"Maximum"),Ko(),Zo(105,"div",21),qo(106,uA,4,7,"input",56),Ko(),Ko(),Ko(),Zo(107,"h4"),Na(108),Ko(),Zo(109,"div",51),Zo(110,"div",52),Zo(111,"label",57),Na(112,"X minimum"),Ko(),Zo(113,"div",21),qo(114,lA,4,7,"input",54),Ko(),Ko(),Zo(115,"div",52),Zo(116,"label",58),Na(117,"X maximum"),Ko(),Zo(118,"div",21),qo(119,cA,4,7,"input",56),Ko(),Ko(),Ko(),Zo(120,"h4"),Na(121),Ko(),Zo(122,"div",51),Zo(123,"div",52),Zo(124,"label",59),Na(125,"X minimum"),Ko(),Zo(126,"div",21),Zo(127,"input",60,61),oa("change",(function(){Kt(n);var e=Wo(128);return ua().setProjectRange("topRightXRange","min",e.value)}))("input",(function(){Kt(n);var e=Wo(128);return ua().setProjectRange("topRightXRange","min",e.value,!0)})),tu(129,"round"),tu(130,"round"),Ko(),Ko(),Ko(),Zo(131,"div",52),Zo(132,"label",62),Na(133,"X maximum"),Ko(),Zo(134,"div",21),Zo(135,"input",63,64),oa("change",(function(){Kt(n);var e=Wo(136);return ua().setProjectRange("topRightXRange","max",e.value)}))("input",(function(){Kt(n);var e=Wo(136);return ua().setProjectRange("topRightXRange","max",e.value,!0)})),tu(137,"round"),tu(138,"round"),Ko(),Ko(),Ko(),Ko(),Zo(139,"h4"),Na(140),Ko(),Zo(141,"div",18),Zo(142,"div",52),Zo(143,"label",65),Na(144,"X minimum"),Ko(),Zo(145,"div",21),Zo(146,"input",60,66),oa("change",(function(){Kt(n);var e=Wo(147);return ua().setProjectRange("bottomXRange","min",e.value)}))("input",(function(){Kt(n);var e=Wo(147);return ua().setProjectRange("bottomXRange","min",e.value,!0)})),tu(148,"round"),tu(149,"round"),Ko(),Ko(),Ko(),Zo(150,"div",52),Zo(151,"label",67),Na(152,"X maximum"),Ko(),Zo(153,"div",21),Zo(154,"input",63,68),oa("change",(function(){Kt(n);var e=Wo(155);return ua().setProjectRange("bottomXRange","max",e.value)}))("input",(function(){Kt(n);var e=Wo(155);return ua().setProjectRange("bottomXRange","max",e.value,!0)})),tu(156,"round"),tu(157,"round"),Ko(),Ko(),Ko(),Ko(),Ko(),Ko(),Zo(158,"button",69),oa("click",(function(){return Kt(n),ua().doReset()})),Na(159," Reset all settings "),Ko(),Ko()}if(2&e){var r=ua();Nr(7),Qo("value",r.plotOptions.fontFamily),Nr(17),Qo("value",r.plotOptions.paletteTheme),Nr(15),La("Font size: ",r.plotOptions.fontSize,""),Nr(2),Qo("value",r.plotOptions.fontSize),Nr(4),La("Axis font size: ",r.plotOptions.axisFontSize,""),Nr(2),Qo("value",r.plotOptions.axisFontSize),Nr(5),La("Line width: ",r.plotOptions.lineWidth,""),Nr(2),Qo("value",r.plotOptions.lineWidth),Nr(4),La("Axis line width: ",r.plotOptions.axisLineWidth,""),Nr(2),Qo("value",r.plotOptions.axisLineWidth),Nr(5),Qo("value",r.plotOptions.lineStyle),Nr(14),Qo("checked",r.plotOptions.showLegendBox),Nr(6),Qo("min",50)("max",200)("hard-min",50)("hard-max",200)("step",1)("ngModel",r.pointsPerPlot),Nr(2),Qo("ngIf",r.fixedPSpace!==r.FixedPSpace.NA),Nr(3),Qo("checked",r.customRanges),Nr(3),Ca("disabled",!r.customRanges),Nr(2),Fa(r.topYRange.description),Nr(6),Qo("ngIf",r.topYRange),Nr(5),Qo("ngIf",r.topYRange),Nr(2),Fa(r.topLeftXRange.description),Nr(6),Qo("ngIf",r.topLeftXRange),Nr(5),Qo("ngIf",r.topLeftXRange),Nr(2),Fa(r.topRightXRange.description),Nr(6),Qo("disabled",!r.customRanges)("max",nu(129,42,r.topRightXRange.max-1))("value",nu(130,44,r.topRightXRange.min)),Nr(8),Qo("disabled",!r.customRanges)("min",nu(137,46,r.topRightXRange.min-1))("value",nu(138,48,r.topRightXRange.max)),Nr(5),Fa(r.bottomXRange.description),Nr(6),Qo("disabled",!r.customRanges)("max",nu(148,50,r.bottomXRange.max-1))("value",nu(149,52,r.bottomXRange.min)),Nr(8),Qo("disabled",!r.customRanges)("min",nu(156,54,r.bottomXRange.min+1))("value",nu(157,56,r.bottomXRange.max))}}var fA,dA=function(e){return e.pointsPerPlot="pointsPerPlot",e.fixedPSpace="fixedPSpace",e.customRanges="customRanges",e.topYRange="topYRange",e.topLeftXRange="topLeftXRange",e.topRightXRange="topRightXRange",e.bottomXRange="bottomXRange",e}({}),pA=function(e){return e.min="min",e.max="max",e}({}),vA=((fA=function(){function e(t){_classCallCheck(this,e),this.plotOptions=t,this.optionChanged=new au,this.projectChanged=new au,this.reset=new au,this.FixedPSpace=Gw,this.projectChangedDelay=new E,this.projectChangedImmediate=new E}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.rangeSub=$(this.projectChangedDelay.pipe(jR(400)),this.projectChangedImmediate).subscribe((function(t){switch(t){case dA.pointsPerPlot:e.project.setPointsPerPlot(e.pointsPerPlot);break;case dA.fixedPSpace:e.project.setFixedPSpace(e.fixedPSpace);break;case dA.customRanges:e.project.setCustomRanges(e.customRanges);break;case dA.topYRange:e.project.setTopYRange(e.topYRange);break;case dA.topLeftXRange:e.project.setTopLeftXRange(e.topLeftXRange);break;case dA.topRightXRange:e.project.setTopRightXRange(e.topRightXRange);break;case dA.bottomXRange:e.project.setBottomXRange(e.bottomXRange)}e.project.updatePlotData().subscribe((function(){e.projectChanged.emit()}))}))}},{key:"ngOnChanges",value:function(e){"project"in e&&(this.project?(this.pointsPerPlot=this.project.getPointsPerPlot(),this.fixedPSpace=this.project.getFixedPSpace(),this.customRanges=this.project.getCustomRanges(),this.getRanges()):(this.pointsPerPlot=void 0,this.customRanges=void 0,this.topYRange=void 0,this.topLeftXRange=void 0,this.topRightXRange=void 0,this.bottomXRange=void 0))}},{key:"doReset",value:function(){var e=this;this.plotOptions.reset(),this.project.resetRanges(),this.getRanges(),this.project.updatePlotData().subscribe((function(){e.reset.emit()}))}},{key:"changeAttribute",value:function(e,t){this.plotOptions[e]!==t&&(this.plotOptions[e]=t,this.optionChanged.emit())}},{key:"changeNumberAttribute",value:function(e,t){var n=parseFloat(t);isNaN(n)||this.changeAttribute(e,n)}},{key:"setProjectAttribute",value:function(e,t){switch(e){case dA.pointsPerPlot:this.pointsPerPlot=t;break;case dA.fixedPSpace:this.fixedPSpace=t?Gw.Fixed:Gw.NotFixed;break;case dA.customRanges:this.customRanges=t}this.projectChangedImmediate.next(e)}},{key:"setProjectRange",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=parseFloat(n);if(!isNaN(i)){var o,a=e,s=t;switch(a){case dA.topYRange:o=this.topYRange;break;case dA.topLeftXRange:o=this.topLeftXRange;break;case dA.topRightXRange:o=this.topRightXRange;break;case dA.bottomXRange:o=this.bottomXRange}s==pA.min?o.min=i:s==pA.max&&(o.max=i),r?this.projectChangedDelay.next(a):this.projectChangedImmediate.next(a)}}},{key:"getRanges",value:function(){this.topYRange=this.project.getTopYRange(),this.topLeftXRange=this.project.getTopLeftXRange(),this.topRightXRange=this.project.getTopRightXRange(),this.bottomXRange=this.project.getBottomXRange()}}]),e}()).\u0275fac=function(e){return new(e||fA)(Go(iO))},fA.\u0275cmp=gt({type:fA,selectors:[["app-plot-options"]],inputs:{project:"project"},outputs:{optionChanged:"optionChanged",projectChanged:"projectChanged",reset:"reset"},features:[Qa],decls:1,vars:1,consts:[["class","content",4,"ngIf"],[1,"content"],[1,"form-group"],["for","plot-font-family"],["id","plot-font-family",1,"form-control",3,"value","change"],["fontFamily",""],["value",""],["value","serif"],["value","sans"],["value","monospace"],["for","plot-palette-theme"],["id","plot-palette-theme",1,"form-control",3,"value","change"],["paletteTheme",""],["value","typical"],["value","plasma"],["value","viridis"],["value","magma"],["value","pattern"],[1,"row"],[1,"col-sm-6"],["for","plot-font-size"],[1,"input-group"],["id","plot-font-size","type","range","min","0.1","max","2","step","0.1",1,"form-control",3,"value","change","input"],["fontSize",""],["for","plot-axis-font-size"],["id","plot-axis-font-size","type","range","min","0.1","max","2","step","0.1",1,"form-control",3,"value","change","input"],["axisFontSize",""],["for","plot-line-width"],["id","plot-line-width","type","range","min","0.1","max","2","step","0.1",1,"form-control",3,"value","change","input"],["lineWidth",""],["for","plot-axis-line-width"],["id","plot-axis-line-width","type","range","min","0.1","max","2","step","0.1",1,"form-control",3,"value","change","input"],["axisLineWidth",""],["for","plot-line-style"],["id","plot-line-style",1,"form-control",3,"value","change"],["lineStyle",""],["value","solid"],["value","short-dash"],["value","medium-dash"],["value","long-dash"],["value","dot"],[1,"form-check"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"checked","change","input"],["showLegendBox",""],["name","projectPointsPerPlot","label","Points per plot",3,"min","max","hard-min","hard-max","step","ngModel","ngModelChange"],["rsHelp",""],["class","form-check",4,"ngIf"],["type","checkbox",1,"form-check-input",3,"checked","change"],["customRangesBox",""],[1,"ranges"],[1,"row","mb-4"],[1,"col-sm"],["for","plot-top-y-min"],["class","form-control","type","number","step","0.01",3,"disabled","max","value","change","input",4,"ngIf"],["for","plot-top-y-max"],["class","form-control","type","number","step","0.01",3,"disabled","min","value","change","input",4,"ngIf"],["for","plot-top-left-x-min"],["for","plot-top-left-x-max"],["for","plot-top-right-x-min"],["type","number","step","0.01",1,"form-control",3,"disabled","max","value","change","input"],["topRightXRangeMin",""],["for","plot-top-right-x-max"],["type","number","step","0.01",1,"form-control",3,"disabled","min","value","change","input"],["topRightXRangeMax",""],["for","plot-bottom-x-min"],["bottomXRangeMin",""],["for","plot-bottom-x-max"],["bottomXRangeMax",""],["type","button",1,"btn","btn-primary",3,"click"],["fixedPSpaceBox",""],["topYRangeMin",""],["topYRangeMax",""],["topLeftXRangeMin",""],["topLeftXRangeMax",""]],template:function(e,t){1&e&&qo(0,hA,160,58,"div",0),2&e&&Qo("ngIf",t.plotOptions&&t.project)},directives:[Nc,P_,j_,rA,Ky,db,nA],pipes:[iA],styles:["fieldset[_ngcontent-%COMP%]{border:1px solid #bbb;border-radius:5px;padding:10px;margin:10px}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{display:table;width:auto}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-size:inherit;font-weight:700}h4[_ngcontent-%COMP%]{border-bottom:1px solid #bbb;margin:1em 0;padding-bottom:.2em}div.disabled[_ngcontent-%COMP%]{opacity:.5}.form-group[_ngcontent-%COMP%]{padding:0 5px}"]}),fA),gA=["plotOptionsDialog"],mA=["helpDialog"],yA=["outputPane"];function _A(e,t){if(1&e&&(Zo(0,"li",9),Zo(1,"a",26),Na(2),Ko(),Ko()),2&e){var n=t.index,r=ua();Nr(1),Qo("routerLink",r.projectLink(n)),Nr(1),Fa(r.tabTitle(n))}}function bA(e,t){if(1&e){var n=na();Zo(0,"div",27),Zo(1,"button",28),oa("click",(function(){return Kt(n),ua().togglePlotOptions()})),Jo(2,"i",29),Ko(),Zo(3,"button",30),oa("click",(function(){return Kt(n),ua().exportPlots()})),Jo(4,"i",31),Ko(),Zo(5,"button",32),oa("click",(function(){return Kt(n),ua().toggleHoverBox()})),Jo(6,"i",33),Ko(),Ko(),Zo(7,"app-output-pane",34,35),oa("modelChanged",(function(){return Kt(n),ua().redrawPlots()})),Ko()}if(2&e){var r=ua();Nr(6),Ca("fa-cubes",r.hoverBoxEnabled)("fa-cube",!r.hoverBoxEnabled),Nr(1),Qo("project",r.selectedProject)("hover-disabled",!r.hoverBoxEnabled)("disable-drag-ci-target",null==r.selectedProject?null:r.selectedProject.isCITargetDraggable())("disable-drag-ci-bounds",null==r.selectedProject?null:r.selectedProject.isCIBoundsDraggable())}}var kA,wA,CA=function(){return{exact:!0}},xA=((wA=function(){function e(t,n,r,i){_classCallCheck(this,e),this.router=t,this.route=n,this.projectService=r,this.resizeService=i,this.commitHash=PR.substr(0,7),this.buildTimestamp="2020-04-06T17:35:05-05:00",this.helpTitles={overview:"PS Overview","t-test-start":"PS Start Tab: T-Test","z-test-start":"PS Start Tab: Z-Test","dichot-start":"PS Start Tab: Dichotomous"},this.helpTopic="overview",this.showOutputPane=!1,this.hoverBoxEnabled=!0,this.blockSelection=!1,this.projects=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.data.subscribe((function(t){e.projectType=t.type,e.projects=e.projectService.getProjects(e.projectType).slice()})),this.route.url.subscribe((function(t){e.urlRoot=t.map((function(e,t){return 0==t?"/".concat(e.path):e.path}))})),this.resizeService.onResize.subscribe((function(){e.outputPane&&e.outputPane.resize()}))}},{key:"toggleHelp",value:function(e){if("start"==e)switch(this.projectType){case Lw.TTestPaired:case Lw.TTestIndependent:e="t-test-start";break;case Lw.ZTest:e="z-test-start";break;case Lw.Dichot:e="dichot-start"}this.helpDialog.isOpen()&&this.helpTopic==e?this.helpDialog.close():(this.helpTopic=e,this.helpDialog.open())}},{key:"togglePlotOptions",value:function(){this.plotOptionsDialog.toggle()}},{key:"exportPlots",value:function(){this.outputPane.openSaveDialog()}},{key:"toggleHoverBox",value:function(){this.hoverBoxEnabled=!this.hoverBoxEnabled}},{key:"tabTitle",value:function(e){var t="";switch(this.projectType){case Lw.TTestPaired:t+="Paired t-test ";break;case Lw.TTestIndependent:t+="Ind. t-test ";break;case Lw.ZTest:t+="z-test ";break;case Lw.Dichot:t+="Dichot "}return t+=" #"+(e+1).toString()}},{key:"startLink",value:function(){return this.urlRoot}},{key:"projectLink",value:function(e){return this.urlRoot.concat("".concat(e+1))}},{key:"onActivate",value:function(e){var t=this;if(e instanceof Vw){var n=e;this.calcSub=n.calculate.subscribe((function(e){t.projectService.addProject(t.projectType,e),t.projects.push(e),t.selectedProject=e,t.router.navigate([t.projects.length],{relativeTo:t.route})})),this.helpSub=n.toggleHelp.subscribe((function(){t.toggleHelp("start")})),this.showOutputPane=!1}else if(e instanceof zw){var r=e;this.switchedSub=r.projectSwitched.subscribe((function(e){t.selectedProject=e})),this.changedSub=r.projectChanged.subscribe((function(){t.redrawPlots()})),this.showOutputPane=!0}}},{key:"onDeactivate",value:function(){this.calcSub&&(this.calcSub.unsubscribe(),this.calcSub=void 0),this.helpSub&&(this.helpSub.unsubscribe(),this.helpSub=void 0),this.switchedSub&&(this.switchedSub.unsubscribe(),this.switchedSub=void 0),this.changedSub&&(this.changedSub.unsubscribe(),this.changedSub=void 0)}},{key:"redrawPlots",value:function(){this.outputPane.redrawPlots()}},{key:"onMouseUp",value:function(){this.plotOptionsDialog.stopDragging()}},{key:"onChildDragStarted",value:function(){this.blockSelection=!0}},{key:"onChildDragEnded",value:function(){this.blockSelection=!1}}]),e}()).\u0275fac=function(e){return new(e||wA)(Go(pm),Go(ig),Go(Nw),Go(Fw))},wA.\u0275cmp=gt({type:wA,selectors:[["app-main"]],viewQuery:function(e,t){var n;1&e&&(yu(gA,!0),yu(mA,!0),_u(yA,!0)),2&e&&(mu(n=xu())&&(t.plotOptionsDialog=n.first),mu(n=xu())&&(t.helpDialog=n.first),mu(n=xu())&&(t.outputPane=n.first))},decls:30,vars:14,consts:[[1,"d-flex","flex-column","h-100",3,"mouseup"],[1,"row","d-flex",2,"flex","1 0 auto"],[1,"col-4","d-flex","flex-column","justify-content-between"],["id","sidebar",1,"d-flex","flex-row",2,"flex","auto"],[1,"overview"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-question-circle"],[1,"tabset"],[1,"nav","nav-tabs"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink","routerLinkActiveOptions"],["class","nav-item",4,"ngFor","ngForOf"],[1,"tab-content"],[1,"tab-pane","active"],[3,"activate","deactivate"],["id","footer",1,"d-flex","flex-column"],["src","assets/biostat.jpg"],[1,"build"],[1,"col-8"],[3,"ngIf"],["start-x-offset","33%","start-y-offset","55px",3,"title","drag-start","drag-end"],["helpDialog",""],[3,"topic"],["title","Plot options","start-x-offset","5%","start-y-offset","55px",3,"drag-start","drag-end"],["plotOptionsDialog",""],[3,"project","optionChanged","projectChanged","reset"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"plot-buttons"],["title","Toggle plot options",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-cog"],["title","Export plots",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-save"],["title","Toggle hover box",1,"btn","btn-secondary",3,"click"],[1,"fa"],[3,"project","hover-disabled","disable-drag-ci-target","disable-drag-ci-bounds","modelChanged"],["outputPane",""]],template:function(e,t){1&e&&(Zo(0,"div",0),oa("mouseup",(function(){return t.onMouseUp()})),Zo(1,"div",1),Zo(2,"div",2),Zo(3,"div",3),Zo(4,"div",4),Zo(5,"button",5),oa("click",(function(){return t.toggleHelp("overview")})),Na(6," Overview "),Jo(7,"i",6),Ko(),Ko(),Zo(8,"div",7),Zo(9,"ul",8),Zo(10,"li",9),Zo(11,"a",10),Na(12,"Start"),Ko(),Ko(),qo(13,_A,3,2,"li",11),Ko(),Zo(14,"div",12),Zo(15,"div",13),Zo(16,"router-outlet",14),oa("activate",(function(e){return t.onActivate(e)}))("deactivate",(function(){return t.onDeactivate()})),Ko(),Ko(),Ko(),Ko(),Ko(),Zo(17,"div",15),Jo(18,"img",16),Zo(19,"div",17),Na(20),tu(21,"date"),Ko(),Ko(),Ko(),Zo(22,"div",18),qo(23,bA,9,8,"ng-template",19),Ko(),Ko(),Zo(24,"app-draggable-dialog",20,21),oa("drag-start",(function(){return t.onChildDragStarted()}))("drag-end",(function(){return t.onChildDragEnded()})),Jo(26,"app-help",22),Ko(),Zo(27,"app-draggable-dialog",23,24),oa("drag-start",(function(){return t.onChildDragStarted()}))("drag-end",(function(){return t.onChildDragEnded()})),Zo(29,"app-plot-options",25),oa("optionChanged",(function(){return t.redrawPlots()}))("projectChanged",(function(){return t.redrawPlots()}))("reset",(function(){return t.redrawPlots()})),Ko(),Ko(),Ko()),2&e&&(Ca("block-selection",t.blockSelection),Nr(11),Qo("routerLink",t.startLink())("routerLinkActiveOptions",Zs(13,CA)),Nr(2),Qo("ngForOf",t.projects),Nr(7),Va(" Build version: ",t.commitHash," (",nu(21,11,t.buildTimestamp),") "),Nr(3),Qo("ngIf",t.showOutputPane),Nr(1),Qo("title",t.helpTitles[t.helpTopic]),Nr(2),Qo("topic",t.helpTopic),Nr(3),Qo("project",t.selectedProject))},directives:[gm,wm,jc,Sm,Nc,Ww,IR,vA,MR],pipes:[Qc],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}#sidebar[_ngcontent-%COMP%]{background-color:#e5e5e5;border:1px solid #ccc;border-radius:5px;padding:10px;position:relative}#sidebar[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:auto}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > ul.nav[_ngcontent-%COMP%]{flex:0 0 auto;border-bottom:1px solid #888}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > ul.nav[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{border-color:#bbb #bbb #888;background-color:#eee}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > ul.nav[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]:hover{border-color:#888;background-color:#f5f5f5;color:#0275d8}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > ul.nav[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link.active[_ngcontent-%COMP%]{border-color:#888 #888 #fff;background-color:#fff}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > ul.nav[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link.active[_ngcontent-%COMP%]:hover{color:#464a4c}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > .tab-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 0 auto}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > .tab-content[_ngcontent-%COMP%] > .tab-pane[_ngcontent-%COMP%]{flex:1 0 auto;padding:10px;border:1px solid #888;border-top:0;overflow:auto;max-height:70vh}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > .tab-content[_ngcontent-%COMP%] > .tab-pane.active[_ngcontent-%COMP%]{background:#fff}#footer[_ngcontent-%COMP%]{margin:20px 0;padding:20px;text-align:center}#footer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:auto;display:block}#footer[_ngcontent-%COMP%]   div.build[_ngcontent-%COMP%]{margin-top:5px;font-size:smaller}.block-selection[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.plot-buttons[_ngcontent-%COMP%]{position:absolute;top:0;left:0;font-size:large;z-index:99;display:flex;flex:0 0 auto;flex-direction:column}.plot-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.4rem 0;margin:.2rem 0;width:2.4rem}"]}),wA),SA=((kA=function(){function e(t){_classCallCheck(this,e),this.http=t,this.apiUrl="".concat(Ml.apiUrl,"/ttests")}return _createClass(e,[{key:"calculate",value:function(e){var t="".concat(this.apiUrl,"/calc"),n=e.attribs(),r={headers:new Ym({"Content-Type":"application/json"})};return this.http.post(t,n,r).pipe(Mp(this.handleError),z((function(e){if("object"!=typeof e||null===e)return e;for(var t in e)"NaN"===e[t]&&(e[t]=void 0);return e})))}},{key:"plotData",value:function(e,t,n){var r="".concat(this.apiUrl,"/plotData"),i={models:e.map((function(e){return e.attribs()})),ranges:t};"number"==typeof n&&(i.points=n);var o={headers:new Ym({"Content-Type":"application/json"})};return this.http.post(r,i,o).pipe(Mp(this.handleError))}},{key:"handleError",value:function(e,t){return e.error instanceof ErrorEvent?console.error("An error occurred:",e.error.message):console.error("Backend returned code ".concat(e.status,", ")+"body was:",e.error),Rb("Something bad happened; please try again later.")}}]),e}()).\u0275fac=function(e){return new(e||kA)(Ke(my))},kA.\u0275prov=pe({token:kA,factory:kA.\u0275fac}),kA),TA=function(){function e(t,n){_classCallCheck(this,e),this.min=t,this.max=n}return _createClass(e,[{key:"combine",value:function(e){e.min<this.min&&(this.min=e.min),e.max>this.max&&(this.max=e.max)}},{key:"toArray",value:function(){return[this.min,this.max]}},{key:"clone",value:function(){return new e(this.min,this.max)}}]),e}(),MA=function(e){return e.Paired="paired",e.Independent="ind",e.ZTest="ztest",e}({}),PA=function(){function e(t){_classCallCheck(this,e),this.ciMode=!1,this.deltaMode=!1,t&&(this.kind=t.kind,this.output=t.output,this.alpha=t.alpha,this.sigma=t.sigma,this.delta=t.delta,this.power=t.power,this.n=t.n,this.m=t.m,this.ci=t.ci,this.nVsPower=t.nVsPower,this.nVsDelta=t.nVsDelta,this.powerVsN=t.powerVsN,this.powerVsDelta=t.powerVsDelta,this.deltaVsPower=t.deltaVsPower,this.deltaVsN=t.deltaVsN,this.sampDist=t.sampDist)}return _createClass(e,[{key:"precisionRange",value:function(){return new TA(this.delta-this.ci/2,this.delta+this.ci/2)}},{key:"interpretation",value:function(){var e=this.alpha.toFixed(2),t=this.sigma.toFixed(2),n=this.delta.toFixed(2),r=Math.ceil(this.n).toString(),i=this.power.toFixed(2),o="",a="";this.m&&(o=this.m.toFixed(2),a=Math.ceil(this.m*this.n).toString());var s="";return this.kind===MA.Paired?"n"==this.output||"nByCI"==this.output?s="\n          We are planning a study of a continuous response variable from matched\n          pairs of study subjects. Prior data indicate that the difference in the\n          response of matched pairs is normally distributed with standard\n          deviation ".concat(t,". If the true difference in the mean response of\n          matched pairs is ").concat(n,", we will need to study ").concat(r," pairs of subjects\n          to be able to reject the null hypothesis that this response difference\n          is zero with probability (power) ").concat(i,". The Type I error probability\n          associated with this test of this null hypothesis is ").concat(e,".\n        "):"power"==this.output?s="\n          We are planning a study with ".concat(r," pairs of subjects. Prior data\n          indicate that the difference in the response of matched pairs is\n          normally distributed with standard deviation ").concat(t,". If the true\n          difference in the mean response of matched pairs is ").concat(n,", we will\n          be able to reject the null hypothesis that this response difference is\n          zero with probability (power) ").concat(i,". The Type I error probability\n          associated with this test of this null hypothesis is ").concat(e,".\n        "):"delta"==this.output&&(s="\n          We are planning a study with ".concat(r," pairs of subjects. Prior data\n          indicate that the difference in the response of matched pairs is\n          normally distributed with standard deviation ").concat(t,". We will be able\n          to detect a true difference in the mean response of matched pairs of\n          -").concat(n," or ").concat(n," with probability (power) ").concat(i,". The Type I\n          error probability associated with this test of the null hypothesis that\n          this response difference is zero is ").concat(e,".\n        ")):this.kind===MA.Independent&&("n"==this.output||"nByCI"==this.output?s="\n          We are planning a study of a continuous response variable from\n          independent control and experimental subjects with ".concat(o," control(s)\n          per experimental subject.  In a previous study the response within\n          each subject group was normally distributed with standard deviation\n          ").concat(t,".  If the true difference in the experimental and control\n          means is ").concat(n,", we will need to study ").concat(r," experimental subjects\n          and ").concat(a," control subjects to be able to reject the null hypothesis\n          that the population means of the experimental and control groups are\n          equal with probability (power) ").concat(i,".   The Type I error\n          probability associated with this test of this null hypothesis is\n          ").concat(e,".\n        "):"power"==this.output?s="\n          We are planning a study with ".concat(r," experimental subjects and ").concat(a,"\n          control subjects.  In a previous study the response within each\n          subject group was normally distributed with standard deviation\n          ").concat(t,".  If the true difference in the experimental and control\n          means is ").concat(n,", we will be able to reject the null hypothesis that\n          the population means of the experimental and control groups are equal\n          with probability (power) ").concat(i,".   The Type I error probability\n          associated with this test of this null hypothesis is ").concat(e,".\n        "):"delta"==this.output&&(s="\n          We are planning a study with ".concat(r," experimental subjects and ").concat(a,"\n          control subjects.  In a previous study the response within each\n          subject group was normally distributed with standard deviation\n          ").concat(t,".  We will be able to detect a true difference in the mean\n          response of experimental and control subjects of -").concat(n," or\n          ").concat(n," with probability (power) ").concat(i,".   The Type I error\n          probability associated with this test of the null hypothesis that the\n          population means of the experimental and control groups are equal is\n          ").concat(e,".\n        "))),s.replace(/\s+/g," ").trim()}},{key:"attribs",value:function(){return{kind:this.kind,output:this.output,alpha:this.alpha,sigma:this.sigma,delta:this.delta,power:this.power,n:this.n,m:this.m,ci:this.ci,ciMode:this.ciMode,deltaMode:this.deltaMode}}},{key:"shallowClone",value:function(){return Object.assign(new e,this)}}]),e}();function EA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return"function"==typeof r&&t.pop(),Q(t,void 0).lift(new OA(r))}var OA=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new RA(e,this.resultSelector))}}]),e}(),RA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.create(null);return _classCallCheck(this,n),(i=t.call(this,e)).iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:null,i.values=o,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.iterators;u(e)?t.push(new IA(e)):t.push("function"==typeof e[j]?new AA(e[j]()):new jA(this.destination,this,e))}},{key:"_complete",value:function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe(r,n)):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){var i=e[r];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,a=[],s=0;s<t;s++){var u=e[s],l=u.next();if(u.hasCompleted()&&(o=!0),l.done)return void n.complete();a.push(l.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),o&&n.complete()}},{key:"_tryresultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(g),AA=function(){function e(t){_classCallCheck(this,e),this.iterator=t,this.nextResult=t.next()}return _createClass(e,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e}},{key:"hasCompleted",value:function(){var e=this.nextResult;return e&&e.done}}]),e}(),IA=function(){function e(t){_classCallCheck(this,e),this.array=t,this.index=0,this.length=0,this.length=t.length}return _createClass(e,[{key:j,value:function(){return this}},{key:"next",value:function(e){var t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),e}(),jA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).parent=r,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return _createClass(n,[{key:j,value:function(){return this}},{key:"next",value:function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){this.buffer.push(t),this.parent.checkIterators()}},{key:"subscribe",value:function(e,t){return L(this,this.observable,this,t)}}]),n}(V),DA=function(e){return e[e.X=0]="X",e[e.Y=1]="Y",e}({}),NA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).project=e,r}return _createClass(n,[{key:"getXParam",value:function(e){return this.getParam(e,DA.X)}},{key:"getYParam",value:function(e){return this.getParam(e,DA.Y)}},{key:"getPlotData",value:function(e){var t,n=this.getDataKey(e);return n&&(t=this.project.models.map((function(e){return e[n]}))),t}},{key:"getSelectedIndex",value:function(){return this.project.selectedIndex}},{key:"getNumModels",value:function(){return this.project.models.length}},{key:"getModelNames",value:function(){return this.project.models.map((function(e){return e.name}))}},{key:"updateModel",value:function(e,t,n){return this.project.updateModel(e,t,n)}},{key:"getParam",value:function(e,t){var n,r=this.project.getModel(this.project.selectedIndex);return"n"==r.output||"nByCI"==r.output?t===DA.X?"top-left"==e||"top-left-export"==e?n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"}:"top-right"!=e&&"top-right-export"!=e||(n={name:"delta",range:this.project.deltaRange,target:r.delta,title:"Detectable Alternative",sym:"\u03b4"}):t===DA.Y&&(n={name:"n",range:this.project.nRange,target:r.n,title:"Sample Size",sym:"n"}):"power"==r.output?t===DA.X?"top-left"==e||"top-left-export"==e?n={name:"n",range:this.project.nRange,target:r.n,title:"Sample Size",sym:"n"}:"top-right"!=e&&"top-right-export"!=e||(n={name:"delta",range:this.project.deltaRange,target:r.delta,title:"Detectable Alternative",sym:"\u03b4"}):t===DA.Y&&(n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"}):"delta"==r.output&&(t===DA.X?"top-left"==e||"top-left-export"==e?n={name:"n",range:this.project.nRange,target:r.n,title:"Sample Size",sym:"n"}:"top-right"!=e&&"top-right-export"!=e||(n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"}):t===DA.Y&&(n={name:"delta",range:this.project.deltaRange,target:r.delta,title:"Detectable Alternative",sym:"\u03b4"})),n}},{key:"getDataKey",value:function(e){var t,n=this.project.getModel(this.project.selectedIndex);return"n"==n.output||"nByCI"==n.output?"top-left"==e||"top-left-export"==e?t="nVsPower":"top-right"!=e&&"top-right-export"!=e||(t="nVsDelta"):"power"==n.output?"top-left"==e||"top-left-export"==e?t="powerVsN":"top-right"!=e&&"top-right-export"!=e||(t="powerVsDelta"):"delta"==n.output&&("top-left"==e||"top-left-export"==e?t="deltaVsN":"top-right"!=e&&"top-right-export"!=e||(t="deltaVsPower")),t}}]),n}(lO),FA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).project=e,r}return _createClass(n,[{key:"getXParam",value:function(){return{name:"delta",range:this.project.pSpaceRange,title:"Detectable Alternative",sym:"\u03b4"}}},{key:"getGroups",value:function(){return this.project.models.map((function(e){var t=e.precisionRange();return{ci:{lower:t.min,upper:t.max},target:e.delta,sampDist:e.sampDist}}))}},{key:"getSelectedIndex",value:function(){return this.project.selectedIndex}},{key:"updateTargetValue",value:function(e){return this.project.updateModel(this.project.selectedIndex,"delta",e)}},{key:"updateCIValue",value:function(e){return this.project.updateModel(this.project.selectedIndex,"ci",e.upper-e.lower)}},{key:"setIntermediateCIValue",value:function(e){}}]),n}(SO),LA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).ttestService=e,r.models=[],r.selectedIndex=0,r.changeHistory=[],r}return _createClass(n,[{key:"getOutput",value:function(){return this.models.length>0?this.models[0].output:""}},{key:"updatePlotData",value:function(){var e=this;return this.updatingPlotData.emit(),this.ttestService.plotData(this.models,{nRange:this.nRange,powerRange:this.powerRange,deltaRange:this.deltaRange,pSpaceRange:this.pSpaceRange},this.pointsPerPlot).pipe(z((function(t){if(void 0===e.pointsPerPlot&&(e.pointsPerPlot=t.points),t.data.forEach((function(t,n){Object.assign(e.models[n],t)})),!e.customRanges){for(var n,r,i,o=e.getOutput(),a=0,s=e.models.length;a<s;a++){var u=e.models[a];switch(o){case"n":case"nByCI":(r=e.makeXRange(u.nVsPower,e.nRange)).description="Power",0==a?e.powerRange=r:e.powerRange.combine(r),(i=e.makeXRange(u.nVsDelta,e.nRange)).description="Detectable Alternative",0==a?e.deltaRange=i:e.deltaRange.combine(i);break;case"power":(n=e.makeXRange(u.powerVsN,e.powerRange)).description="Sample Size",0==a?e.nRange=n:e.nRange.combine(n);break;case"delta":(r=e.makeXRange(u.deltaVsPower,e.deltaRange)).description="Power",0==a?e.powerRange=r:e.powerRange.combine(r),(n=e.makeXRange(u.deltaVsN,e.deltaRange)).description="Sample Size",0==a?e.nRange=n:e.nRange.combine(n)}}e.previousRanges={nRange:e.nRange?e.nRange.clone():void 0,powerRange:e.powerRange?e.powerRange.clone():void 0,deltaRange:e.deltaRange?e.deltaRange.clone():void 0,pSpaceRange:e.pSpaceRange?e.pSpaceRange.clone():void 0}}})))}},{key:"resetRanges",value:function(){this.previousRanges&&Object.assign(this,this.previousRanges)}},{key:"addModel",value:function(e){var t=this;return this.ttestService.calculate(e).pipe(W((function(e){var n=new PA(e);return n.name=t.getModelName(t.models.length),t.models.push(n),t.customRanges||t.calculateRanges(),t.changeHistory.push({type:"add",index:t.models.length-1,params:n.attribs()}),t.updatePlotData()})))}},{key:"updateModel",value:function(e,t,n){var r=this,i=this.models[e],o=_defineProperty({},t,n);"output"!==t&&("nByCI"===i.output?"delta"===t?o.deltaMode=!0:"power"===t&&(o.deltaMode=!1):"n"!==this.models[0].output&&("ci"===t?o.ciMode=!0:"n"===t&&(o.ciMode=!1)));var a=[i];return"output"===t&&(a=this.models,this.customRanges=!1),a.forEach((function(e){Object.assign(e,o)})),EA.apply(void 0,_toConsumableArray(a.map((function(e,t){return r.ttestService.calculate(e).pipe(z((function(t){Object.assign(e,t)})))})))).pipe(W((function(){return r.customRanges||r.calculateRanges(),r.changeHistory.push({type:"change",index:e,key:t,params:i.attribs()}),r.updatePlotData()})))}},{key:"removeModel",value:function(e){return this.models.splice(e,1),this.changeHistory.push({type:"remove",index:e}),this.customRanges||this.calculateRanges(),this.updatePlotData()}},{key:"getModel",value:function(e){return this.models[e]}},{key:"modelCount",value:function(){return this.models.length}},{key:"calculateRanges",value:function(){for(var e,t=[],n=[],r=[],i=[],o=this.getOutput(),a=0,s=this.models.length;a<s;a++){var u=this.models[a];switch(o){case"n":case"nByCI":e=rO([.5*u.n,1.5*u.n],Yw),(0==a||e[0]<t[0])&&(t[0]=e[0]),(0==a||e[1]>t[1])&&(t[1]=e[1]);break;case"power":0==a&&(n=[.01,1]),e=rO([1.5*u.sigma,-1.5*u.sigma],Yw),(0==a||e[0]<r[0])&&(r[0]=e[0]),(0==a||e[1]>r[1])&&(r[1]=e[1]);break;case"delta":e=rO([.5*u.delta,1.5*u.delta],Yw),(0==a||e[0]<r[0])&&(r[0]=e[0]),(0==a||e[1]>r[1])&&(r[1]=e[1])}e=rO([1.5*u.sigma,-1.5*u.sigma],Yw),(0==a||e[0]<i[0])&&(i[0]=e[0]),(0==a||e[1]>i[1])&&(i[1]=e[1]),(e=[u.delta-u.ci/2,u.delta+u.ci/2])[0]<i[0]&&(i[0]=e[0]-Math.abs(.5*e[0])),e[1]>i[1]&&(i[1]=e[1]+Math.abs(.5*e[1]))}t.length>0?(this.nRange=new TA(t[0],t[1]),this.nRange.description="Sample Size"):this.nRange=void 0,n.length>0?(this.powerRange=new TA(n[0],n[1]),this.powerRange.description="Power"):this.powerRange=void 0,r.length>0?(this.deltaRange=new TA(r[0],r[1]),this.deltaRange.description="Detectable Alternative"):this.deltaRange=void 0,i.length>0?(this.pSpaceRange=new TA(i[0],i[1]),this.pSpaceRange.description="Parameter Space"):this.pSpaceRange=void 0}},{key:"getLinePlotHandler",value:function(){return new NA(this)}},{key:"getCIPlotHandler",value:function(){return new FA(this)}},{key:"getSelectedIndex",value:function(){return this.selectedIndex}},{key:"getChangeHistory",value:function(){return this.changeHistory}},{key:"getModelCount",value:function(){return this.models.length}},{key:"getModelInterpretation",value:function(){return this.models[this.selectedIndex].interpretation()}},{key:"getModelOutput",value:function(){return this.models[this.selectedIndex].output}},{key:"getTopYRange",value:function(){switch(this.getOutput()){case"n":case"nByCI":return this.nRange;case"power":return this.powerRange;case"delta":return this.deltaRange}}},{key:"setTopYRange",value:function(e){switch(this.getOutput()){case"n":case"nByCI":this.nRange=e;break;case"power":this.powerRange=e;break;case"delta":this.deltaRange=e}}},{key:"getTopLeftXRange",value:function(){switch(this.getOutput()){case"n":case"nByCI":return this.powerRange;case"power":case"delta":return this.nRange}}},{key:"setTopLeftXRange",value:function(e){switch(this.getOutput()){case"n":case"nByCI":this.powerRange=e;break;case"power":case"delta":this.nRange=e}}},{key:"getTopRightXRange",value:function(){switch(this.getOutput()){case"n":case"nByCI":case"power":return this.deltaRange;case"delta":return this.powerRange}}},{key:"setTopRightXRange",value:function(e){switch(this.getOutput()){case"n":case"nByCI":case"power":this.deltaRange=e;break;case"delta":this.powerRange=e}}},{key:"getBottomXRange",value:function(){return this.pSpaceRange}},{key:"setBottomXRange",value:function(e){this.pSpaceRange=e}},{key:"isCITargetDraggable",value:function(){return"detAlt"===this.getModelOutput()}},{key:"isCIBoundsDraggable",value:function(){return"power"!==this.getModelOutput()}},{key:"describeChanges",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"add"==e.type?t="Added model #".concat(e.index+1,': <span class="code">').concat(this.paramsToString(e.params),"</span>"):"remove"==e.type?t="Removed model #".concat(e.index+1):"change"==e.type&&(t=n?'Changed <span class="code">'.concat(e.key,"</span> in model #").concat(e.index+1,': <span class="code">').concat(this.paramsToString(e.params),"</span>"):"Changed ".concat(e.key," in model #").concat(e.index+1,": ").concat(this.paramsToString(e.params))),t}},{key:"paramsToString",value:function(e){var t=[];for(var n in e)"ciMode"!=n&&"deltaMode"!=n&&t.push("string"==typeof e[n]?'"'.concat(n,'": "').concat(e[n],'"'):'"'.concat(n,'": ').concat(e[n]));return"{ ".concat(t.join(", ")," }")}},{key:"getModelName",value:function(e){switch(e){case 0:return"Primary";case 1:return"Secondary";case 2:return"Tertiary";case 3:return"Quaternary";case 4:return"Quinary";case 5:return"Senary";case 6:return"Septenary";case 7:return"Octonary";case 8:return"Nonary";case 9:return"Denary"}return"Line ".concat(e+1)}},{key:"makeXRange",value:function(e,t){for(var n=0,r=e.length-1,i=0;i<e.length;i++)if("number"==typeof e[i].x&&e[i].y>=t.min){n=i;break}for(var o=e.length-1;o>=0;o--)if("number"==typeof e[o].x&&e[o].y<=t.max){r=o;break}var a=rO([e[n].x,e[r].x],Yw);return new TA(a[0],a[1])}}]),n}(Xw);function VA(e,t){if(1&e){var n=na();Zo(0,"div",24),Zo(1,"label",33),Na(2,"Difference in population means (\u03b4)"),Ko(),Zo(3,"input",34),oa("ngModelChange",(function(e){return Kt(n),ua(2).model.delta=e})),Ko(),Ko()}if(2&e){var r=ua(2);Nr(3),Qo("ngModel",r.model.delta)}}function zA(e,t){if(1&e){var n=na();Zo(0,"div",24),Zo(1,"label",35),Na(2," Power "),Jo(3,"i",36),Ko(),Zo(4,"input",37),oa("ngModelChange",(function(e){return Kt(n),ua(2).model.power=e})),Ko(),Ko()}if(2&e){var r=ua(2),i=Wo(34);Nr(3),Qo("ngbPopover",i),Nr(1),Qo("ngModel",r.model.power)}}function HA(e,t){if(1&e){var n=na();Zo(0,"div",24),Zo(1,"label",38),Na(2," Ratio of control/experimental subjects "),Ko(),Zo(3,"input",39),oa("ngModelChange",(function(e){return Kt(n),ua(2).model.m=e})),Ko(),Ko()}if(2&e){var r=ua(2);Nr(3),Qo("ngModel",r.model.m)}}function UA(e,t){if(1&e){var n=na();Zo(0,"div",24),Zo(1,"label",40),Na(2,"95% confidence interval width"),Ko(),Zo(3,"input",41),oa("ngModelChange",(function(e){return Kt(n),ua(2).model.ci=e})),Ko(),Ko()}if(2&e){var r=ua(2);Nr(3),Qo("ngModel",r.model.ci)}}function BA(e,t){if(1&e){var n=na();Zo(0,"input",49),oa("ngModelChange",(function(e){return Kt(n),ua(3).model.n=e})),Ko()}2&e&&Qo("ngModel",ua(3).model.n)}function qA(e,t){if(1&e){var n=na();Zo(0,"input",50),oa("ngModelChange",(function(e){return Kt(n),ua(3).model.ci=e})),Ko()}2&e&&Qo("ngModel",ua(3).model.ci)}function WA(e,t){if(1&e){var n=na();Zo(0,"div",42),Zo(1,"label",43),Zo(2,"input",44),oa("ngModelChange",(function(e){return Kt(n),ua(2).model.ciMode=e})),Ko(),Na(3," Sample size "),Jo(4,"i",45),Ko(),Zo(5,"label",43),Zo(6,"input",46),oa("ngModelChange",(function(e){return Kt(n),ua(2).model.ciMode=e})),Ko(),Na(7," 95% confidence interval width "),Ko(),Ko(),Zo(8,"div",24),qo(9,BA,1,1,"input",47),qo(10,qA,1,1,"input",48),Ko()}if(2&e){var r=ua(2),i=Wo(36);Nr(2),Qo("ngModel",r.model.ciMode)("value",!1),Nr(2),Qo("ngbPopover",i),Nr(2),Qo("ngModel",r.model.ciMode)("value",!0),Nr(3),Qo("ngIf",!r.model.ciMode),Nr(1),Qo("ngIf",r.model.ciMode)}}function GA(e,t){if(1&e){var n=na();Zo(0,"input",37),oa("ngModelChange",(function(e){return Kt(n),ua(3).model.power=e})),Ko()}2&e&&Qo("ngModel",ua(3).model.power)}function XA(e,t){if(1&e){var n=na();Zo(0,"input",34),oa("ngModelChange",(function(e){return Kt(n),ua(3).model.delta=e})),Ko()}2&e&&Qo("ngModel",ua(3).model.delta)}function YA(e,t){if(1&e){var n=na();Zo(0,"div",42),Zo(1,"label",43),Zo(2,"input",51),oa("ngModelChange",(function(e){return Kt(n),ua(2).model.deltaMode=e})),Ko(),Na(3," Power "),Jo(4,"i",36),Ko(),Zo(5,"label",43),Zo(6,"input",52),oa("ngModelChange",(function(e){return Kt(n),ua(2).model.deltaMode=e})),Ko(),Na(7," Difference in population means (\u03b4) "),Ko(),Ko(),Zo(8,"div",24),qo(9,GA,1,1,"input",53),qo(10,XA,1,1,"input",54),Ko()}if(2&e){var r=ua(2),i=Wo(34);Nr(2),Qo("ngModel",r.model.deltaMode)("value",!1),Nr(2),Qo("ngbPopover",i),Nr(2),Qo("ngModel",r.model.deltaMode)("value",!0),Nr(3),Qo("ngIf",!r.model.deltaMode),Nr(1),Qo("ngIf",r.model.deltaMode)}}function QA(e,t){if(1&e){var n=na();Zo(0,"div"),Zo(1,"div",24),Zo(2,"label",25),Na(3," Type I Error (\u03b1) "),Jo(4,"i",26),Ko(),Zo(5,"input",27),oa("ngModelChange",(function(e){return Kt(n),ua().model.alpha=e})),Ko(),Ko(),Zo(6,"div",24),Zo(7,"label",28),Na(8," Standard deviation (\u03c3) "),Jo(9,"i",29),Ko(),Zo(10,"input",30),oa("ngModelChange",(function(e){return Kt(n),ua().model.sigma=e})),Ko(),Ko(),qo(11,VA,4,1,"div",31),qo(12,zA,5,2,"div",31),qo(13,HA,4,1,"div",31),qo(14,UA,4,1,"div",31),qo(15,WA,11,7,"ng-template",32),qo(16,YA,11,7,"ng-template",32),Ko()}if(2&e){var r=ua(),i=Wo(30),o=Wo(32);Nr(4),Qo("ngbPopover",i),Nr(1),Qo("ngModel",r.model.alpha),Nr(4),Qo("ngbPopover",o),Nr(1),Qo("ngModel",r.model.sigma),Nr(1),Qo("ngIf",r.needDelta()),Nr(1),Qo("ngIf",r.needPower()),Nr(1),Qo("ngIf",r.needM()),Nr(1),Qo("ngIf",r.needCI()),Nr(1),Qo("ngIf",r.needNOrCI()),Nr(1),Qo("ngIf",r.needPowerOrDelta())}}function $A(e,t){if(1&e&&(Zo(0,"div",55),Zo(1,"button",56),Na(2," Calculate "),Ko(),Ko()),2&e){ua();var n=Wo(2);Nr(1),Qo("disabled",!n.form.valid)}}function ZA(e,t){1&e&&Na(0," The Type I error probability for a two sided test. This is the probability that we will falsely reject the null hypothesis.\n")}function KA(e,t){1&e&&Na(0," For independent tests \u03c3 is the within group standard deviation. For paired designs it is the standard deviation of difference in the response of matched pairs.\n")}function JA(e,t){1&e&&Na(0," For independent tests power is probability of correctly rejecting the null hypothesis of equal population means given n experimental patients, m control patients per experimental patient, a Type I error probability \u03b1 and a true difference in population means of \u03b4. For paired tests it is the probability of correctly rejecting the null hypothesis of equal population means given n pairs of patients, a Type I error probability \u03b1 and a true difference in population means of \u03b4.\n")}function eI(e,t){1&e&&Na(0," For independent t-tests n is the number of experimental subjects. For pair test n is the number of pairs.\n")}var tI,nI,rI=((nI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).route=e,i.ttestService=r,i}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;this.route.data.subscribe((function(t){e.kind=t.kind,e.model=new PA({kind:t.kind})}))}},{key:"onToggleHelp",value:function(){this.toggleHelp.emit()}},{key:"needDelta",value:function(){return"delta"!==this.model.output&&"nByCI"!==this.model.output}},{key:"needPower",value:function(){return"power"!==this.model.output&&"nByCI"!==this.model.output}},{key:"needPowerOrDelta",value:function(){return"nByCI"===this.model.output}},{key:"needCI",value:function(){return"nByCI"===this.model.output}},{key:"needNOrCI",value:function(){return"n"!==this.model.output&&"nByCI"!==this.model.output}},{key:"needM",value:function(){return this.model.kind===MA.Independent}},{key:"onSubmit",value:function(){var e=this,t=new LA(this.ttestService);t.addModel(this.model).subscribe((function(){e.calculate.emit(t)}))}},{key:"useExample",value:function(e){switch(e){case"power":this.model.output="power",this.model.alpha=.05,this.model.delta=5,this.model.sigma=10,this.model.n=33,this.kind==MA.Independent&&(this.model.m=2)}}},{key:"showCalculateButton",value:function(){return void 0!==this.model.output}}]),n}(Vw)).\u0275fac=function(e){return new(e||nI)(Go(ig),Go(SA))},nI.\u0275cmp=gt({type:nI,selectors:[["t-test-start"]],features:[Ba],decls:37,vars:3,consts:[[1,"d-flex","flex-column","h-100"],[3,"ngSubmit"],["startForm","ngForm"],[1,"d-flex","flex-column","form-controls"],[1,"form-group","mt-2"],[1,"d-flex","flex-row","justify-content-between","align-items-end","w-100","mb-2"],[1,"d-flex","flex-grow-1"],["for","t-test-start-output",1,"mb-0"],["type","button",1,"btn","btn-secondary","fa","fa-question-circle","p-1",3,"click"],[1,"d-flex","flex-shrink-1"],["id","t-test-start-example",1,"form-control",3,"change"],["example",""],["value",""],["value","power"],["id","t-test-start-output","required","","name","output",1,"form-control",3,"ngModel","ngModelChange"],["value","n"],["value","delta"],["value","nByCI"],[4,"ngIf"],["class","d-flex flex-row calculate-button",4,"ngIf"],["alphaHelp",""],["sigmaHelp",""],["powerHelp",""],["nHelp",""],[1,"form-group"],["for","t-test-start-alpha"],["aria-hidden","true","popoverTitle","Type I Error (\u03b1)","placement","right","triggers","hover","container","body",1,"fa","fa-info-circle",3,"ngbPopover"],["id","t-test-start-alpha","type","number","step","0.01","min","0.01","max","0.99","required","","name","alpha",1,"form-control",3,"ngModel","ngModelChange"],["for","t-test-start-sigma"],["aria-hidden","true","popoverTitle","Standard deviation (\u03c3)","placement","right","triggers","hover","container","body",1,"fa","fa-info-circle",3,"ngbPopover"],["id","t-test-start-sigma","type","number","step","0.1","min","0.1","required","","name","sigma",1,"form-control",3,"ngModel","ngModelChange"],["class","form-group",4,"ngIf"],[3,"ngIf"],["for","t-test-start-delta"],["id","t-test-start-delta","type","number","step","0.1","required","","name","delta",1,"form-control",3,"ngModel","ngModelChange"],["for","t-test-start-power"],["aria-hidden","true","popoverTitle","Power","placement","right","triggers","hover","container","body",1,"fa","fa-info-circle",3,"ngbPopover"],["id","t-test-start-power","type","number","step","0.01","min","0.01","max","0.99","required","","name","power",1,"form-control",3,"ngModel","ngModelChange"],["for","t-test-start-m"],["id","t-test-start-m","type","number","step","0.01","min","0.01","required","","name","m",1,"form-control",3,"ngModel","ngModelChange"],["for","t-test-start-ci"],["id","t-test-start-ci","type","number","required","","name","ci",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-check","form-check-inline"],[1,"form-check-label"],["type","radio","name","ciMode","id","t-test-start-ciMode-false",1,"form-check-input",3,"ngModel","value","ngModelChange"],["aria-hidden","true","popoverTitle","Sample size","placement","right","triggers","hover","container","body",1,"fa","fa-info-circle",3,"ngbPopover"],["type","radio","name","ciMode","id","t-test-start-ciMode-true",1,"form-check-input",3,"ngModel","value","ngModelChange"],["class","form-control","id","t-test-start-n","type","number","min","1","required","","name","n",3,"ngModel","ngModelChange",4,"ngIf"],["class","form-control","id","t-test-start-ci","type","number","min","1","step","0.1","required","","name","ci",3,"ngModel","ngModelChange",4,"ngIf"],["id","t-test-start-n","type","number","min","1","required","","name","n",1,"form-control",3,"ngModel","ngModelChange"],["id","t-test-start-ci","type","number","min","1","step","0.1","required","","name","ci",1,"form-control",3,"ngModel","ngModelChange"],["type","radio","name","deltaMode","id","t-test-start-deltaMode-false",1,"form-check-input",3,"ngModel","value","ngModelChange"],["type","radio","name","deltaMode","id","t-test-start-deltaMode-true",1,"form-check-input",3,"ngModel","value","ngModelChange"],["class","form-control","id","t-test-start-power","type","number","step","0.01","min","0.01","max","0.99","required","","name","power",3,"ngModel","ngModelChange",4,"ngIf"],["class","form-control","id","t-test-start-delta","type","number","step","0.1","required","","name","delta",3,"ngModel","ngModelChange",4,"ngIf"],[1,"d-flex","flex-row","calculate-button"],["type","submit",1,"btn","btn-success",3,"disabled"]],template:function(e,t){if(1&e){var n=na();Zo(0,"div",0),Zo(1,"form",1,2),oa("ngSubmit",(function(){return t.onSubmit()})),Zo(3,"div",3),Zo(4,"div",4),Zo(5,"div",5),Zo(6,"div",6),Zo(7,"label",7),Na(8," What do you want to know? "),Zo(9,"button",8),oa("click",(function(){return t.onToggleHelp()})),Ko(),Ko(),Ko(),Zo(10,"div",9),Zo(11,"select",10,11),oa("change",(function(){Kt(n);var e=Wo(12);return t.useExample(e.value)})),Zo(13,"option",12),Na(14,"Use an example:"),Ko(),Zo(15,"option",13),Na(16,"Power"),Ko(),Ko(),Ko(),Ko(),Zo(17,"select",14),oa("ngModelChange",(function(e){return t.model.output=e})),Jo(18,"option"),Zo(19,"option",13),Na(20,"Power"),Ko(),Zo(21,"option",15),Na(22,"Sample size"),Ko(),Zo(23,"option",16),Na(24,"Detectable alternative"),Ko(),Zo(25,"option",17),Na(26,"Sample size for 95% CI"),Ko(),Ko(),Ko(),qo(27,QA,17,10,"div",18),Ko(),qo(28,$A,3,1,"div",19),Ko(),Ko(),qo(29,ZA,1,0,"ng-template",null,20,Pu),qo(31,KA,1,0,"ng-template",null,21,Pu),qo(33,JA,1,0,"ng-template",null,22,Pu),qo(35,eI,1,0,"ng-template",null,23,Pu)}2&e&&(Nr(17),Qo("ngModel",t.model.output),Nr(10),Qo("ngIf",t.model.output),Nr(1),Qo("ngIf",t.showCalculateButton()))},directives:[pb,Jy,ob,P_,j_,M_,gb,Ky,db,Nc,yw,v_,By,y_],styles:[".overview[_ngcontent-%COMP%]{text-align:right}.btn-secondary[_ngcontent-%COMP%]{padding:.3rem}.ng-valid.required[_ngcontent-%COMP%], .ng-valid[required][_ngcontent-%COMP%]{border-left:5px solid #42a948}.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}.form-controls[_ngcontent-%COMP%]{padding:5px;overflow:auto;max-height:calc(70vh - 80px)}.calculate-button[_ngcontent-%COMP%]{padding-top:10px;border-top:2px solid #888}"]}),nI),iI=((tI=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){return Math.ceil(e)}}]),e}()).\u0275fac=function(e){return new(e||tI)},tI.\u0275pipe=Ct({name:"ceil",type:tI,pure:!0}),tI);function oI(e,t){if(1&e){var n=na();Zo(0,"div",13),Zo(1,"div",14),Zo(2,"label",15),Na(3,"Name:"),Ko(),Zo(4,"input",16),oa("ngModelChange",(function(e){return Kt(n),ua().model.name=e})),Ko(),Ko(),Zo(5,"button",17),oa("click",(function(){return Kt(n),ua().onRemoveButtonClicked()})),Jo(6,"i",18),Na(7," Remove "),Ko(),Ko()}if(2&e){var r=ua();Nr(2),pa("for","t-test-project-",r.name,"-model-",r.index,"-name"),Nr(2),pa("id","t-test-project-",r.name,"-model-",r.index,"-name"),Qo("ngModel",r.model.name)}}function aI(e,t){1&e&&Na(0," The Type I error probability for a two sided test. This is the probability that we will falsely reject the null hypothesis. ")}function sI(e,t){1&e&&Na(0," For independent tests \u03c3 is the within group standard deviation. For paired designs it is the standard deviation of difference in the response of matched pairs. ")}function uI(e,t){if(1&e){var n=na();Zo(0,"div",1),Zo(1,"div",2),Zo(2,"app-range-slider",19),oa("ngModelChange",(function(e){return Kt(n),ua().changeModel("m",e)})),tu(3,"round"),Ko(),Ko(),Ko()}if(2&e){var r=ua();Nr(2),Qo("min",r.min.m)("max",r.max.m)("hard-min",.01)("ngModel",nu(3,4,r.model.m))}}function lI(e,t){if(1&e){var n=na();Zo(0,"div",1),Zo(1,"div",2),Zo(2,"app-range-slider",20),oa("ngModelChange",(function(e){return Kt(n),ua().changeModel("delta",e)})),tu(3,"round"),Ko(),Ko(),Ko(),Zo(4,"div",1),Zo(5,"div",2),Zo(6,"app-range-slider",21),oa("ngModelChange",(function(e){return Kt(n),ua().changeModel("power",e)})),tu(7,"round"),Ko(),Ko(),Ko(),Zo(8,"div",1),Zo(9,"div",2),Zo(10,"app-range-slider",22),oa("ngModelChange",(function(e){return Kt(n),ua().changeModel("n",e)})),tu(11,"ceil"),Ko(),Zo(12,"app-range-slider",23),oa("ngModelChange",(function(e){return Kt(n),ua().changeModel("ci",e)})),tu(13,"round"),Ko(),Ko(),Ko()}if(2&e){var r=ua(),i=Wo(16),o=Wo(18),a=Wo(20),s=Wo(22);Ca("output",r.isOutput("delta")),Nr(2),Qo("min",r.min.delta)("max",r.max.delta)("is-output","delta"==r.model.output)("help-tpl",i)("ngModel",ru(3,30,r.model.delta,1)),Nr(2),Ca("output",r.isOutput("power")),Nr(2),Qo("min",r.min.power)("max",r.max.power)("hard-min",r.min.power)("hard-max",r.max.power)("is-output","power"==r.model.output)("help-tpl",o)("ngModel",nu(7,33,r.model.power)),Nr(2),Ca("output",r.isOutput("n")),Nr(2),Qo("min",r.min.n)("max",r.max.n)("hard-min",1)("is-output","n"==r.model.output)("help-tpl",a)("ngModel",nu(11,35,r.model.n)),Nr(2),Qo("min",r.min.ci)("max",r.max.ci)("hard-min",1)("is-output","n"==r.model.output)("help-tpl",s)("ngModel",ru(13,37,r.model.ci,1))}}function cI(e,t){if(1&e){var n=na();Zo(0,"div",1),Zo(1,"div",2),Zo(2,"app-range-slider",24),oa("ngModelChange",(function(e){return Kt(n),ua().changeModel("ci",e)})),tu(3,"round"),Ko(),Ko(),Ko(),Zo(4,"div",25),Zo(5,"div",2),Zo(6,"app-range-slider",22),oa("ngModelChange",(function(e){return Kt(n),ua().changeModel("n",e)})),tu(7,"ceil"),Ko(),Ko(),Ko(),Zo(8,"div",26),Zo(9,"div",2),Zo(10,"app-range-slider",27),oa("ngModelChange",(function(e){return Kt(n),ua().changeModel("delta",e)})),tu(11,"round"),Ko(),Zo(12,"app-range-slider",21),oa("ngModelChange",(function(e){return Kt(n),ua().changeModel("power",e)})),tu(13,"round"),Ko(),Ko(),Ko()}if(2&e){var r=ua(),i=Wo(22),o=Wo(20),a=Wo(16),s=Wo(18);Nr(2),Qo("min",r.min.ci)("max",r.max.ci)("help-tpl",i)("ngModel",ru(3,21,r.model.ci,1)),Nr(4),Qo("min",r.min.n)("max",r.max.n)("hard-min",1)("is-output",!0)("help-tpl",o)("ngModel",nu(7,24,r.model.n)),Nr(4),Qo("min",r.min.delta)("max",r.max.delta)("help-tpl",a)("ngModel",ru(11,26,r.model.delta,1)),Nr(2),Qo("min",r.min.power)("max",r.max.power)("hard-min",r.min.power)("hard-max",r.max.power)("is-output","power"==r.model.output)("help-tpl",s)("ngModel",nu(13,29,r.model.power))}}function hI(e,t){1&e&&Na(0," Delta (\u03b4) is the difference in population means under the alternative hypothesis.\n")}function fI(e,t){1&e&&Na(0," For independent tests power is probability of correctly rejecting the null hypothesis of equal population means given n experimental patients, m control patients per experimental patient, a Type I error probability \u03b1 and a true difference in population means of \u03b4. For paired tests it is the probability of correctly rejecting the null hypothesis of equal population means given n pairs of patients, a Type I error probability \u03b1 and a true difference in population means of \u03b4.\n")}function dI(e,t){1&e&&Na(0," For independent t-tests n is the number of experimental subjects. For pair test n is the number of pairs.\n")}function pI(e,t){1&e&&Na(0," Specifying the 95% confidence interval width will automatically calculate the sample size parameter.\n")}var vI,gI=((vI=function(){function e(t,n){_classCallCheck(this,e),this.plotOptions=t,this.palette=n,this.modelChanged=new au,this.remove=new au}return _createClass(e,[{key:"ngOnInit",value:function(){this.model=this.project.getModel(this.index),this.min=new PA(this.model),this.max=new PA(this.model),this.min.alpha=.01,this.max.alpha=.99,this.min.power=.01,this.max.power=.99,this.calculateSliderRange("n"),this.calculateSliderRange("ci"),this.calculateSliderRange("delta"),this.calculateSliderRange("sigma"),this.model.kind===MA.Independent&&this.calculateSliderRange("m"),this.color=this.palette.getColor(this.index,this.plotOptions.paletteTheme)}},{key:"isOutput",value:function(e){return this.model.output===e}},{key:"changeModel",value:function(e,t){var n=this;this.project.updateModel(this.index,e,t).subscribe((function(){n.adjustMinMax(),n.modelChanged.emit()}))}},{key:"onRemoveButtonClicked",value:function(){this.remove.emit()}},{key:"adjustMinMax",value:function(){this.model.sigma<this.min.sigma?this.min.sigma=Math.floor(this.model.sigma):this.model.sigma>this.max.sigma&&(this.max.sigma=Math.ceil(this.model.sigma)),this.model.delta<this.min.delta?this.min.delta=Math.floor(this.model.delta):this.model.delta>this.max.delta&&(this.max.delta=Math.ceil(this.model.delta)),this.model.n<this.min.n?this.min.n=Math.floor(this.model.n):this.model.n>this.max.n&&(this.max.n=Math.ceil(this.model.n)),this.model.ci<this.min.ci?this.min.ci=Math.floor(this.model.ci):this.model.ci>this.max.ci&&(this.max.ci=Math.ceil(this.model.ci))}},{key:"calculateSliderRange",value:function(e){var t=this.model[e],n=rO([.5*t,1.5*t],Yw);this.min[e]=n[0],this.max[e]=n[1]}}]),e}()).\u0275fac=function(e){return new(e||vI)(Go(iO),Go(oO))},vI.\u0275cmp=gt({type:vI,selectors:[["t-test-project-model"]],inputs:{project:"project",index:"index"},outputs:{modelChanged:"modelChanged",remove:"remove"},decls:23,vars:18,consts:[["class","form-inline justify-content-between mb-2",4,"ngIf"],[1,"grow-horiz"],[1,"grow-vert","range-slider"],["name","alpha","label","Type I Error (\u03b1)",3,"min","max","hard-min","hard-max","ngModel","ngModelChange"],["rsHelp",""],["name","sigma","label","Std. deviation (\u03c3)","step","0.1",3,"min","max","hard-min","ngModel","ngModelChange"],["class","grow-horiz",4,"ngIf"],[3,"ngIf","ngIfElse"],["nByCI",""],["deltaHelp",""],["powerHelp",""],["nHelp",""],["ciHelp",""],[1,"form-inline","justify-content-between","mb-2"],[1,"form-group"],[1,"mr-2",3,"for"],["name","name","type","text",1,"form-control",3,"id","ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-minus-circle"],["name","m","label","Ratio of control/experimental subjects",3,"min","max","hard-min","ngModel","ngModelChange"],["name","delta","label","Difference in population means (\u03b4)","step","0.1",3,"min","max","is-output","help-tpl","ngModel","ngModelChange"],["name","power","label","Power",3,"min","max","hard-min","hard-max","is-output","help-tpl","ngModel","ngModelChange"],["name","n","label","Sample size","step","1",3,"min","max","hard-min","is-output","help-tpl","ngModel","ngModelChange"],["name","ci","label","95% confidence interval width","step","0.1",3,"min","max","hard-min","is-output","help-tpl","ngModel","ngModelChange"],["name","ci","label","95% confidence interval width","step","0.1",3,"min","max","help-tpl","ngModel","ngModelChange"],[1,"grow-horiz","output"],[1,"grow-horiz","order-2","alt"],["name","delta","label","Difference in population means (\u03b4)","step","0.1",3,"min","max","help-tpl","ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(qo(0,oI,8,5,"div",0),Zo(1,"div",1),Zo(2,"div",2),Zo(3,"app-range-slider",3),oa("ngModelChange",(function(e){return t.changeModel("alpha",e)})),tu(4,"round"),qo(5,aI,1,0,"ng-template",4),Ko(),Ko(),Ko(),Zo(6,"div",1),Zo(7,"div",2),Zo(8,"app-range-slider",5),oa("ngModelChange",(function(e){return t.changeModel("sigma",e)})),tu(9,"round"),qo(10,sI,1,0,"ng-template",4),Ko(),Ko(),Ko(),qo(11,uI,4,6,"div",6),qo(12,lI,14,40,"ng-template",7),qo(13,cI,14,31,"ng-template",null,8,Pu),qo(15,hI,1,0,"ng-template",null,9,Pu),qo(17,fI,1,0,"ng-template",null,10,Pu),qo(19,dI,1,0,"ng-template",null,11,Pu),qo(21,pI,1,0,"ng-template",null,12,Pu)),2&e){var n=Wo(14);Qo("ngIf",t.project.models.length>1),Nr(3),Qo("min",t.min.alpha)("max",t.max.alpha)("hard-min",t.min.alpha)("hard-max",t.max.alpha)("ngModel",nu(4,13,t.model.alpha)),Nr(5),Qo("min",t.min.sigma)("max",t.max.sigma)("hard-min",1)("ngModel",ru(9,15,t.model.sigma,1)),Nr(3),Qo("ngIf","ind"==t.model.kind),Nr(1),Qo("ngIf",!t.isOutput("nByCI"))("ngIfElse",n)}},directives:[Nc,rA,Ky,db,nA,By],pipes:[iA,iI],styles:[".output[_ngcontent-%COMP%]{order:1}.output[_ngcontent-%COMP%]   .range-slider[_ngcontent-%COMP%]{background-color:#d8ecf3;border-radius:.5em}.order-2[_ngcontent-%COMP%]{order:2}.alt[_ngcontent-%COMP%]{margin-top:5px}.alt[_ngcontent-%COMP%]   .range-slider[_ngcontent-%COMP%]{background-color:#ff9;border-radius:.5em}"]}),vI),mI=["tabset"];function yI(e,t){if(1&e){var n=na();Zo(0,"li",16),Zo(1,"a",17),oa("click",(function(){Kt(n);var e=t.index;return ua(3).selectModel(e)})),Jo(2,"i",18),Ko(),Ko()}if(2&e){var r=t.index,i=ua(3);Nr(1),Ca("active",r==i.project.selectedIndex),Nr(1),wa("color",i.getColor(r))}}function _I(e,t){if(1&e&&(Zo(0,"ul",14),qo(1,yI,3,4,"li",15),Ko()),2&e){var n=ua(2);Nr(1),Qo("ngForOf",n.project.models)("ngForTrackBy",n.trackByIndex)}}function bI(e,t){if(1&e){var n=na();Zo(0,"div",19),Zo(1,"t-test-project-model",20),oa("modelChanged",(function(){return Kt(n),ua(2).onModelChanged()}))("remove",(function(){Kt(n);var e=t.index;return ua(2).onModelRemove(e)})),Ko(),Ko()}if(2&e){var r=t.index,i=ua(2);Ca("active",r==i.project.selectedIndex)("tab",i.project.models.length>1),Nr(1),Qo("project",i.project)("index",r)}}function kI(e,t){if(1&e){var n=na();Zo(0,"div",1),Zo(1,"div",2),Zo(2,"div",3),Zo(3,"label",4),Na(4,"Output:"),Ko(),Zo(5,"select",5),oa("ngModelChange",(function(e){return Kt(n),ua().changeOutput(e)})),Zo(6,"option",6),Na(7,"Power"),Ko(),Zo(8,"option",7),Na(9,"Sample size"),Ko(),Zo(10,"option",8),Na(11,"Detectable alternative"),Ko(),Zo(12,"option",9),Na(13,"Sample size for 95% CI"),Ko(),Ko(),Ko(),Zo(14,"button",10),oa("click",(function(){return Kt(n),ua().addModel()})),Jo(15,"i",11),Na(16," Add line "),Ko(),Ko(),qo(17,_I,2,2,"ul",12),qo(18,bI,2,6,"div",13),Ko()}if(2&e){var r=ua();Nr(3),da("for","t-test-project-",r.name,"-output"),Nr(2),da("id","t-test-project-",r.name,"-output"),Qo("ngModel",r.project.getOutput()),Nr(12),Qo("ngIf",r.project.models.length>1),Nr(1),Qo("ngForOf",r.project.models)}}var wI,CI,xI,SI,TI=((wI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this)).projectService=e,s.plotOptions=r,s.palette=i,s.router=o,s.route=a,s}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;EA(this.route.data,this.route.paramMap).subscribe((function(t){var n=t[0].type,r=t[1].get("id");if(r){var i=parseInt(r)-1;e.name="".concat(i),e.project=e.projectService.getProject(n,i)}else e.project=void 0;e.project?e.selectedModel=e.project.getModel(e.project.selectedIndex):(e.selectedModel=void 0,e.router.navigate([".."],{relativeTo:e.route})),e.projectSwitched.emit(e.project)}))}},{key:"changeOutput",value:function(e){var t=this;this.project.updateModel(0,"output",e).subscribe((function(){t.projectChanged.emit()}))}},{key:"selectModel",value:function(e){this.project.selectedIndex=e,this.selectedModel=this.project.getModel(e),this.projectChanged.emit()}},{key:"addModel",value:function(){var e=this,t=this.selectedModel.shallowClone();this.project.addModel(t).subscribe((function(){e.project.selectedIndex=e.project.models.length-1,e.projectChanged.emit()}))}},{key:"onModelRemove",value:function(e){this.removeModel(e)}},{key:"removeModel",value:function(e){var t=this;this.project.removeModel(e).subscribe((function(){t.project.selectedIndex>=t.project.models.length&&t.project.selectedIndex--,t.projectChanged.emit()}))}},{key:"onModelChanged",value:function(){this.projectChanged.emit()}},{key:"trackByIndex",value:function(e,t){return e}},{key:"getColor",value:function(e){return this.palette.getColor(e,this.plotOptions.paletteTheme)}}]),n}(zw)).\u0275fac=function(e){return new(e||wI)(Go(Nw),Go(iO),Go(oO),Go(pm),Go(ig))},wI.\u0275cmp=gt({type:wI,selectors:[["t-test-project"]],viewQuery:function(e,t){var n;1&e&&_u(mI,!0),2&e&&mu(n=xu())&&(t.tabset=n.first)},features:[Ba],decls:1,vars:1,consts:[["class","grow-vert",4,"ngIf"],[1,"grow-vert"],[1,"form-inline","justify-content-between","mb-2"],[1,"form-group"],[1,"mr-2",3,"for"],["name","output",1,"form-control",3,"id","ngModel","ngModelChange"],["value","power"],["value","n"],["value","delta"],["value","nByCI"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus-circle"],["class","nav nav-tabs mt-2",4,"ngIf"],["class","project-model",3,"active","tab",4,"ngFor","ngForOf"],[1,"nav","nav-tabs","mt-2"],["class","nav-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nav-item"],[1,"nav-link","nav-model-link",3,"click"],[1,"fa","fa-square"],[1,"project-model"],[3,"project","index","modelChanged","remove"]],template:function(e,t){1&e&&qo(0,kI,19,5,"div",0),2&e&&Qo("ngIf",t.project)},directives:[Nc,M_,Ky,db,P_,j_,jc,gI],styles:[".overview[_ngcontent-%COMP%]{text-align:right}.btn-secondary[_ngcontent-%COMP%]{padding:.3rem}ul.nav[_ngcontent-%COMP%]{border-bottom:0;z-index:1}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]{margin-bottom:-1px}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   a.nav-link[_ngcontent-%COMP%]{cursor:pointer;background-color:#ddd;border-color:#bbb #bbb #aaa;font-size:x-large;padding:.25rem .75rem}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   a.nav-link.active[_ngcontent-%COMP%]{border-color:#aaa #aaa #f6f6f6;background-color:#f6f6f6}.project-model[_ngcontent-%COMP%]{display:none}.project-model.active[_ngcontent-%COMP%]{display:flex;flex:auto;flex-direction:column}.project-model.tab[_ngcontent-%COMP%]{padding:1rem .5rem 0;border:1px solid #aaa;background-color:#f6f6f6}"]}),wI),MI=[{path:"t-test/paired",component:xA,data:{type:Lw.TTestPaired},children:[{path:"",component:rI,data:{kind:MA.Paired}},{path:":id",component:TI,data:{type:Lw.TTestPaired}}]},{path:"t-test/ind",component:xA,data:{type:Lw.TTestIndependent},children:[{path:"",component:rI,data:{kind:MA.Independent}},{path:":id",component:TI,data:{type:Lw.TTestIndependent}}]},{path:"z-test",component:xA,data:{type:Lw.ZTest},children:[{path:"",component:rI,data:{kind:MA.ZTest}},{path:":id",component:TI,data:{type:Lw.ZTest}}]}],PI=((CI=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:CI}),CI.\u0275inj=ve({factory:function(e){return new(e||CI)},providers:[SA],imports:[[Zc,yb,Ay,jw,Nm.forChild(MI),Dw]]}),CI),EI=((xI={}).SampleSize="sampleSize",xI.Power="power",xI.DetectableAlternative="detAlt",xI),OI=function(e){return e.Lower="lower",e.Upper="upper",e}({}),RI=function(e){return e.Matched="matched",e.Independent="independent",e}({}),AI=function(e){return e.CaseControl="caseControl",e.Prospective="prospective",e}({}),II=function(e){return e.ChiSquare="chiSquare",e.Fishers="fishers",e}({}),jI=function(e){return e.FailureRates="failureRates",e.RelativeRisk="relativeRisk",e.TwoProportions="twoProportions",e.OddsRatio="oddsRatio",e}({}),DI=function(){function e(t){_classCallCheck(this,e),t&&(this.name=t.name,this.output=t.output,this.matched=t.matched,this.case=t.case,this.method=t.method,this.expressed=t.expressed,this.alpha=t.alpha,this.power=t.power,this.phi=t.phi,this.p0=t.p0,this.p1=t.p1,this.p1Alt=t.p1Alt,this.r=t.r,this.rAlt=t.rAlt,this.n=t.n,this.m=t.m,this.psi=t.psi,this.psiAlt=t.psiAlt,this.ci=t.ci,this.ciAlt=t.ciAlt,this.detAltMode=t.detAltMode,this.ciMode=t.ciMode,this.sampleSizeVsPower=t.sampleSizeVsPower,this.sampleSizeVsDetAlt=t.sampleSizeVsDetAlt,this.powerVsSampleSize=t.powerVsSampleSize,this.powerVsDetAlt=t.powerVsDetAlt,this.detAltVsSampleSize=t.detAltVsSampleSize,this.detAltVsPower=t.detAltVsPower,this.sampDist=t.sampDist),null==this.detAltMode&&(this.detAltMode=OI.Upper)}return _createClass(e,[{key:"attribs",value:function(){return{output:this.output,matched:this.matched,case:this.case,method:this.method,expressed:this.expressed,alpha:this.alpha,power:this.power,phi:this.phi,p0:this.p0,p1:this.p1,p1Alt:this.p1Alt,r:this.r,rAlt:this.rAlt,n:this.n,m:this.m,psi:this.psi,psiAlt:this.psiAlt,ciMode:this.ciMode,ci:this.ci,detAltMode:this.detAltMode}}},{key:"shallowClone",value:function(){return Object.assign(new e,this)}},{key:"getDetAltParam",value:function(){var e="";if(this.matched==RI.Matched?e="psi":this.matched==RI.Independent&&(this.expressed==jI.TwoProportions?e="p1":this.expressed==jI.OddsRatio?e="psi":this.expressed==jI.RelativeRisk&&(e="r")),e.length>0&&this.detAltMode===OI.Lower){var t="".concat(e,"Alt");"number"==typeof this[t]&&(e=t)}return e}},{key:"getCITarget",value:function(){var e=NaN;if(this.matched===RI.Matched)e=this.output===EI.DetectableAlternative&&this.detAltMode===OI.Lower?this.psiAlt:this.psi;else if(this.matched===RI.Independent){var t;t=this.output===EI.DetectableAlternative&&this.detAltMode===OI.Lower?this.p1Alt:this.p1,this.expressed===jI.TwoProportions?e=t:this.expressed===jI.OddsRatio?e=Math.exp(Math.log(t)+Math.log(1-this.p0)-Math.log(this.p0)-Math.log(1-t)):this.expressed===jI.RelativeRisk&&(e=Math.exp(Math.log(t)-Math.log(this.p0)))}return e}},{key:"getCI",value:function(){return this.output===EI.DetectableAlternative&&this.detAltMode===OI.Lower?this.ciAlt:this.ci}},{key:"interpretation",value:function(){var e,t,n,r,i,o,a,s="",u=this.alpha.toString(),l=this.power.toString(),c=this.m.toString(),h=this.n.toString(),f=Math.round(this.n*this.m).toString(),d=this.p0.toString();return this.p1&&(e=this.p1.toString()),this.p1Alt&&(t=this.p1Alt.toString()),this.phi&&(n=this.phi.toString()),this.psi&&(r=this.psi.toString()),this.psiAlt&&(i=this.psiAlt.toString()),this.r&&(o=this.r.toString()),this.rAlt&&(a=this.rAlt.toString()),this.matched===RI.Matched?this.output===EI.SampleSize?s="\n          We are planning a study of matched sets of cases and controls with\n          ".concat(c," matched control(s) per case.  Prior data indicate that the\n          probability of exposure among controls is ").concat(d," and the correlation\n          coefficient for exposure between matched cases and controls is\n          ").concat(n,".  If the true odds ratio for disease in exposed subjects\n          relative to unexposed subjects is ").concat(r,", we will need to study ").concat(h,"\n          case patients with ").concat(c," matched control(s) per case to be able to\n          reject the null hypothesis that this odds ratio equals 1 with\n          probability (power) ").concat(l,".  The Type I error probability\n          associated with this test of this null hypothesis is ").concat(u,".\n        "):this.output===EI.Power?s="\n          We are planning a study with ".concat(h," matched sets of cases and controls\n          and ").concat(c," matched control(s) per case.  Prior data indicate that the\n          probability of exposure among controls is ").concat(d," and the correlation\n          coefficient for exposure between matched cases and controls is ").concat(n,".\n          If the true odds ratio for disease in exposed subjects relative to\n          unexposed subjects is ").concat(r,", we will be able to reject the null\n          hypothesis that this odds ratio equals 1 with probability (power)\n          ").concat(l,". The Type I error probability associated with this test of this\n          null hypothesis is ").concat(u,".\n        "):this.output===EI.DetectableAlternative&&(s="\n          We are planning a study with ".concat(h," matched sets of cases and controls\n          and ").concat(c," matched control(s) per case.  Prior data indicate that the\n          probability of exposure among controls is ").concat(d," and the correlation\n          coefficient for exposure between matched cases and controls is\n          ").concat(n,".  We will be able to detect true odds ratios for disease of\n          ").concat(i," or ").concat(r," in exposed subjects relative to unexposed\n          subjects with probability (power) ").concat(l,".  The Type I error\n          probability associated with this test of the null hypothesis that\n          this odds ratio equals 1 is ").concat(u,".\n        ")):this.matched===RI.Independent&&(this.case===AI.CaseControl?this.expressed===jI.TwoProportions?this.output===EI.SampleSize?s="\n              We are planning a study of independent cases and controls with\n              ".concat(c," control(s) per case.  Prior data indicate that the\n              probability of exposure among controls is ").concat(d,".  If the true\n              probability of exposure among cases is ").concat(e,", we will need to\n              study ").concat(h," case patients and ").concat(f," control patients to be able to\n              reject the null hypothesis that the exposure rates for case and\n              controls are equal with probability (power) ").concat(l,".  The Type I\n              error probability associated with this test of this null\n              hypothesis is ").concat(u,".\n            "):this.output===EI.Power?s="\n              We are planning a study with ".concat(h," experimental subjects and ").concat(f,"\n              control subjects.  Prior data indicate that the probability of\n              exposure among controls is ").concat(d,".  If the true probability of\n              exposure among cases is ").concat(e,", we will be able to reject the null\n              hypothesis that the exposure rates for case and controls are\n              equal with probability (power) ").concat(l,". The Type I error\n              probability associated with this test of this null hypothesis is\n              ").concat(u,".\n            "):this.output===EI.DetectableAlternative&&(s="\n              We are planning a study with ".concat(h," experimental subjects and ").concat(f,"\n              control subjects.  Prior data indicate that the probability of\n              exposure among controls is ").concat(d,".  We will be able to detect true\n              probabilities of exposure among cases of ").concat(t," or ").concat(e," with\n              probability (power) ").concat(l,".  The Type I error probability\n              associated with this test of the null hypothesis that the\n              exposure rates for case and controls are equal is ").concat(u,".\n            ")):this.expressed===jI.OddsRatio&&(this.output===EI.SampleSize?s="\n              We are planning a study of independent cases and controls with\n              ".concat(c," control(s) per case.  Prior data indicate that the\n              probability of exposure among controls is ").concat(d,".  If the true\n              odds ratio for disease in exposed subjects relative to unexposed\n              subjects is ").concat(r,", we will need to study ").concat(h," case patients and\n              ").concat(f," control patients to be able to reject the null hypothesis\n              that this odds ratio equals 1 with probability (power) ").concat(l,".\n              The Type I error probability associated with this test of this\n              null hypothesis is ").concat(u,".\n            "):this.output===EI.Power?s="\n              We are planning a study with ".concat(h," case patients and ").concat(f," control\n              patients.  Prior data indicate that the probability of exposure\n              among controls is ").concat(d,".  If the true odds ratio for disease in\n              exposed subjects relative to unexposed subjects is ").concat(r,", we\n              will be able to reject the null hypothesis that this odds ratio\n              equals 1 with probability (power) ").concat(l,". The Type I error\n              probability associated with this test of this null hypothesis is\n              ").concat(u,".\n            "):this.output===EI.DetectableAlternative&&(s="\n              We are planning a study with ".concat(h," case patients and ").concat(f," control\n              patients.  Prior data indicate that the probability of exposure\n              among controls is ").concat(d,".  We will be able to detect true odds\n              ratios for disease of ").concat(i," or ").concat(r," in exposed subjects\n              relative to unexposed subjects with probability (power) ").concat(l,".\n              The Type I error probability associated with this test of the\n              null hypothesis that this odds ratio equals 1 is ").concat(u,".\n            "))):this.case===AI.Prospective&&(this.expressed===jI.TwoProportions?this.output===EI.SampleSize?s="\n              We are planning a study of independent cases and controls with ".concat(c,"\n              control(s) per case.  Prior data indicate that the failure rate\n              among controls is ").concat(d,".  If the true failure rate for experimental\n              subjects is ").concat(e,", we will need to study ").concat(h," experimental subjects\n              and ").concat(f," control subjects to be able to reject the null hypothesis\n              that the failure rates for experimental and control subjects are\n              equal with probability (power) ").concat(l,".  The Type I error\n              probability associated with this test of this null hypothesis is\n              ").concat(u,".\n            "):this.output===EI.Power?s="\n              We are planning a study with ".concat(h," experimental subjects and ").concat(f,"\n              control subjects.  Prior data indicate that the failure rate\n              among controls is ").concat(d,".  If the true failure rate for\n              experimental subjects is ").concat(e,", we will be able to reject the\n              null hypothesis that the failure rates for experimental and\n              control subjects are equal with probability (power) ").concat(l,". The\n              Type I error probability associated with this test of this null\n              hypothesis is ").concat(u,".\n            "):this.output===EI.DetectableAlternative&&(s="\n              We are planning a study with ".concat(h," experimental subjects and ").concat(f,"\n              control subjects.  Prior data indicate that the failure rate\n              among controls is ").concat(d,".  We will be able to detect true failure\n              rates of ").concat(t," or ").concat(e," in exposed subjects with probability (power)\n              ").concat(l,".  The Type I error probability associated with this test of\n              the null hypothesis that the failure rates for experimental and\n              control subjects are equal is ").concat(u,".\n            ")):this.expressed===jI.RelativeRisk&&(this.output===EI.SampleSize||this.output===EI.Power?s="\n              We are planning a study of independent cases and controls with\n              ".concat(c," control(s) per case.  Prior data indicate that the failure\n              rate among controls is ").concat(d,".  If the true relative risk of\n              failure for experimental subjects relative to controls is ").concat(o,",\n              we will need to study ").concat(h," experimental subjects and ").concat(f,"\n              control subjects to be able to reject the null hypothesis that\n              this relative risk equals 1 with probability (power) ").concat(l,".\n              The Type I error probability associated with this test of this\n              null hypothesis is ").concat(u,".\n            "):this.output===EI.DetectableAlternative&&(s="\n              We are planning a study with ".concat(h," experimental subjects and ").concat(f,"\n              control subjects.  Prior data indicate that the failure rate\n              among controls is ").concat(d,".  We will be able to detect true relative\n              risks of ").concat(a," or ").concat(o," in exposed subjects relative to unexposed\n              subjects with probability (power) ").concat(l,".  The Type I error\n              probability associated with this test of the null hypothesis that\n              this relative risk equals 1 is ").concat(u,".\n            ")))),this.method===II.ChiSquare?s+="\n          We will use an uncorrected chi-squared statistic to evaluate\n          this null hypothesis.\n        ":this.method===II.Fishers&&(s+="\n          We will use a continuity-corrected chi-squared statistic or\n          Fisher\u2019s exact test to evaluate this null hypothesis.\n        ")),s.replace(/\s+/g," ").trim()}}]),e}(),NI=((SI=function(){function e(t){_classCallCheck(this,e),this.http=t,this.apiUrl="".concat(Ml.apiUrl,"/dichot")}return _createClass(e,[{key:"calculate",value:function(e){var t="".concat(this.apiUrl,"/calc"),n=e.attribs(),r={headers:new Ym({"Content-Type":"application/json"})};return this.http.post(t,n,r).pipe(Mp(this.handleError))}},{key:"plotData",value:function(e,t,n){var r="".concat(this.apiUrl,"/plotData"),i={models:e.map((function(e){return e.attribs()})),ranges:t};"number"==typeof n&&(i.points=n);var o={headers:new Ym({"Content-Type":"application/json"})};return this.http.post(r,i,o).pipe(Mp(this.handleError))}},{key:"handleError",value:function(e,t){return e.error instanceof ErrorEvent?console.error("An error occurred:",e.error.message):console.error("Backend returned code ".concat(e.status,", ")+"body was:",e.error),Rb("Something bad happened; please try again later.")}}]),e}()).\u0275fac=function(e){return new(e||SI)(Ke(my))},SI.\u0275prov=pe({token:SI,factory:SI.\u0275fac,providedIn:"root"}),SI),FI=function(e){return e[e.X=0]="X",e[e.Y=1]="Y",e}({}),LI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).project=e,r}return _createClass(n,[{key:"getXParam",value:function(e){return this.getParam(e,FI.X)}},{key:"getYParam",value:function(e){return this.getParam(e,FI.Y)}},{key:"getPlotData",value:function(e){var t,n=this.getDataKey(e);return n&&(t=this.project.models.map((function(e){return e[n]}))),t}},{key:"getSelectedIndex",value:function(){return this.project.selectedIndex}},{key:"getNumModels",value:function(){return this.project.models.length}},{key:"getModelNames",value:function(){return this.project.models.map((function(e){return e.name}))}},{key:"updateModel",value:function(e,t,n){return this.project.updateModel(e,t,n)}},{key:"getParam",value:function(e,t){var n,r=this.project.getModel(this.project.selectedIndex);if(r.output===EI.SampleSize)if(t===FI.X){if("top-left"==e||"top-left-export"==e)n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"};else if("top-right"==e||"top-right-export"==e){var i=r.getDetAltParam(),o=this.getDetAltSym(i);n={name:i,range:this.project.detAltRange,target:r[i],title:"Detectable Alternative",sym:o}}}else t===FI.Y&&(n={name:"n",range:this.project.sampleSizeRange,target:r.n,title:"Sample Size",sym:"n"});else if(r.output===EI.Power)if(t===FI.X){if("top-left"==e||"top-left-export"==e)n={name:"n",range:this.project.sampleSizeRange,target:r.n,title:"Sample Size",sym:"n"};else if("top-right"==e||"top-right-export"==e){var a=r.getDetAltParam(),s=this.getDetAltSym(a);n={name:a,range:this.project.detAltRange,target:r[a],title:"Detectable Alternative",sym:s}}}else t===FI.Y&&(n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"});else if(r.output===EI.DetectableAlternative)if(t===FI.X)"top-left"==e||"top-left-export"==e?n={name:"n",range:this.project.sampleSizeRange,target:r.n,title:"Sample Size",sym:"n"}:"top-right"!=e&&"top-right-export"!=e||(n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"});else if(t===FI.Y){var u=r.getDetAltParam(),l=this.getDetAltSym(u);n={name:u,range:this.project.detAltRange,target:r[u],title:"Detectable Alternative",sym:l}}return n}},{key:"getDataKey",value:function(e){var t,n=this.project.getModel(this.project.selectedIndex);return n.output===EI.SampleSize?"top-left"==e||"top-left-export"==e?t="sampleSizeVsPower":"top-right"!=e&&"top-right-export"!=e||(t="sampleSizeVsDetAlt"):n.output===EI.Power?"top-left"==e||"top-left-export"==e?t="powerVsSampleSize":"top-right"!=e&&"top-right-export"!=e||(t="powerVsDetAlt"):n.output===EI.DetectableAlternative&&("top-left"==e||"top-left-export"==e?t="detAltVsSampleSize":"top-right"!=e&&"top-right-export"!=e||(t="detAltVsPower")),t}},{key:"getDetAltSym",value:function(e){switch(e){case"psi":case"psiAlt":return"\u03c8";case"p1":case"p1Alt":return"p\u2081";case"r":case"rAlt":return"R"}return""}}]),n}(lO),VI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).project=e,r}return _createClass(n,[{key:"getXParam",value:function(){var e,t=this.project.getDetAltParam();switch(t){case"psi":case"psiAlt":e={name:"psi",range:this.project.pSpaceRange,title:"Odds ratio of exposure (\u03c8)",sym:"\u03c8"};break;case"p1":case"p1Alt":e={name:"p1",range:this.project.pSpaceRange,title:"Probability of the outcome for an experimental patient (p\u2081)",sym:"p\u2081"};break;case"r":case"rAlt":e={name:"r",range:this.project.pSpaceRange,title:"Relative risk of failure for experimental subjects relative to controls (R)",sym:"R"};break;default:throw new Error("invalid param name: ".concat(t))}return e}},{key:"getGroups",value:function(){return this.project.models.map((function(e){var t=e.getCI();return{ci:{lower:t[0],upper:t[1],n:e.n},target:e.getCITarget(),sampDist:e.sampDist,ciValues:e.ciValues}}))}},{key:"getSelectedIndex",value:function(){return this.project.selectedIndex}},{key:"updateTargetValue",value:function(e){var t=this.project.getDetAltParam();return this.project.updateModel(this.project.selectedIndex,t,e)}},{key:"updateCIValue",value:function(e){return this.project.updateModel(this.project.selectedIndex,"n",e.n)}},{key:"setIntermediateCIValue",value:function(e){this.project.getModel(this.project.selectedIndex).n=e.n}}]),n}(SO),zI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).dichotService=e,r.models=[],r.selectedIndex=0,r.changeHistory=[],r.customRanges=!1,r.fixedPSpace=Gw.Fixed,r}return _createClass(n,[{key:"getLinePlotHandler",value:function(){return new LI(this)}},{key:"getCIPlotHandler",value:function(){return new VI(this)}},{key:"getSelectedIndex",value:function(){return this.selectedIndex}},{key:"getChangeHistory",value:function(){return this.changeHistory}},{key:"getModelOutput",value:function(){return this.models[this.selectedIndex].output}},{key:"getModelInterpretation",value:function(){return this.models[this.selectedIndex].interpretation()}},{key:"getModelCount",value:function(){return this.models.length}},{key:"getTopYRange",value:function(){switch(this.getOutput()){case EI.SampleSize:return this.sampleSizeRange;case EI.Power:return this.powerRange;case EI.DetectableAlternative:return this.detAltRange}}},{key:"setTopYRange",value:function(e){switch(this.getOutput()){case EI.SampleSize:this.sampleSizeRange=e;break;case EI.Power:this.powerRange=e;break;case EI.DetectableAlternative:this.detAltRange=e}}},{key:"getTopLeftXRange",value:function(){switch(this.getOutput()){case EI.SampleSize:return this.powerRange;case EI.Power:case EI.DetectableAlternative:return this.sampleSizeRange}}},{key:"setTopLeftXRange",value:function(e){switch(this.getOutput()){case EI.SampleSize:this.powerRange=e;break;case EI.Power:case EI.DetectableAlternative:this.sampleSizeRange=e}}},{key:"getTopRightXRange",value:function(){switch(this.getOutput()){case EI.SampleSize:case EI.Power:return this.detAltRange;case EI.DetectableAlternative:return this.powerRange}}},{key:"setTopRightXRange",value:function(e){switch(this.getOutput()){case EI.SampleSize:case EI.Power:this.detAltRange=e;break;case EI.DetectableAlternative:this.powerRange=e}}},{key:"getBottomXRange",value:function(){return this.pSpaceRange}},{key:"setBottomXRange",value:function(e){this.pSpaceRange=e}},{key:"isCITargetDraggable",value:function(){return"delta"===this.getModelOutput()}},{key:"isCIBoundsDraggable",value:function(){return"n"===this.getModelOutput()}},{key:"getOutput",value:function(){if(this.models.length>0)return this.models[0].output}},{key:"getOutputString",value:function(){return this.models.length>0?this.models[0].output.toString():""}},{key:"getDetAltParam",value:function(){return this.models.length>0?this.models[0].getDetAltParam():""}},{key:"getMatched",value:function(){return this.models.length>0?this.models[0].matched.toString():""}},{key:"describeMatched",value:function(){if(this.models.length>0)switch(this.models[0].matched){case RI.Matched:return"Matched";case RI.Independent:return"Independent"}return""}},{key:"describeCase",value:function(){if(this.models.length>0)switch(this.models[0].case){case AI.CaseControl:return"Case control";case AI.Prospective:return"Prospective"}return""}},{key:"describeExpressed",value:function(){if(this.models.length>0)switch(this.models[0].expressed){case jI.FailureRates:return"Failure rates";case jI.RelativeRisk:return"Relative risk";case jI.TwoProportions:return"Two proportions";case jI.OddsRatio:return"Odds ratio"}return""}},{key:"describeMethod",value:function(){if(this.models.length>0)switch(this.models[0].method){case II.ChiSquare:return"Uncorrected chi-square test";case II.Fishers:return"Fisher's exact test"}return""}},{key:"getModel",value:function(e){return this.models[e]}},{key:"addModel",value:function(e){var t=this;return this.dichotService.calculate(e).pipe(W((function(e){var n=new DI(e);return n.name=t.getModelName(t.models.length),t.models.push(n),t.customRanges||t.calculateRanges(),t.changeHistory.push({type:"add",index:t.models.length-1,params:n.attribs()}),t.updatePlotData()})))}},{key:"updateModel",value:function(e,t,n){var r=this,i=this.models[e],o=_defineProperty({},t,n),a=[i];return"output"===t&&(a=this.models,this.customRanges=!1),"ci"===t?o.ciMode=!0:i.ciMode&&(o.ciMode=!1),a.forEach((function(e){Object.assign(e,o)})),EA.apply(void 0,_toConsumableArray(a.map((function(e,t){return r.dichotService.calculate(e).pipe(z((function(t){Object.assign(e,t)})))})))).pipe(W((function(){return r.customRanges||r.calculateRanges(),r.changeHistory.push({type:"change",index:e,key:t,params:i.attribs()}),r.updatePlotData()})))}},{key:"removeModel",value:function(e){return this.models.splice(e,1),this.changeHistory.push({type:"remove",index:e}),this.customRanges||this.calculateRanges(),this.updatePlotData()}},{key:"updatePlotData",value:function(){var e=this;return this.updatingPlotData.emit(),this.dichotService.plotData(this.models,{sampleSizeRange:this.sampleSizeRange,powerRange:this.powerRange,detAltRange:this.detAltRange,pSpaceRange:this.pSpaceRange},this.pointsPerPlot).pipe(z((function(t){if(void 0===e.pointsPerPlot&&(e.pointsPerPlot=t.points),t.data.forEach((function(t,n){Object.assign(e.models[n],t)})),!e.customRanges){for(var n,r,i,o=e.getOutput(),a=0,s=e.models.length;a<s;a++){var u=e.models[a];switch(o){case EI.SampleSize:(r=e.makeXRange(u.sampleSizeVsPower,e.sampleSizeRange)).description="Power",0==a?e.powerRange=r:e.powerRange.combine(r),(i=e.makeXRange(u.sampleSizeVsDetAlt,e.sampleSizeRange)).description="Detectable Alternative",0==a?e.detAltRange=i:e.detAltRange.combine(i);break;case EI.Power:(n=e.makeXRange(u.powerVsSampleSize,e.powerRange)).description="Sample Size",0==a?e.sampleSizeRange=n:e.sampleSizeRange.combine(n),(i=e.makeXRange(u.powerVsDetAlt,e.sampleSizeRange)).description="Detectable Alternative",0==a?e.detAltRange=i:e.detAltRange.combine(i);break;case EI.DetectableAlternative:(r=e.makeXRange(u.detAltVsPower,e.detAltRange)).description="Power",0==a?e.powerRange=r:e.powerRange.combine(r),(n=e.makeXRange(u.detAltVsSampleSize,e.detAltRange)).description="Sample Size",0==a?e.sampleSizeRange=n:e.sampleSizeRange.combine(n)}}e.previousRanges={sampleSizeRange:e.sampleSizeRange?e.sampleSizeRange.clone():void 0,powerRange:e.powerRange?e.powerRange.clone():void 0,detAltRange:e.detAltRange?e.detAltRange.clone():void 0,pSpaceRange:e.pSpaceRange?e.pSpaceRange.clone():void 0}}})))}},{key:"getModelName",value:function(e){switch(e){case 0:return"Primary";case 1:return"Secondary";case 2:return"Tertiary";case 3:return"Quaternary";case 4:return"Quinary";case 5:return"Senary";case 6:return"Septenary";case 7:return"Octonary";case 8:return"Nonary";case 9:return"Denary"}return"Line ".concat(e+1)}},{key:"calculateRanges",value:function(){for(var e,t=[],n=[],r=[],i=[],o=this.getOutput(),a=0,s=this.models.length;a<s;a++){var u=this.models[a];switch(o){case EI.SampleSize:e=rO([.5*u.n,1.5*u.n],Yw),(0==a||e[0]<t[0])&&(t[0]=e[0]),(0==a||e[1]>t[1])&&(t[1]=e[1]);break;case EI.Power:0==a&&(n=[.01,1]);break;case EI.DetectableAlternative:u.getDetAltParam(),e=u.case===AI.CaseControl?u.detAltMode===OI.Lower?[.1,.9]:[1.1,u.psi+(u.psi-1)]:u.expressed===jI.RelativeRisk?u.detAltMode===OI.Lower?[.1,.9]:[1.1,u.r+(u.r-1)]:u.expressed===jI.OddsRatio?u.detAltMode===OI.Lower?[.1,.9]:[1.1,u.psi+(u.psi-1)]:u.detAltMode===OI.Lower?[u.p1Alt-(u.p0-u.p1Alt),u.p0-.1]:[u.p0+.1,u.p1+(u.p1-u.p0)],(0==a||e[0]<r[0])&&(r[0]=e[0]),(0==a||e[1]>r[1])&&(r[1]=e[1])}var l=u.getCI();if(this.fixedPSpace!==Gw.Fixed||u.matched!==RI.Matched&&u.expressed!==jI.RelativeRisk&&u.expressed!==jI.OddsRatio){var c=u.getCITarget(),h=3*Math.abs(l[1]-c);e=[l[0]-h,l[1]+h]}else{e=[0,7];var f=l[1]+1;f>e[1]&&(e[1]=f)}(0==a||e[0]<i[0])&&(i[0]=e[0]),(0==a||e[1]>i[1])&&(i[1]=e[1])}t.length>0?(this.sampleSizeRange=new TA(t[0],t[1]),this.sampleSizeRange.description="Sample Size"):this.sampleSizeRange=void 0,n.length>0?(this.powerRange=new TA(n[0],n[1]),this.powerRange.description="Power"):this.powerRange=void 0,r.length>0?(this.detAltRange=new TA(r[0],r[1]),this.detAltRange.description="Detectable Alternative"):this.detAltRange=void 0,i.length>0?(this.pSpaceRange=new TA(i[0],i[1]),this.pSpaceRange.description="Parameter Space"):this.pSpaceRange=void 0}},{key:"makeXRange",value:function(e,t){for(var n=0,r=e.length-1,i=rO(e,(function(e,t){return e.x-t.x})),o=0;o<i.length;o++)if("number"==typeof i[o].x&&i[o].y>=t.min){n=o;break}for(var a=i.length-1;a>=0;a--)if("number"==typeof i[a].x&&i[a].y<=t.max){r=a;break}var s=rO([i[n].x,i[r].x],Yw);return new TA(s[0],s[1])}},{key:"paramsToString",value:function(e){var t=[];for(var n in e)"ciMode"!=n&&"deltaMode"!=n&&t.push("string"==typeof e[n]?'"'.concat(n,'": "').concat(e[n],'"'):'"'.concat(n,'": ').concat(e[n]));return"{ ".concat(t.join(", ")," }")}},{key:"describeChanges",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"add"==e.type?t="Added model #".concat(e.index+1,': <span class="code">').concat(this.paramsToString(e.params),"</span>"):"remove"==e.type?t="Removed model #".concat(e.index+1):"change"==e.type&&(t=n?'Changed <span class="code">'.concat(e.key,"</span> in model #").concat(e.index+1,': <span class="code">').concat(this.paramsToString(e.params),"</span>"):"Changed ".concat(e.key," in model #").concat(e.index+1,": ").concat(this.paramsToString(e.params))),t}},{key:"resetRanges",value:function(){this.previousRanges&&Object.assign(this,this.previousRanges)}}]),n}(Xw);function HI(e,t){if(1&e){var n=na();Zo(0,"div",24),Zo(1,"label",25),Na(2,"Matched or independent?"),Ko(),Zo(3,"select",26),oa("ngModelChange",(function(e){return Kt(n),ua().model.matched=e})),Jo(4,"option"),Zo(5,"option",13),Na(6,"Matched or paired"),Ko(),Zo(7,"option",27),Na(8,"Independent"),Ko(),Ko(),Ko()}if(2&e){var r=ua();Nr(3),Qo("ngModel",r.model.matched)}}function UI(e,t){if(1&e){var n=na();Zo(0,"div",24),Zo(1,"label",28),Na(2,"Case control?"),Ko(),Zo(3,"select",29),oa("ngModelChange",(function(e){return Kt(n),ua().model.case=e})),Jo(4,"option"),Zo(5,"option",30),Na(6,"Case control"),Ko(),Zo(7,"option",31),Na(8,"Prospective"),Ko(),Ko(),Ko()}if(2&e){var r=ua();Nr(3),Qo("ngModel",r.model.case)}}function BI(e,t){1&e&&(Zo(0,"option",37),Na(1,"Odds ratio"),Ko())}function qI(e,t){1&e&&(Zo(0,"option",38),Na(1,"Relative risk"),Ko())}function WI(e,t){if(1&e){var n=na();Zo(0,"div",24),Zo(1,"label",32),Na(2,"How is the alternative hypothesis expressed?"),Ko(),Zo(3,"select",33),oa("ngModelChange",(function(e){return Kt(n),ua().model.expressed=e})),Jo(4,"option"),Zo(5,"option",34),Na(6,"Two proportions"),Ko(),qo(7,BI,2,0,"option",35),qo(8,qI,2,0,"option",36),Ko(),Ko()}if(2&e){var r=ua();Nr(3),Qo("ngModel",r.model.expressed),Nr(4),Qo("ngIf","caseControl"==r.model.case),Nr(1),Qo("ngIf","prospective"==r.model.case)}}function GI(e,t){if(1&e){var n=na();Zo(0,"div",24),Zo(1,"label",39),Na(2,"Uncorrected chi-square or Fisher's exact test?"),Ko(),Zo(3,"select",40),oa("ngModelChange",(function(e){return Kt(n),ua().model.method=e})),Jo(4,"option"),Zo(5,"option",41),Na(6,"Uncorrected chi-square test"),Ko(),Zo(7,"option",42),Na(8,"Fisher's exact test"),Ko(),Ko(),Ko()}if(2&e){var r=ua();Nr(3),Qo("ngModel",r.model.method)}}function XI(e,t){if(1&e){var n=na();Zo(0,"div",24),Zo(1,"label",49),Na(2," Power "),Ko(),Zo(3,"input",50),oa("ngModelChange",(function(e){return Kt(n),ua(2).model.power=e})),Ko(),Ko()}if(2&e){var r=ua(2);Nr(3),Qo("ngModel",r.model.power)}}function YI(e,t){if(1&e){var n=na();Zo(0,"div",24),Zo(1,"label",51),Na(2," Sample size ("),Zo(3,"i"),Na(4,"n"),Ko(),Na(5,") "),Ko(),Zo(6,"input",52),oa("ngModelChange",(function(e){return Kt(n),ua(2).model.n=e})),Ko(),Ko()}if(2&e){var r=ua(2);Nr(6),Qo("ngModel",r.model.n)}}function QI(e,t){1&e&&(Zo(0,"label",53),Na(1," Probability of exposure in controls ("),Zo(2,"i"),Na(3,"p"),Zo(4,"sub"),Na(5,"0"),Ko(),Ko(),Na(6,") "),Ko())}function $I(e,t){1&e&&(Zo(0,"label",53),Na(1," Probability of the outcome for a control patient ("),Zo(2,"i"),Na(3,"p"),Zo(4,"sub"),Na(5,"0"),Ko(),Ko(),Na(6,") "),Ko())}function ZI(e,t){if(1&e){var n=na();Zo(0,"div",24),Zo(1,"label",54),Na(2," Probability of the outcome for an experimental patient ("),Zo(3,"i"),Na(4,"p"),Zo(5,"sub"),Na(6,"1"),Ko(),Ko(),Na(7,") "),Ko(),Zo(8,"input",55),oa("ngModelChange",(function(e){return Kt(n),ua(2).model.p1=e})),Ko(),Ko()}if(2&e){var r=ua(2);Nr(8),Qo("ngModel",r.model.p1)}}function KI(e,t){if(1&e){var n=na();Zo(0,"div",24),Zo(1,"label",56),Na(2," Relative risk of failure for experimental subjects relative to controls ("),Zo(3,"i"),Na(4,"R"),Ko(),Na(5,") "),Ko(),Zo(6,"input",57),oa("ngModelChange",(function(e){return Kt(n),ua(2).model.r=e})),Ko(),Ko()}if(2&e){var r=ua(2);Nr(6),Qo("ngModel",r.model.r)}}function JI(e,t){if(1&e){var n=na();Zo(0,"div",24),Zo(1,"label",58),Na(2," Correlation coefficient for exposure (\u03c6) "),Ko(),Zo(3,"input",59),oa("ngModelChange",(function(e){return Kt(n),ua(2).model.phi=e})),Ko(),Ko()}if(2&e){var r=ua(2);Nr(3),Qo("ngModel",r.model.phi)}}function ej(e,t){if(1&e){var n=na();Zo(0,"div",24),Zo(1,"label",60),Na(2," Odds ratio of exposure (\u03c8) "),Ko(),Zo(3,"input",61),oa("ngModelChange",(function(e){return Kt(n),ua(2).model.psi=e})),Ko(),Ko()}if(2&e){var r=ua(2);Nr(3),Qo("ngModel",r.model.psi)}}function tj(e,t){if(1&e){var n=na();Zo(0,"div"),Zo(1,"div",24),Zo(2,"label",43),Na(3," Type I Error (\u03b1) "),Ko(),Zo(4,"input",44),oa("ngModelChange",(function(e){return Kt(n),ua().model.alpha=e})),Ko(),Ko(),qo(5,XI,4,1,"div",21),qo(6,YI,7,1,"div",21),Zo(7,"div",24),qo(8,QI,7,0,"label",45),qo(9,$I,7,0,"label",45),Zo(10,"input",46),oa("ngModelChange",(function(e){return Kt(n),ua().model.p0=e})),Ko(),Ko(),qo(11,ZI,9,1,"div",21),Zo(12,"div",24),Zo(13,"label",47),Na(14," Ratio of control/experimental subjects ("),Zo(15,"i"),Na(16,"m"),Ko(),Na(17,") "),Ko(),Zo(18,"input",48),oa("ngModelChange",(function(e){return Kt(n),ua().model.m=e})),Ko(),Ko(),qo(19,KI,7,1,"div",21),qo(20,JI,4,1,"div",21),qo(21,ej,4,1,"div",21),Ko()}if(2&e){var r=ua();Nr(4),Qo("ngModel",r.model.alpha),Nr(1),Qo("ngIf","power"!=r.model.output),Nr(1),Qo("ngIf","sampleSize"!=r.model.output),Nr(2),Qo("ngIf","caseControl"==r.model.case),Nr(1),Qo("ngIf","prospective"==r.model.case),Nr(1),Qo("ngModel",r.model.p0),Nr(1),Qo("ngIf","detAlt"!=r.model.output&&"independent"==r.model.matched&&"twoProportions"==r.model.expressed),Nr(7),Qo("ngModel",r.model.m),Nr(1),Qo("ngIf","detAlt"!=r.model.output&&"independent"==r.model.matched&&"prospective"==r.model.case&&"relativeRisk"==r.model.expressed),Nr(1),Qo("ngIf","matched"==r.model.matched),Nr(1),Qo("ngIf","detAlt"!=r.model.output&&("matched"==r.model.matched||"caseControl"==r.model.case&&"oddsRatio"==r.model.expressed))}}function nj(e,t){if(1&e&&(Zo(0,"div",62),Zo(1,"button",63),Na(2," Calculate "),Ko(),Ko()),2&e){ua();var n=Wo(2);Nr(1),Qo("disabled",!n.form.valid)}}var rj=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).route=e,i.dichotService=r,i}return _createClass(n,[{key:"ngOnInit",value:function(){this.model=new DI}},{key:"onSubmit",value:function(){var e=this,t=new zI(this.dichotService);t.addModel(this.model).subscribe((function(){e.calculate.emit(t)}))}},{key:"onToggleHelp",value:function(){this.toggleHelp.emit()}},{key:"useExample",value:function(e){switch(e){case"matched":this.model.output=EI.Power,this.model.matched=RI.Matched,this.model.case=AI.CaseControl,this.model.expressed=void 0,this.model.method=void 0,this.model.alpha=.05,this.model.n=400,this.model.p0=.3,this.model.m=1,this.model.phi=.7,this.model.psi=2;break;case"ind-1":this.model.output=EI.Power,this.model.matched=RI.Independent,this.model.case=AI.Prospective,this.model.expressed=jI.TwoProportions,this.model.method=II.ChiSquare,this.model.alpha=.05,this.model.n=100,this.model.p0=.3,this.model.p1=.5,this.model.m=1;break;case"ind-2":this.model.output=EI.Power,this.model.matched=RI.Independent,this.model.case=AI.Prospective,this.model.expressed=jI.RelativeRisk,this.model.method=II.ChiSquare,this.model.alpha=.05,this.model.n=100,this.model.p0=.3,this.model.r=.5,this.model.m=1;break;case"ind-3":this.model.output=EI.Power,this.model.matched=RI.Independent,this.model.case=AI.CaseControl,this.model.expressed=jI.OddsRatio,this.model.method=II.ChiSquare,this.model.alpha=.05,this.model.n=100,this.model.p0=.3,this.model.psi=.5,this.model.m=1}}},{key:"showCalculateButton",value:function(){return void 0!==this.model.output&&(this.model.matched===RI.Matched&&void 0!==this.model.case||this.model.matched===RI.Independent&&void 0!==this.model.case&&void 0!==this.model.expressed&&void 0!==this.model.method)}}]),n}(Vw);return e.\u0275fac=function(t){return new(t||e)(Go(ig),Go(NI))},e.\u0275cmp=gt({type:e,selectors:[["dichot-start"]],features:[Ba],decls:37,vars:7,consts:[[1,"d-flex","flex-column","h-100"],[1,"h-100",3,"ngSubmit"],["startForm","ngForm"],[1,"d-flex","flex-column","form-controls"],[1,"form-group","mt-2"],[1,"d-flex","flex-row","justify-content-between","align-items-end","w-100","mb-2"],[1,"d-flex","flex-grow-1"],["for","dichot-start-output",1,"mb-0"],["type","button",1,"btn","btn-secondary","fa","fa-question-circle","p-1",3,"click"],[1,"d-flex","flex-shrink-1"],["id","dichot-start-example",1,"form-control",3,"change"],["example",""],["value",""],["value","matched"],["value","ind-1"],["value","ind-2"],["value","ind-3"],["id","dichot-start-output","required","","name","output",1,"form-control",3,"ngModel","ngModelChange"],["value","power"],["value","sampleSize"],["value","detAlt"],["class","form-group",4,"ngIf"],[4,"ngIf"],["class","d-flex flex-row calculate-button",4,"ngIf"],[1,"form-group"],["for","dichot-start-matched"],["id","dichot-start-matched","required","","name","matched",1,"form-control",3,"ngModel","ngModelChange"],["value","independent"],["for","dichot-start-case"],["id","dichot-start-case","required","","name","case",1,"form-control",3,"ngModel","ngModelChange"],["value","caseControl"],["value","prospective"],["for","dichot-start-expressed"],["id","dichot-start-expressed","required","","name","expressed",1,"form-control",3,"ngModel","ngModelChange"],["value","twoProportions"],["value","oddsRatio",4,"ngIf"],["value","relativeRisk",4,"ngIf"],["value","oddsRatio"],["value","relativeRisk"],["for","dichot-start-method"],["id","dichot-start-method","required","","name","method",1,"form-control",3,"ngModel","ngModelChange"],["value","chiSquare"],["value","fishers"],["for","dichot-start-alpha"],["id","dichot-start-alpha","type","number","step","0.01","min","0.01","max","0.99","required","","name","alpha",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-p0",4,"ngIf"],["id","dichot-start-p0","type","number","min","0.01","required","","name","p0",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-m"],["id","dichot-start-m","type","number","step","0.01","min","0.01","required","","name","m",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-power"],["id","dichot-start-power","type","number","step","0.01","min","0.01","max","0.99","required","","name","power",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-n"],["id","dichot-start-n","type","number","min","1","required","","name","n",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-p0"],["for","dichot-start-p1"],["id","dichot-start-p1","type","number","min","0.01","required","","name","p1",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-r"],["id","dichot-start-r","type","number","min","0.01","required","","name","r",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-phi"],["id","dichot-start-phi","type","number","min","0","required","","name","phi",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-psi"],["id","dichot-start-psi","type","number","min","0","required","","name","psi",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","flex-row","calculate-button"],["type","submit",1,"btn","btn-success",3,"disabled"]],template:function(e,t){if(1&e){var n=na();Zo(0,"div",0),Zo(1,"form",1,2),oa("ngSubmit",(function(){return t.onSubmit()})),Zo(3,"div",3),Zo(4,"div",4),Zo(5,"div",5),Zo(6,"div",6),Zo(7,"label",7),Na(8," What do you want to know? "),Zo(9,"button",8),oa("click",(function(){return t.onToggleHelp()})),Ko(),Ko(),Ko(),Zo(10,"div",9),Zo(11,"select",10,11),oa("change",(function(){Kt(n);var e=Wo(12);return t.useExample(e.value)})),Zo(13,"option",12),Na(14,"Use an example:"),Ko(),Zo(15,"option",13),Na(16,"Matched / Case Control"),Ko(),Zo(17,"option",14),Na(18,"Indep. / Prospective / Two Prop."),Ko(),Zo(19,"option",15),Na(20,"Indep. / Prospective / Rel. Risk"),Ko(),Zo(21,"option",16),Na(22,"Indep. / Case Control / Odds Ratio"),Ko(),Ko(),Ko(),Ko(),Zo(23,"select",17),oa("ngModelChange",(function(e){return t.model.output=e})),Jo(24,"option"),Zo(25,"option",18),Na(26,"Power"),Ko(),Zo(27,"option",19),Na(28,"Sample size"),Ko(),Zo(29,"option",20),Na(30,"Detectable alternative"),Ko(),Ko(),Ko(),qo(31,HI,9,1,"div",21),qo(32,UI,9,1,"div",21),qo(33,WI,9,3,"div",21),qo(34,GI,9,1,"div",21),qo(35,tj,22,11,"div",22),Ko(),qo(36,nj,3,1,"div",23),Ko(),Ko()}2&e&&(Nr(23),Qo("ngModel",t.model.output),Nr(8),Qo("ngIf",t.model.output),Nr(1),Qo("ngIf",t.model.output),Nr(1),Qo("ngIf",t.model.output&&"independent"==t.model.matched),Nr(1),Qo("ngIf",t.model.output&&"independent"==t.model.matched),Nr(1),Qo("ngIf",t.model.output&&t.model.matched&&t.model.case&&("matched"==t.model.matched||t.model.expressed&&t.model.method)),Nr(1),Qo("ngIf",t.showCalculateButton()))},directives:[pb,Jy,ob,P_,j_,M_,gb,Ky,db,Nc,v_,By],styles:["[_nghost-%COMP%]{height:100%}.form-controls[_ngcontent-%COMP%]{padding:5px;overflow:auto;max-height:calc(70vh - 80px)}.calculate-button[_ngcontent-%COMP%]{padding-top:10px;border-top:2px solid #888}"]}),e}();function ij(e,t){if(1&e){var n=na();Zo(0,"div",10),Zo(1,"div",11),Zo(2,"label",12),Na(3,"Name:"),Ko(),Zo(4,"input",13),oa("ngModelChange",(function(e){return Kt(n),ua().model.name=e})),Ko(),Ko(),Zo(5,"button",14),oa("click",(function(){return Kt(n),ua().onRemoveButtonClicked()})),Jo(6,"i",15),Na(7," Remove "),Ko(),Ko()}if(2&e){var r=ua();Nr(2),da("for","dichot-project-model-",r.index,"-name"),Nr(2),da("id","dichot-project-model-",r.index,"-name"),Qo("ngModel",r.model.name)}}function oj(e,t){1&e&&(Zo(0,"div",17),Na(1," Probability of exposure in controls ("),Zo(2,"i"),Na(3,"p"),Zo(4,"sub"),Na(5,"0"),Ko(),Ko(),Na(6,") "),Ko())}function aj(e,t){1&e&&(Zo(0,"div",17),Na(1," Probability of the outcome for a control patient ("),Zo(2,"i"),Na(3,"p"),Zo(4,"sub"),Na(5,"0"),Ko(),Ko(),Na(6,") "),Ko())}function sj(e,t){if(1&e&&(qo(0,oj,7,0,"div",16),qo(1,aj,7,0,"div",16)),2&e){var n=ua();Qo("ngIf","caseControl"==n.model.case),Nr(1),Qo("ngIf","prospective"==n.model.case)}}function uj(e,t){1&e&&(Zo(0,"div",17),Na(1," Probability of the outcome for an experimental patient ("),Zo(2,"i"),Na(3,"p"),Zo(4,"sub"),Na(5,"1"),Ko(),Ko(),Na(6,") "),Ko())}function lj(e,t){if(1&e){var n=na();Zo(0,"div",2),Zo(1,"app-range-slider",20),oa("ngModelChange",(function(e){return Kt(n),ua(2).changeModel("p1",e)})),tu(2,"round"),qo(3,uj,7,0,"ng-template",7),Ko(),Ko()}if(2&e){var r=ua(2);Nr(1),Qo("min",r.min.p1)("max",r.max.p1)("hard-min",.01)("ngModel",nu(2,4,r.model.p1))}}function cj(e,t){if(1&e){var n=na();Zo(0,"div",21),Zo(1,"div",22),Zo(2,"div",17),Na(3," Probability of the outcome for an experimental patient ("),Zo(4,"i"),Na(5,"p"),Zo(6,"sub"),Na(7,"1"),Ko(),Ko(),Na(8,") "),Zo(9,"strong"),Na(10,"(Computed value)"),Ko(),Ko(),Zo(11,"div",23),Zo(12,"div",24),Zo(13,"input",25),oa("ngModelChange",(function(e){return Kt(n),ua(2).model.detAltMode=e}))("ngModelChange",(function(e){return Kt(n),ua(2).changeModel("detAltMode",e)})),Ko(),Zo(14,"label",26),Na(15),Ko(),Ko(),Zo(16,"div"),Zo(17,"input",27),oa("ngModelChange",(function(e){return Kt(n),ua(2).model.detAltMode=e}))("ngModelChange",(function(e){return Kt(n),ua(2).changeModel("detAltMode",e)})),Ko(),Zo(18,"label",26),Na(19),Ko(),Ko(),Ko(),Ko(),Ko()}if(2&e){var r=ua(2);Nr(13),da("id","dichot-project-model-",r.index,"-det-alt-which-lower"),Qo("ngModel",r.model.detAltMode),Nr(1),da("for","dichot-project-model-",r.index,"-det-alt-which-lower"),Nr(1),La(" ",r.model.p1Alt," (lower) "),Nr(2),da("id","dichot-project-model-",r.index,"-det-alt-which-upper"),Qo("ngModel",r.model.detAltMode),Nr(1),da("for","dichot-project-model-",r.index,"-det-alt-which-upper"),Nr(1),La(" ",r.model.p1," (upper) ")}}function hj(e,t){if(1&e&&(Zo(0,"div",1),qo(1,lj,4,6,"div",18),qo(2,cj,20,8,"div",19),Ko()),2&e){var n=ua();Nr(1),Qo("ngIf",!n.isOutput("detAlt")),Nr(1),Qo("ngIf",n.isOutput("detAlt"))}}function fj(e,t){1&e&&(Zo(0,"div",17),Na(1," Ratio of control/experimental subjects ("),Zo(2,"i"),Na(3,"m"),Ko(),Na(4,") "),Ko())}function dj(e,t){1&e&&(Zo(0,"div",17),Na(1," Relative risk of failure for experimental subjects relative to controls ("),Zo(2,"i"),Na(3,"R"),Ko(),Na(4,") "),Ko())}function pj(e,t){if(1&e){var n=na();Zo(0,"div",2),Zo(1,"app-range-slider",28),oa("ngModelChange",(function(e){return Kt(n),ua(2).changeModel("r",e)})),tu(2,"round"),qo(3,dj,5,0,"ng-template",7),Ko(),Ko()}if(2&e){var r=ua(2);Nr(1),Qo("min",r.min.r)("max",r.max.r)("hard-min",.01)("ngModel",nu(2,4,r.model.r))}}function vj(e,t){if(1&e){var n=na();Zo(0,"div",21),Zo(1,"div",22),Zo(2,"div",17),Na(3," Relative risk of failure for experimental subjects relative to controls ("),Zo(4,"i"),Na(5,"R"),Ko(),Na(6,") "),Zo(7,"strong"),Na(8,"(Computed value)"),Ko(),Ko(),Zo(9,"div",23),Zo(10,"div",24),Zo(11,"input",25),oa("ngModelChange",(function(e){return Kt(n),ua(2).model.detAltMode=e}))("ngModelChange",(function(e){return Kt(n),ua(2).changeModel("detAltMode",e)})),Ko(),Zo(12,"label",26),Na(13),Ko(),Ko(),Zo(14,"div"),Zo(15,"input",27),oa("ngModelChange",(function(e){return Kt(n),ua(2).model.detAltMode=e}))("ngModelChange",(function(e){return Kt(n),ua(2).changeModel("detAltMode",e)})),Ko(),Zo(16,"label",26),Na(17),Ko(),Ko(),Ko(),Ko(),Ko()}if(2&e){var r=ua(2);Nr(11),da("id","dichot-project-model-",r.index,"-det-alt-which-lower"),Qo("ngModel",r.model.detAltMode),Nr(1),da("for","dichot-project-model-",r.index,"-det-alt-which-lower"),Nr(1),La(" ",r.model.rAlt," (lower) "),Nr(2),da("id","dichot-project-model-",r.index,"-det-alt-which-upper"),Qo("ngModel",r.model.detAltMode),Nr(1),da("for","dichot-project-model-",r.index,"-det-alt-which-upper"),Nr(1),La(" ",r.model.r," (upper) ")}}function gj(e,t){if(1&e&&(Zo(0,"div",1),qo(1,pj,4,6,"div",18),qo(2,vj,18,8,"div",19),Ko()),2&e){var n=ua();Nr(1),Qo("ngIf",!n.isOutput("detAlt")),Nr(1),Qo("ngIf",n.isOutput("detAlt"))}}function mj(e,t){1&e&&(Zo(0,"div",17),Na(1," Correlation coefficient for exposure (\u03c6) "),Ko())}function yj(e,t){if(1&e){var n=na();Zo(0,"div",1),Zo(1,"div",2),Zo(2,"app-range-slider",29),oa("ngModelChange",(function(e){return Kt(n),ua().changeModel("phi",e)})),tu(3,"round"),qo(4,mj,2,0,"ng-template",7),Ko(),Ko(),Ko()}if(2&e){var r=ua();Nr(2),Qo("min",r.min.phi)("max",r.max.phi)("hard-min",.01)("ngModel",nu(3,4,r.model.phi))}}function _j(e,t){1&e&&(Zo(0,"div",17),Na(1," Odds ratio of exposure (\u03c8) "),Ko())}function bj(e,t){if(1&e){var n=na();Zo(0,"div",2),Zo(1,"app-range-slider",30),oa("ngModelChange",(function(e){return Kt(n),ua(2).changeModel("psi",e)})),tu(2,"round"),qo(3,_j,2,0,"ng-template",7),Ko(),Ko()}if(2&e){var r=ua(2);Nr(1),Qo("min",r.min.psi)("max",r.max.psi)("hard-min",.01)("ngModel",nu(2,4,r.model.psi))}}function kj(e,t){if(1&e){var n=na();Zo(0,"div",21),Zo(1,"div",22),Zo(2,"div",17),Na(3," Odds ratio of exposure (\u03c8) "),Zo(4,"strong"),Na(5,"(Computed value)"),Ko(),Ko(),Zo(6,"div",23),Zo(7,"div",24),Zo(8,"input",25),oa("ngModelChange",(function(e){return Kt(n),ua(2).model.detAltMode=e}))("ngModelChange",(function(e){return Kt(n),ua(2).changeModel("detAltMode",e)})),Ko(),Zo(9,"label",26),Na(10),Ko(),Ko(),Zo(11,"div"),Zo(12,"input",27),oa("ngModelChange",(function(e){return Kt(n),ua(2).model.detAltMode=e}))("ngModelChange",(function(e){return Kt(n),ua(2).changeModel("detAltMode",e)})),Ko(),Zo(13,"label",26),Na(14),Ko(),Ko(),Ko(),Ko(),Ko()}if(2&e){var r=ua(2);Nr(8),da("id","dichot-project-model-",r.index,"-det-alt-which-lower"),Qo("ngModel",r.model.detAltMode),Nr(1),da("for","dichot-project-model-",r.index,"-det-alt-which-lower"),Nr(1),La(" ",r.model.psiAlt," (lower) "),Nr(2),da("id","dichot-project-model-",r.index,"-det-alt-which-upper"),Qo("ngModel",r.model.detAltMode),Nr(1),da("for","dichot-project-model-",r.index,"-det-alt-which-upper"),Nr(1),La(" ",r.model.psi," (upper) ")}}function wj(e,t){if(1&e&&(Zo(0,"div",1),qo(1,bj,4,6,"div",18),qo(2,kj,15,8,"div",19),Ko()),2&e){var n=ua();Nr(1),Qo("ngIf",!n.isOutput("detAlt")),Nr(1),Qo("ngIf",n.isOutput("detAlt"))}}var Cj=function(){var e=function(){function e(t){_classCallCheck(this,e),this.palette=t,this.modelChanged=new au,this.remove=new au}return _createClass(e,[{key:"ngOnInit",value:function(){this.model=this.project.getModel(this.index),this.color=this.palette.getColor(this.index),this.initializeSliderRanges()}},{key:"changeModel",value:function(e,t){var n=this;this.project.updateModel(this.index,e,t).subscribe((function(){n.updateSliderRanges(),n.modelChanged.emit()}))}},{key:"isOutput",value:function(e){return this.model.output===e}},{key:"onRemoveButtonClicked",value:function(){this.remove.emit()}},{key:"initializeSliderRanges",value:function(){this.min=new DI(this.model),this.max=new DI(this.model),this.min.alpha=.01,this.max.alpha=.99,this.min.power=.01,this.max.power=.99,this.initializeSliderRange("n"),this.initializeSliderRange("p0"),this.initializeSliderRange("m"),this.model.matched===RI.Matched?(this.initializeSliderRange("phi"),this.initializeSliderRange("psi")):this.model.matched===RI.Independent&&(this.model.expressed===jI.TwoProportions?this.initializeSliderRange("p1"):this.model.expressed===jI.RelativeRisk?this.initializeSliderRange("r"):this.model.expressed===jI.OddsRatio&&this.initializeSliderRange("psi"))}},{key:"initializeSliderRange",value:function(e){var t=this.model[e],n=rO([.5*t,1.5*t],Yw);this.min[e]=n[0],this.max[e]=n[1]}},{key:"updateSliderRanges",value:function(){this.updateSliderRange("n"),this.updateSliderRange("p0"),this.updateSliderRange("m"),this.model.matched===RI.Matched?(this.updateSliderRange("phi"),this.updateSliderRange("psi")):this.model.matched===RI.Independent&&(this.model.expressed===jI.TwoProportions?this.updateSliderRange("p1"):this.model.expressed===jI.RelativeRisk?this.updateSliderRange("r"):this.model.expressed===jI.OddsRatio&&this.updateSliderRange("psi"))}},{key:"updateSliderRange",value:function(e){var t=this.model[e];t<this.min[e]?this.min[e]=Math.floor(t):t>this.max[e]&&(this.max[e]=Math.ceil(t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Go(oO))},e.\u0275cmp=gt({type:e,selectors:[["dichot-project-model"]],inputs:{project:"project",index:"index"},outputs:{modelChanged:"modelChanged",remove:"remove"},decls:27,vars:43,consts:[["class","form-inline justify-content-between mb-2",4,"ngIf"],[1,"grow-horiz"],[1,"grow-vert","range-slider"],["name","alpha","label","Type I Error (\u03b1)",3,"min","max","hard-min","hard-max","ngModel","ngModelChange"],["name","n","label","Sample size","step","1",3,"min","max","hard-min","is-output","ngModel","ngModelChange"],["name","power","label","Power",3,"min","max","hard-min","hard-max","is-output","ngModel","ngModelChange"],["name","p0",3,"min","max","hard-min","ngModel","ngModelChange"],["rsLabel",""],["class","grow-horiz",4,"ngIf"],["name","m",3,"min","max","hard-min","ngModel","ngModelChange"],[1,"form-inline","justify-content-between","mb-2"],[1,"form-group"],[1,"mr-2",3,"for"],["name","name","type","text",1,"form-control",3,"id","ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-minus-circle"],["class","label",4,"ngIf"],[1,"label"],["class","grow-vert range-slider",4,"ngIf"],["class","grow-vert output",4,"ngIf"],["name","p1",3,"min","max","hard-min","ngModel","ngModelChange"],[1,"grow-vert","output"],[1,"det-alt","p-1"],[1,"d-flex","flex-row","mt-2"],[1,"ml-2","mr-4"],["type","radio","value","lower",3,"id","ngModel","ngModelChange"],[1,"pl-1",3,"for"],["type","radio","value","upper",3,"id","ngModel","ngModelChange"],["name","r",3,"min","max","hard-min","ngModel","ngModelChange"],["name","phi",3,"min","max","hard-min","ngModel","ngModelChange"],["name","psi",3,"min","max","hard-min","ngModel","ngModelChange"]],template:function(e,t){1&e&&(qo(0,ij,8,3,"div",0),Zo(1,"div",1),Zo(2,"div",2),Zo(3,"app-range-slider",3),oa("ngModelChange",(function(e){return t.changeModel("alpha",e)})),tu(4,"round"),Ko(),Ko(),Ko(),Zo(5,"div",1),Zo(6,"div",2),Zo(7,"app-range-slider",4),oa("ngModelChange",(function(e){return t.changeModel("n",e)})),tu(8,"ceil"),Ko(),Ko(),Ko(),Zo(9,"div",1),Zo(10,"div",2),Zo(11,"app-range-slider",5),oa("ngModelChange",(function(e){return t.changeModel("power",e)})),tu(12,"round"),Ko(),Ko(),Ko(),Zo(13,"div",1),Zo(14,"div",2),Zo(15,"app-range-slider",6),oa("ngModelChange",(function(e){return t.changeModel("p0",e)})),tu(16,"round"),qo(17,sj,2,2,"ng-template",7),Ko(),Ko(),Ko(),qo(18,hj,3,2,"div",8),Zo(19,"div",1),Zo(20,"div",2),Zo(21,"app-range-slider",9),oa("ngModelChange",(function(e){return t.changeModel("m",e)})),tu(22,"round"),qo(23,fj,5,0,"ng-template",7),Ko(),Ko(),Ko(),qo(24,gj,3,2,"div",8),qo(25,yj,5,6,"div",8),qo(26,wj,3,2,"div",8)),2&e&&(Qo("ngIf",t.project.models.length>1),Nr(3),Qo("min",t.min.alpha)("max",t.max.alpha)("hard-min",t.min.alpha)("hard-max",t.max.alpha)("ngModel",nu(4,33,t.model.alpha)),Nr(2),Ca("output",t.isOutput("sampleSize")),Nr(2),Qo("min",t.min.n)("max",t.max.n)("hard-min",1)("is-output","sampleSize"==t.model.output)("ngModel",nu(8,35,t.model.n)),Nr(2),Ca("output",t.isOutput("power")),Nr(2),Qo("min",t.min.power)("max",t.max.power)("hard-min",t.min.power)("hard-max",t.max.power)("is-output","power"==t.model.output)("ngModel",nu(12,37,t.model.power)),Nr(4),Qo("min",t.min.p0)("max",t.max.p0)("hard-min",.01)("ngModel",nu(16,39,t.model.p0)),Nr(3),Qo("ngIf","independent"==t.model.matched&&"twoProportions"==t.model.expressed),Nr(3),Qo("min",t.min.m)("max",t.max.m)("hard-min",.01)("ngModel",nu(22,41,t.model.m)),Nr(3),Qo("ngIf","independent"==t.model.matched&&"relativeRisk"==t.model.expressed),Nr(1),Qo("ngIf","matched"==t.model.matched),Nr(1),Qo("ngIf","matched"==t.model.matched||"caseControl"==t.model.case&&"oddsRatio"==t.model.expressed))},directives:[Nc,rA,Ky,db,tA,By,y_],pipes:[iA,iI],styles:[".output[_ngcontent-%COMP%]{order:1}.output[_ngcontent-%COMP%]   .det-alt[_ngcontent-%COMP%], .output[_ngcontent-%COMP%]   .range-slider[_ngcontent-%COMP%]{background-color:#d8ecf3;border-radius:.5em}.order-2[_ngcontent-%COMP%]{order:2}.alt[_ngcontent-%COMP%]{margin-top:5px}.alt[_ngcontent-%COMP%]   .range-slider[_ngcontent-%COMP%]{background-color:#ff9;border-radius:.5em}"]}),e}(),xj=["tabset"];function Sj(e,t){if(1&e&&(Zo(0,"p"),Na(1),Ko()),2&e){var n=ua(2);Nr(1),La(" Matched / ",n.project.describeCase()," ")}}function Tj(e,t){if(1&e&&(Zo(0,"p"),Na(1),Ko()),2&e){var n=ua(2);Nr(1),za(" Independent / ",n.project.describeCase()," / ",n.project.describeExpressed()," / ",n.project.describeMethod()," ")}}function Mj(e,t){if(1&e){var n=na();Zo(0,"li",16),Zo(1,"a",17),oa("click",(function(){Kt(n);var e=t.index;return ua(3).selectModel(e)})),Jo(2,"i",18),Ko(),Ko()}if(2&e){var r=t.index,i=ua(3);Nr(1),Ca("active",r==i.project.selectedIndex),Nr(1),wa("color",i.getColor(r))}}function Pj(e,t){if(1&e&&(Zo(0,"ul",14),qo(1,Mj,3,4,"li",15),Ko()),2&e){var n=ua(2);Nr(1),Qo("ngForOf",n.project.models)("ngForTrackBy",n.trackByIndex)}}function Ej(e,t){if(1&e){var n=na();Zo(0,"div",19),Zo(1,"dichot-project-model",20),oa("modelChanged",(function(){return Kt(n),ua(2).onModelChanged()}))("remove",(function(){Kt(n);var e=t.index;return ua(2).onModelRemove(e)})),Ko(),Ko()}if(2&e){var r=t.index,i=ua(2);Ca("active",r==i.project.selectedIndex)("tab",i.project.models.length>1),Nr(1),Qo("project",i.project)("index",r)}}function Oj(e,t){if(1&e){var n=na();Zo(0,"div",1),qo(1,Sj,2,1,"p",2),qo(2,Tj,2,3,"p",2),Zo(3,"div",3),Zo(4,"div",4),Zo(5,"label",5),Na(6,"Output:"),Ko(),Zo(7,"select",6),oa("ngModelChange",(function(e){return Kt(n),ua().changeOutput(e)})),Zo(8,"option",7),Na(9,"Power"),Ko(),Zo(10,"option",8),Na(11,"Sample size"),Ko(),Zo(12,"option",9),Na(13,"Detectable alternative"),Ko(),Ko(),Ko(),Zo(14,"button",10),oa("click",(function(){return Kt(n),ua().addModel()})),Jo(15,"i",11),Na(16," Add line "),Ko(),Ko(),qo(17,Pj,2,2,"ul",12),qo(18,Ej,2,6,"div",13),Ko()}if(2&e){var r=ua();Nr(1),Qo("ngIf","matched"==r.project.getMatched()),Nr(1),Qo("ngIf","independent"==r.project.getMatched()),Nr(3),da("for","dichot-project-",r.name,"-output"),Nr(2),da("id","dichot-project-",r.name,"-output"),Qo("ngModel",r.project.getOutput()),Nr(10),Qo("ngIf",r.project.models.length>1),Nr(1),Qo("ngForOf",r.project.models)}}var Rj,Aj,Ij=[{path:"dichot",component:xA,data:{type:Lw.Dichot},children:[{path:"",component:rj},{path:":id",component:function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this)).projectService=e,s.plotOptions=r,s.palette=i,s.router=o,s.route=a,s}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.subscribe((function(t){var n=t.get("id");if(n){var r=parseInt(n)-1;e.name="".concat(r),e.project=e.projectService.getProject(Lw.Dichot,r)}else e.project=void 0;e.project?e.selectedModel=e.project.getModel(e.project.selectedIndex):(e.selectedModel=void 0,e.router.navigate([".."],{relativeTo:e.route})),e.projectSwitched.emit(e.project)}))}},{key:"changeOutput",value:function(e){var t=this;this.project.updateModel(0,"output",e).subscribe((function(){t.projectChanged.emit()}))}},{key:"selectModel",value:function(e){this.project.selectedIndex=e,this.selectedModel=this.project.getModel(e),this.projectChanged.emit()}},{key:"addModel",value:function(){var e=this,t=this.selectedModel.shallowClone();this.project.addModel(t).subscribe((function(){e.project.selectedIndex=e.project.models.length-1,e.projectChanged.emit()}))}},{key:"onModelRemove",value:function(e){this.removeModel(e)}},{key:"removeModel",value:function(e){var t=this;this.project.removeModel(e).subscribe((function(){t.project.selectedIndex>=t.project.models.length&&t.project.selectedIndex--,t.projectChanged.emit()}))}},{key:"onModelChanged",value:function(){this.projectChanged.emit()}},{key:"trackByIndex",value:function(e,t){return e}},{key:"getColor",value:function(e){return this.palette.getColor(e,this.plotOptions.paletteTheme)}}]),n}(zw);return e.\u0275fac=function(t){return new(t||e)(Go(Nw),Go(iO),Go(oO),Go(pm),Go(ig))},e.\u0275cmp=gt({type:e,selectors:[["dichot-project"]],viewQuery:function(e,t){var n;1&e&&_u(xj,!0),2&e&&mu(n=xu())&&(t.tabset=n.first)},features:[Ba],decls:1,vars:1,consts:[["class","grow-vert",4,"ngIf"],[1,"grow-vert"],[4,"ngIf"],[1,"form-inline","justify-content-between","mb-2"],[1,"form-group"],[1,"mr-2",3,"for"],["name","output",1,"form-control",3,"id","ngModel","ngModelChange"],["value","power"],["value","sampleSize"],["value","detAlt"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus-circle"],["class","nav nav-tabs mt-2",4,"ngIf"],["class","project-model",3,"active","tab",4,"ngFor","ngForOf"],[1,"nav","nav-tabs","mt-2"],["class","nav-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nav-item"],[1,"nav-link","nav-model-link",3,"click"],[1,"fa","fa-square"],[1,"project-model"],[3,"project","index","modelChanged","remove"]],template:function(e,t){1&e&&qo(0,Oj,19,7,"div",0),2&e&&Qo("ngIf",t.project)},directives:[Nc,M_,Ky,db,P_,j_,jc,Cj],styles:[".overview[_ngcontent-%COMP%]{text-align:right}.btn-secondary[_ngcontent-%COMP%]{padding:.3rem}ul.nav[_ngcontent-%COMP%]{border-bottom:0;z-index:1}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]{margin-bottom:-1px}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   a.nav-link[_ngcontent-%COMP%]{cursor:pointer;background-color:#ddd;border-color:#bbb #bbb #aaa;font-size:x-large;padding:.25rem .75rem}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   a.nav-link.active[_ngcontent-%COMP%]{border-color:#aaa #aaa #f6f6f6;background-color:#f6f6f6}.project-model[_ngcontent-%COMP%]{display:none}.project-model.active[_ngcontent-%COMP%]{display:flex;flex:auto;flex-direction:column}.project-model.tab[_ngcontent-%COMP%]{padding:1rem .5rem 0;border:1px solid #aaa;background-color:#f6f6f6}"]}),e}()}]}],jj=((Aj=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Aj}),Aj.\u0275inj=ve({factory:function(e){return new(e||Aj)},providers:[NI],imports:[[Zc,yb,Ay,jw,Nm.forChild(Ij),Dw]]}),Aj),Dj=((Rj=function(){function e(){_classCallCheck(this,e),this.konami=new au,this.konamiKeys=[38,38,40,40,37,39,37,39,66,65],this.keyIndex=0}return _createClass(e,[{key:"onKeyDown",value:function(e){Ml.activateKonami&&(e.keyCode===this.konamiKeys[this.keyIndex]?(this.keyIndex++,this.keyIndex===this.konamiKeys.length&&this.konami.emit()):this.keyIndex=0)}}]),e}()).\u0275fac=function(e){return new(e||Rj)},Rj.\u0275dir=wt({type:Rj,selectors:[["","appKonami",""]],hostBindings:function(e,t){1&e&&oa("keydown",(function(e){return t.onKeyDown(e)}),!1,Bn)},outputs:{konami:"konami"}}),Rj),Nj=["menu"],Fj=function(){return{exact:!0}};function Lj(e,t){if(1&e){var n=na();Zo(0,"div",9),oa("@mainState.start",(function(){return Kt(n),ua().mainAnimationStart()}))("@mainState.done",(function(){return Kt(n),ua().animationDone()})),Zo(1,"ul",10),Zo(2,"li",11),Zo(3,"a",12),oa("click",(function(e){return Kt(n),ua().showTTest(),e.preventDefault()})),Na(4,"t-test"),Ko(),Ko(),Zo(5,"li",11),Zo(6,"a",13),Na(7,"z-test"),Ko(),Ko(),Zo(8,"li",11),Zo(9,"a",14),Na(10,"Dichotomous"),Ko(),Ko(),Zo(11,"li",11),Zo(12,"a",15),Na(13,"Survival"),Ko(),Ko(),Zo(14,"li",11),Zo(15,"a",16),Na(16,"Regression"),Ko(),Ko(),Zo(17,"li",11),Zo(18,"a",17),Na(19,"Mantel-Haenszel"),Ko(),Ko(),Zo(20,"li",11),Zo(21,"a",18),Jo(22,"i",19),Ko(),Ko(),Ko(),Ko()}if(2&e){var r=ua(),i=Wo(10);Qo("@mainState",r.state),Nr(12),Qo("ngbPopover",i),Nr(3),Qo("ngbPopover",i),Nr(3),Qo("ngbPopover",i),Nr(3),Qo("routerLinkActiveOptions",Zs(5,Fj))}}function Vj(e,t){if(1&e){var n=na();Zo(0,"div",20),oa("@ttestState.done",(function(){return Kt(n),ua().animationDone()})),Zo(1,"div",21),Na(2,"t-test Design:"),Ko(),Zo(3,"ul",10),Zo(4,"li",11),Zo(5,"a",22),Na(6,"Paired"),Ko(),Ko(),Zo(7,"li",11),Zo(8,"a",23),Na(9,"Independent"),Ko(),Ko(),Zo(10,"li",11),Zo(11,"a",24),oa("click",(function(e){return Kt(n),ua().showMain(),e.preventDefault()})),Jo(12,"i",19),Ko(),Ko(),Ko(),Ko()}2&e&&(Qo("@ttestState",ua().state),Nr(11),Qo("routerLinkActiveOptions",Zs(2,Fj)))}function zj(e,t){1&e&&Na(0," under development\n")}var Hj,Uj=function(e){return e.Main="main",e.MainTTest="mainttest",e.TTestInit="ttestinit",e.TTest="ttest",e.TTestMain="ttestmain",e}({}),Bj=((Hj=function(){function e(t){_classCallCheck(this,e),this.router=t,this.urlInitialized=!1,this.state=Uj.Main}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.router.events.pipe(fp((function(e){return e instanceof Jp}))).subscribe((function(t){e.urlChanged(t.url)}))}},{key:"showTTest",value:function(){this.state===Uj.Main&&(this.state=Uj.MainTTest,this.popoverElement&&this.popoverElement.close())}},{key:"showMain",value:function(){this.state===Uj.TTest&&(this.state=Uj.TTestMain)}},{key:"mainAnimationStart",value:function(){if(this.state===Uj.MainTTest){var e=this.menuElement.nativeElement,t=e.getBoundingClientRect();e.style.width="".concat(t.width,"px")}}},{key:"animationDone",value:function(){this.state===Uj.MainTTest?this.state=Uj.TTestInit:this.state===Uj.TTestMain&&(this.state=Uj.Main)}},{key:"isMainVisible",value:function(){return this.state===Uj.Main||this.state==Uj.MainTTest}},{key:"isTTestVisible",value:function(){return this.state===Uj.TTest||this.state===Uj.TTestMain||this.state===Uj.TTestInit}},{key:"urlChanged",value:function(e){var t=this;/^\/t-test\//.test(e)?(this.state=Uj.TTest,setTimeout((function(){t.menuElement.nativeElement.style.width="auto"}),1e3)):/^\/(z-test|dichot)/.test(e)?(this.state=Uj.Main,this.popoverElement&&this.popoverElement.close()):(this.state=Uj.Main,!this.urlInitialized&&this.popoverElement&&setTimeout((function(){t.popoverElement&&t.popoverElement.open()}),200)),this.urlInitialized=!0}}]),e}()).\u0275fac=function(e){return new(e||Hj)(Go(pm))},Hj.\u0275cmp=gt({type:Hj,selectors:[["app-menu"]],viewQuery:function(e,t){var n;1&e&&(yu(Nj,!0),_u(yw,!0)),2&e&&(mu(n=xu())&&(t.menuElement=n.first),mu(n=xu())&&(t.popoverElement=n.first))},decls:11,vars:2,consts:[[1,"navbar","d-flex","flex-nowrap","flex-row","justify-content-between",2,"flex","0 0 auto"],[1,"navbar-brand"],["src","assets/ps.jpg","width","30","height","30","alt","",1,"d-inline-block","align-top"],["routerLink",""],[1,"d-flex","flex-row","menu"],["menu",""],["class","d-flex flex-row","ngbPopover","Choose a study design to get started.","container","body","placement","bottom","triggers","",4,"ngIf"],["class","d-flex flex-row",4,"ngIf"],["underdevelopmentHelp",""],["ngbPopover","Choose a study design to get started.","container","body","placement","bottom","triggers","",1,"d-flex","flex-row"],[1,"nav","nav-pills"],[1,"nav-item"],["href","#",1,"nav-link",3,"click"],["routerLink","/z-test","routerLinkActive","active",1,"nav-link"],["routerLink","/dichot","routerLinkActive","active",1,"nav-link"],["href","#","popoverTitle","Survival","placement","bottom","triggers","hover","container","body",1,"nav-link","disabled",3,"ngbPopover"],["href","#","popoverTitle","Regression","placement","bottom","triggers","hover","container","body",1,"nav-link","disabled",3,"ngbPopover"],["href","#","popoverTitle","Mantel-Haenszel","placement","bottom","triggers","hover","container","body",1,"nav-link","disabled",3,"ngbPopover"],["routerLink","","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],[1,"fa","fa-home"],[1,"d-flex","flex-row"],[1,"navbar-text","mr-2"],["routerLink","/t-test/paired","routerLinkActive","active",1,"nav-link"],["routerLink","/t-test/ind","routerLinkActive","active",1,"nav-link"],["routerLink","","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions","click"]],template:function(e,t){1&e&&(Zo(0,"nav",0),Zo(1,"div",1),Jo(2,"img",2),Zo(3,"a",3),Na(4,"Power and Sample Size"),Ko(),Ko(),Zo(5,"div",4,5),qo(7,Lj,23,6,"div",6),qo(8,Vj,13,3,"div",7),Ko(),Ko(),qo(9,zj,1,0,"ng-template",null,8,Pu)),2&e&&(Nr(7),Qo("ngIf",t.isMainVisible()),Nr(1),Qo("ngIf",t.isTTestVisible()))},directives:[Qk,gm,Nc,yw,wm],styles:[".navbar-brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.nav-link.disabled[_ngcontent-%COMP%]{cursor:not-allowed}.menu[_ngcontent-%COMP%]{justify-content:end;overflow:hidden}"],data:{animation:[Ah("mainState",[Nh("main, maininit",Dh({opacity:1,transform:"translateX(0)"})),Fh("main => mainttest",[Ih("200ms",Dh({opacity:0,transform:"translateX(-100%)"}))]),Fh("void => main",[Dh({opacity:0,transform:"translateX(-100%)"}),Ih("200ms")])]),Ah("ttestState",[Nh("ttest",Dh({opacity:1,transform:"translateX(0)",flexGrow:0})),Nh("ttestinit",Dh({opacity:1,transform:"translateX(0)",flexGrow:1})),Fh("ttest => ttestmain",[Ih("200ms",Dh({opacity:0,transform:"translateX(-100%)"}))]),Fh("ttestinit => ttest",Ih("200ms")),Fh("void => ttest",[Dh({opacity:0,transform:"translateX(-100%)"}),Ih("200ms")])])]}}),Hj);function qj(e,t){if(1&e){var n=na();Zo(0,"audio",2),oa("ended",(function(){return Kt(n),ua().audioEnded()})),Jo(1,"source",3),Ko()}}var Wj,Gj,Xj,Yj=((Wj=function(){function e(){_classCallCheck(this,e),this.konami=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"konamiCode",value:function(){this.konami=!0}},{key:"audioEnded",value:function(){this.konami=!1}}]),e}()).\u0275fac=function(e){return new(e||Wj)},Wj.\u0275cmp=gt({type:Wj,selectors:[["app-root"]],decls:4,vars:1,consts:[["id","app","appKonami","",1,"container-fluid","d-flex","flex-column","h-100",3,"konami"],["autoplay","",3,"ended",4,"ngIf"],["autoplay","",3,"ended"],["src","assets/contra.mp3","type","audio/mpeg"]],template:function(e,t){1&e&&(Zo(0,"div",0),oa("konami",(function(){return t.konamiCode()})),Jo(1,"app-menu"),qo(2,qj,2,0,"audio",1),Jo(3,"router-outlet"),Ko()),2&e&&(Nr(2),Qo("ngIf",t.konami))},directives:[Dj,Bj,Nc,Sm],styles:[""]}),Wj),Qj=[{path:"",component:(Gj=function(){function e(){_classCallCheck(this,e),this.commitHash=PR.substr(0,7),this.buildTimestamp="2020-04-06T17:35:05-05:00"}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),Gj.\u0275fac=function(e){return new(e||Gj)},Gj.\u0275cmp=gt({type:Gj,selectors:[["app-welcome"]],decls:24,vars:4,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-4","d-flex","flex-column","align-items-end"],[1,"mb-3"],["src","assets/ps-large.png"],["src","assets/biostat.jpg"],[2,"font-size","smaller","text-align","center"],[1,"col-8"],[1,"mb-4"],["href","https://statcomp2.app.vumc.org/ps/"],["href","http://biostat.mc.vanderbilt.edu/wiki/Main/PowerSampleSize"]],template:function(e,t){1&e&&(Zo(0,"div",0),Zo(1,"div",1),Zo(2,"div",2),Zo(3,"div"),Zo(4,"div",3),Jo(5,"img",4),Ko(),Zo(6,"div",3),Jo(7,"img",5),Ko(),Zo(8,"div",6),Na(9),tu(10,"date"),Ko(),Ko(),Ko(),Zo(11,"div",7),Zo(12,"p",8),Na(13," PS is an interactive program for performing power and sample size calculations. It may be run off the internet at "),Zo(14,"a",9),Na(15,"https://statcomp2.app.vumc.org/ps/"),Ko(),Na(16," or downloaded for free. This version can be used for studies with dichotomous or continuous, response measures. A older version, which also handles other designs may be downloaded from "),Zo(17,"a",10),Na(18,"http://biostat.mc.vanderbilt.edu/wiki/Main/PowerSampleSize"),Ko(),Na(19,". Work on expanding the new version to handle all of the designs from the older version are in progress. "),Ko(),Zo(20,"p"),Na(21,"The alternative hypothesis of interest may be specified either in terms of differing means, or in terms of relative risks or odds ratios. Studies with dichotomous or continuous outcomes may involve either a matched or independent study design. The program can determine the sample size needed to detect a specified alternative hypothesis with the required power, the power with which a specific alternative hypothesis can be detected with a given sample size, or the specific alternative hypotheses that can be detected with a given power and sample size. "),Ko(),Zo(22,"p"),Na(23," The PS program can produce graphs to explore the relationships between power, sample size and detectable alternative hypotheses. It is often helpful to hold one of these variables constant and plot the other two against each other. The program can generate graphs of sample size versus power for a specific alternative hypothesis, sample size versus detectable alternative hypotheses for a specified power, or power versus detectable alternative hypotheses for a specified sample size. Multiple curves can be plotted on a single graphic. "),Ko(),Ko(),Ko(),Ko()),2&e&&(Nr(9),Va(" Build version: ",t.commitHash," (",nu(10,2,t.buildTimestamp),") "))},pipes:[Qc],styles:[""]}),Gj)}],$j=((Xj=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Xj,bootstrap:[Yj]}),Xj.\u0275inj=ve({factory:function(e){return new(e||Xj)},providers:[Fw,sR,LO,oO,iO,Nw],imports:[[Oh,tp,Nm.forRoot(Qj),Ay,jw,Dw,PI,jj]]}),Xj);Ml.production&&function(){if(vr)throw new Error("Cannot enable prod mode after platform setup.");pr=!1}(),Ph().bootstrapModule($j).catch((function(e){return console.log(e)}))}},[[0,0]]]);